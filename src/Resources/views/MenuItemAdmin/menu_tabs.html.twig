{#

This file is part of the Networking package.

(c) net working AG <info@networking.ch>

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.

#}

<ul class="menu-tabs nav nav-tabs nav-tabs-line">
    {% for key, menu in menus %}
        <li class="nav-item">
            <a class="nav-link {% if loop.first %}active{% endif %}" href="#menu_{{ menu.rootNode.id }}" data-toggle="tab">{{ menu.rootNode.name }}
            </a>
        </li>
    {% endfor %}
    {% if is_granted("ROLE_SUPER_ADMIN") %}
        <li class="nav-item">
            <a href="{{ admin.generateUrl('create', {'subclass': 'menu'}) }}" class="nav-link menu-dialog-link">
                <i class="la la-plus"></i></a>
        </li>
    {% endif %}
</ul>

<div class="tab-content">
    {% for key, menu in menus %}
        <div class="tab-pane navigation menu-tree sortable {% if loop.first %}active{% endif %}" id="menu_{{ menu.rootNode.id }}">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="my-6">
                        <span class="info-soft">{{ menu.rootNode.name }}</span>
                        {% if  admin.isGranted('CREATE')%}
                            <a class="btn btn-primary btn-sm menu-dialog-link" href="{{ admin.generateUrl('create', {'subclass': 'menu item', 'root_id': menu.rootNode.id}) }}">
                                <i class="la la-plus icon-white"></i> {{ 'button.create.menu_item'|trans({}, admin.translationDomain) }}
                            </a>
                        {% endif %}
                    </h3>
                    <p class="info-soft margin-top">
                        <i>
                            {% if menu.rootNode.description %}
                                {{ menu.rootNode.description }}
                            {% else %}
                                {{ 'info.please_enter_description'|trans({}, admin.translationDomain) }}
                            {% endif %}
                        </i>
                    </p>
                    {% if is_granted("ROLE_SUPER_ADMIN") %}
                        <p>
                            <a href="{{ admin.generateUrl('edit', {'subclass': 'menu', 'id': menu.rootNode.id}) }}"
                               class="colored-link menu-dialog-link">
                                {{ 'button.menu.settings'|trans({}, admin.translationDomain) }}
                            </a> |
                            <a href="{{ admin.generateUrl('delete', {'subclass': 'menu', 'id': menu.rootNode.id}) }}"
                               class="colored-link menu-dialog-link">
                                {{ 'button.menu.delete'|trans({}, admin.translationDomain) }}
                            </a>
                        </p>
                    {% endif %}
                </div>
            </div>
            <div class="clearfix"></div>

            {% if  menu.navigation %}
                <div class="text-muted">
                    <div class="float-left">
                        {{ 'label.menu_item_name'|trans({}, admin.translationDomain) }}
                    </div>

                    <div class="float-right align-right mr-13">
                        {{ 'label.linked_resource'|trans({}, admin.translationDomain) }}
                    </div>
                    <div class="clearfix">&nbsp;</div>
                </div>
                <div class="menu_tree" data-tree="{{ menu.navigation|json_encode }}"></div>
            {% endif %}

        </div>
    {% endfor %}
</div>

