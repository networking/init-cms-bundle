{"version":3,"file":"mediaAdmin.24eff5e0.js","mappings":"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","sources":["webpack://init-cms-bundle/webpack/runtime/chunk loaded","webpack://init-cms-bundle/./assets/cms/cms-admin.js","webpack://init-cms-bundle/./assets/cms/media-admin.js","webpack://init-cms-bundle/webpack/bootstrap","webpack://init-cms-bundle/webpack/runtime/compat get default export","webpack://init-cms-bundle/webpack/runtime/define property getters","webpack://init-cms-bundle/webpack/runtime/global","webpack://init-cms-bundle/webpack/runtime/hasOwnProperty shorthand","webpack://init-cms-bundle/webpack/runtime/make namespace object","webpack://init-cms-bundle/webpack/runtime/jsonp chunk loading","webpack://init-cms-bundle/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","window.axiosConfig = { headers: { \"X-Requested-With\": \"XMLHttpRequest\" } }\n\nimport CMSGalleryEntity from \"./gallery-entity\"\nimport CMSMediaEntity from \"./media-entity\"\nimport CMSModelList from \"./model-list\"\nimport CMSOneToManySortable from \"./one-to-many-sortable\"\nimport CMSSortableCollection from \"./sortable-collection\"\nimport { CMSTranslator } from \"./translator\"\nimport \"select2\"\n\n$.fn.select2.defaults.set(\"theme\", \"bootstrap5\")\n$.fn.select2.defaults.set(\"width\", \"100%\")\n$.fn.select2.defaults.set(\"selectionCssClass\", \":all:\")\n// Class definition\nconst CMSAdmin = {\n\t// Define shared variables\n\tlistDialog: null,\n\trouting: null,\n\ttranslations: null,\n\tcollectionCounters: [],\n\tdebug: false,\n\n\tasync getTranslator() {\n\t\tif (!this.translations) {\n\t\t\tthis.translations = CMSTranslator.load()\n\t\t}\n\n\t\treturn this.translations\n\t},\n\n\tasync init(debug) {\n\t\tthis.debug = debug\n\t\tthis.translations = await this.getTranslator()\n\t\tCMSMediaEntity.init()\n\t\tCMSGalleryEntity.init()\n\t\tCMSModelList.init()\n\t\tCMSOneToManySortable.init()\n\t\tthis.initLinkDialogs()\n\t\tthis.initializeDatePickers()\n\t\tthis.initializeDateTimePickers()\n\t\tthis.initSelect2()\n\t\tthis.initCkeditor()\n\t\tthis.initCollectionType()\n\t\tthis.initTabs()\n\t},\n\n\tinitTabs(el) {\n\t\tel ??= document.body\n\n\t\tconst elements = [].slice.call(\n\t\t\tdocument.querySelectorAll('[data-kt-tabs=\"true\"]'),\n\t\t)\n\n\t\telements.forEach((element) => {\n\t\t\tif (element.getAttribute(\"data-kt-initialized\") === \"1\") {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst triggerEl = el.querySelector(\n\t\t\t\t`a[href=\"${element.dataset.activeTab}\"]`,\n\t\t\t)\n\t\t\tconst tab = new bootstrap.Tab(triggerEl) // Select tab by name\n\t\t\tconst tabFieldId = element.dataset.tabField\n\t\t\ttab.show()\n\t\t\tconst tabEls = document.querySelectorAll('a[data-bs-toggle=\"tab\"]')\n\t\t\tconst tabInputField = document.querySelector(tabFieldId)\n\t\t\ttabEls.forEach((el) => {\n\t\t\t\tel.addEventListener(\"shown.bs.tab\", (event) => {\n\t\t\t\t\ttabInputField.value = event.target.dataset.tabIndex\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t},\n\n\tinitToolTips(el) {\n\t\tel ??= document.body\n\n\t\tconst tooltipTriggerList = [].slice.call(\n\t\t\tel.querySelectorAll('[data-bs-toggle=\"tooltip\"]'),\n\t\t)\n\t\ttooltipTriggerList.map(\n\t\t\t(tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl),\n\t\t)\n\t},\n\tinitLinkDialogs() {\n\t\tKTUtil.on(document.body, \".dialog-link\", \"click\", (event) => {\n\t\t\tthis.createLinkDialog(event)\n\t\t})\n\t},\n\n\tcreateLinkDialog(event) {\n\t\tevent.preventDefault()\n\t\tevent.stopPropagation()\n\t\tthis.initializeDialog()\n\n\t\tlet link = event.target\n\n\t\tif (!link.getAttribute(\"href\")) {\n\t\t\tlink = link.closest(\"a\")\n\t\t}\n\n\t\tfetch(link.getAttribute(\"href\"), {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t\"X-Requested-With\": \"XMLHttpRequest\",\n\t\t\t},\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.text()\n\t\t\t})\n\t\t\t.then((html) => {\n\t\t\t\tdocument\n\t\t\t\t\t.querySelector(\"#list_dialog\")\n\t\t\t\t\t.querySelector(\".modal-content\").innerHTML = html\n\t\t\t\tthis.listDialog.show()\n\t\t\t})\n\t},\n\n\tinitializeDialog() {\n\t\tif (!this.listDialog) {\n\t\t\tthis.listDialog = new bootstrap.Modal(\n\t\t\t\tdocument.querySelector(\"#list_dialog\", {\n\t\t\t\t\theight: \"auto\",\n\t\t\t\t\twidth: 650,\n\t\t\t\t\tshow: false,\n\t\t\t\t}),\n\t\t\t)\n\t\t}\n\t},\n\n\tinitializeDatePickers() {\n\t\tdocument\n\t\t\t.querySelectorAll('[data-provider=\"datepicker\"]')\n\t\t\t.forEach((element) => {\n\t\t\t\tconst dateFormat = element.dataset.dateFormat\n\t\t\t\tconst locale = element.dataset.dateLanguage\n\t\t\t\tflatpickr(element, {\n\t\t\t\t\tdateFormat: dateFormat,\n\t\t\t\t\tlocale: locale,\n\t\t\t\t\tallowInput: true,\n\t\t\t\t})\n\t\t\t})\n\t},\n\n\tinitializeDateTimePickers() {\n\t\tdocument\n\t\t\t.querySelectorAll('[data-provider=\"datetimepicker\"]')\n\t\t\t.forEach((element) => {\n\t\t\t\tconst dateFormat = element.dataset.dateFormat\n\t\t\t\tconst locale = element.dataset.dateLanguage\n\t\t\t\tflatpickr(element, {\n\t\t\t\t\tdateFormat: dateFormat,\n\t\t\t\t\tlocale: locale,\n\t\t\t\t\tenableTime: true,\n\t\t\t\t\tallowInput: true,\n\t\t\t\t\ttime_24hr: true,\n\t\t\t\t})\n\t\t\t})\n\t},\n\tinitSelect2() {\n\t\tconst elements = [].slice.call(\n\t\t\tdocument.querySelectorAll(\n\t\t\t\t'[data-control=\"select2\"], [data-kt-select2=\"true\"]',\n\t\t\t),\n\t\t)\n\n\t\telements.forEach((element) => {\n\t\t\tif (element.getAttribute(\"data-kt-initialized\") === \"1\") {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst select = $(`#${element.id}`)\n\t\t\tconst parent = select.parent()\n\t\t\tselect\n\t\t\t\t.select2({\n\t\t\t\t\tdropdownParent: parent,\n\t\t\t\t})\n\t\t\t\t.on(\"select2:select\", (e) => {\n\t\t\t\t\tconst event = new Event(\"change\", { bubbles: true })\n\t\t\t\t\te.target.dispatchEvent(event)\n\t\t\t\t})\n\n\t\t\telement.setAttribute(\"data-kt-initialized\", \"1\")\n\t\t})\n\t},\n\tinitCkeditor() {\n\t\tconst elements = [].slice.call(\n\t\t\tdocument.querySelectorAll(\n\t\t\t\t'[data-control=\"ckeditor\"], [data-kt-ckeditor=\"true\"]',\n\t\t\t),\n\t\t)\n\n\t\telements.forEach((element) => {\n\t\t\tif (element.getAttribute(\"data-kt-initialized\") === \"1\") {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst id = element.getAttribute(\"id\")\n\n\t\t\tconst config = JSON.parse(element.dataset.config)\n\t\t\tconst plugins = JSON.parse(element.dataset.plugins)\n\t\t\tconst templates = JSON.parse(element.dataset.templates)\n\t\t\tconst styles = JSON.parse(element.dataset.styles)\n\n\t\t\tJSON.parse(element.dataset.filebrowser)\n\t\t\tif (CKEDITOR.instances[id]) {\n\t\t\t\tCKEDITOR.instances[id].destroy(true)\n\t\t\t\tdelete CKEDITOR.instances[id]\n\t\t\t}\n\n\t\t\tfor (const [key, value] of Object.entries(plugins)) {\n\t\t\t\tCKEDITOR.plugins.addExternal(key, value.path, value.filename)\n\t\t\t}\n\n\t\t\tfor (const [key, value] of Object.entries(styles)) {\n\t\t\t\tif (CKEDITOR.stylesSet.get(key) === null) {\n\t\t\t\t\tCKEDITOR.stylesSet.add(key, value)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const [key, value] of Object.entries(templates)) {\n\t\t\t\tCKEDITOR.addTemplates(key, value)\n\t\t\t}\n\n\t\t\tconst params = {}\n\n\t\t\tfor (const [key, value] of Object.entries(config)) {\n\t\t\t\tif (key === \"filebrowserBrowseRoute\") {\n\t\t\t\t\tparams.filebrowserBrowseUrl = CMSRouting.generate(\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tconfig.filebrowserBrowseRouteParameters,\n\t\t\t\t\t)\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tif (key === \"filebrowserImageBrowseRoute\") {\n\t\t\t\t\tparams.filebrowserImageBrowseUrl = CMSRouting.generate(\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tconfig.filebrowserImageBrowseRouteParameters,\n\t\t\t\t\t)\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tif (key === \"filebrowserUploadRoute\") {\n\t\t\t\t\tparams.filebrowserUploadUrl = CMSRouting.generate(\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tconfig.filebrowserUploadRouteParameters,\n\t\t\t\t\t)\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tif (key === \"filebrowserImageUploadRoute\") {\n\t\t\t\t\tparams.filebrowserImageUploadUrl = CMSRouting.generate(\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tconfig.filebrowserImageUploadRouteParameters,\n\t\t\t\t\t)\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tkey === \"filebrowserBrowseRouteParameters\" ||\n\t\t\t\t\tkey === \"filebrowserImageBrowseRouteParameters\" ||\n\t\t\t\t\tkey === \"filebrowserUploadRouteParameters\" ||\n\t\t\t\t\tkey === \"filebrowserImageUploadRouteParameters\"\n\t\t\t\t) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tparams[key] = value\n\t\t\t}\n\t\t\tCKEDITOR.disableAutoInline = true\n\t\t\tconst editor = CKEDITOR.replace(id, params)\n\n\t\t\teditor.on(\"change\", (evt) => {\n\t\t\t\telement.value = evt.editor.getData()\n\t\t\t})\n\n\t\t\telement.setAttribute(\"data-kt-initialized\", \"1\")\n\t\t})\n\t},\n\tinitCollectionType() {\n\t\tdocument.querySelectorAll(\"[data-collection-list]\").forEach((element) => {\n\t\t\tthis.setupCollectionType(element)\n\t\t})\n\t},\n\tsetupCollectionType(subject) {\n\t\tif (subject.dataset.cmsCollectionType) {\n\t\t\treturn\n\t\t}\n\n\t\tCMSSortableCollection.init()\n\n\t\tKTUtil.on(subject, \"[data-collection-add-btn]\", \"click\", (event) => {\n\t\t\tevent.preventDefault()\n\t\t\tlet btn = event.target\n\t\t\tif (!btn.classList.contains(\"btn\")) {\n\t\t\t\tbtn = btn.closest(\".btn\")\n\t\t\t}\n\n\t\t\tlet counter = 0\n\t\t\tconst containerName = btn.dataset.collectionAddBtn\n\t\t\tconst container = document.querySelector(`#${containerName}`)\n\t\t\tconst lastItem = [\n\t\t\t\t...document.querySelectorAll(`div[id^=\"${container.id}_\"]`),\n\t\t\t].pop()\n\t\t\tif (lastItem) {\n\t\t\t\tcounter = parseInt(lastItem.id.replace(`${container.id}_`, \"\"))\n\t\t\t\tcounter += 1\n\t\t\t}\n\n\t\t\tlet proto = container.dataset.prototype\n\t\t\tconst protoName = container.dataset.prototypeName || \"__name__\"\n\t\t\t// Set field id\n\t\t\tconst idRegexp = new RegExp(`${container.id}_${protoName}`, \"g\")\n\t\t\tproto = proto.replace(idRegexp, `${container.id}_${counter}`)\n\n\t\t\t// Set field name\n\t\t\tconst parts = container.id.split(\"_\")\n\t\t\tconst nameRegexp = new RegExp(\n\t\t\t\t`${parts[parts.length - 1]}\\\\]\\\\[${protoName}`,\n\t\t\t\t\"g\",\n\t\t\t)\n\t\t\tproto = proto.replace(\n\t\t\t\tnameRegexp,\n\t\t\t\t`${parts[parts.length - 1]}][${counter}`,\n\t\t\t)\n\n\t\t\tcontainer.insertAdjacentHTML(\"beforeend\", proto)\n\t\t\tbtn.dispatchEvent(\n\t\t\t\tnew CustomEvent(\"afterAddItem\", {\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tdetail: { proto: proto, counter: counter },\n\t\t\t\t}),\n\t\t\t)\n\t\t\tCMSAdmin.initSpecialFields()\n\t\t})\n\n\t\tKTUtil.on(subject, \"[data-collection-remove-btn]\", \"click\", (event) => {\n\t\t\tevent.preventDefault()\n\n\t\t\tlet btn = event.target\n\n\t\t\tif (!btn.classList.contains(\"btn\")) {\n\t\t\t\tbtn = btn.closest(\".btn\")\n\t\t\t}\n\t\t\tbtn.closest(\".collection-item\").remove()\n\t\t\tbtn.dispatchEvent(new CustomEvent(\"afterRemoveItem\", { bubbles: true }))\n\t\t})\n\n\t\tsubject.dataset.cmsCollectionType = 1\n\t},\n\tinitSpecialFields() {\n\t\tCMSMediaEntity.init()\n\t\tCMSGalleryEntity.init()\n\t\tCMSModelList.init()\n\t\tthis.initializeDatePickers()\n\t\tthis.initializeDateTimePickers()\n\t\tthis.createSelect2()\n\t\tthis.initCkeditor()\n\t\tthis.initCollectionType()\n\t},\n\tlog(...args) {\n\t\tif (!this.debug) {\n\t\t\treturn\n\t\t}\n\n\t\tconst msg = `[Init CMS] ${Array.prototype.join.call(args, \", \")}`\n\n\t\tif (window.console?.log) {\n\t\t\twindow.console.log(msg)\n\t\t} else if (window.opera?.postError) {\n\t\t\twindow.opera.postError(msg)\n\t\t}\n\t},\n\terror(...args) {\n\t\tif (!this.debug) {\n\t\t\treturn\n\t\t}\n\n\t\tconst msg = `[Init CMS] ${Array.prototype.join.call(args, \", \")}`\n\t\tif (window.console?.error) {\n\t\t\twindow.console.error(msg)\n\t\t} else if (window.opera?.postError) {\n\t\t\twindow.opera.postError(msg)\n\t\t}\n\t},\n\tcreateInitCmsMessageBox(\n\t\tstatus,\n\t\tmessage,\n\t\ttimeout = 2000,\n\t\tpositionClass = \"toastr-top-right\",\n\t) {\n\t\ttoastr.options = {\n\t\t\tcloseButton: true,\n\t\t\tdebug: false,\n\t\t\tnewestOnTop: true,\n\t\t\tprogressBar: false,\n\t\t\tpositionClass: positionClass,\n\t\t\tpreventDuplicates: true,\n\t\t\tonclick: null,\n\t\t\tshowDuration: \"2000\",\n\t\t\thideDuration: \"1000\",\n\t\t\ttimeOut: timeout,\n\t\t\textendedTimeOut: \"1000\",\n\t\t\tshowEasing: \"linear\",\n\t\t\thideEasing: \"linear\",\n\t\t\tshowMethod: \"fadeIn\",\n\t\t\thideMethod: \"fadeOut\",\n\t\t}\n\t\tif (status === \"success\") {\n\t\t\ttoastr.success(message)\n\t\t} else if (status === \"warning\") {\n\t\t\ttoastr.warning(message)\n\t\t} else if (status === \"error\" || status === \"danger\") {\n\t\t\ttoastr.error(message)\n\t\t} else {\n\t\t\ttoastr.info(message)\n\t\t}\n\t},\n\tcreateSelect2() {\n\t\t// Check if jQuery included\n\t\tconst elements = [].slice.call(\n\t\t\tdocument.querySelectorAll(\n\t\t\t\t'[data-control=\"select2\"], [data-kt-select2=\"true\"]',\n\t\t\t),\n\t\t)\n\n\t\telements.forEach((element) => {\n\t\t\tif (element.getAttribute(\"data-kt-initialized\") === \"1\") {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst options = {\n\t\t\t\tdir: document.body.getAttribute(\"direction\"),\n\t\t\t}\n\n\t\t\tif (element.closest(\".modal\")) {\n\t\t\t\toptions.dropdownParent = element.closest(\".modal\")\n\t\t\t}\n\n\t\t\tif (element.getAttribute(\"data-hide-search\") === \"true\") {\n\t\t\t\toptions.minimumResultsForSearch = Infinity\n\t\t\t}\n\n\t\t\t$(element).select2(options)\n\t\t\t$(element).on(\"select2:select\", () => {\n\t\t\t\tconst event = new Event(\"change\", { bubbles: true })\n\t\t\t\telement.dispatchEvent(event)\n\t\t\t})\n\n\t\t\t// Handle Select2's KTMenu parent case\n\t\t\tif (\n\t\t\t\telement.hasAttribute(\"data-dropdown-parent\") &&\n\t\t\t\telement.hasAttribute(\"multiple\")\n\t\t\t) {\n\t\t\t\tconst parentEl = document.querySelector(\n\t\t\t\t\telement.getAttribute(\"data-dropdown-parent\"),\n\t\t\t\t)\n\n\t\t\t\tif (parentEl?.hasAttribute(\"data-kt-menu\")) {\n\t\t\t\t\tconst menu = new KTMenu(parentEl)\n\n\t\t\t\t\tif (menu) {\n\t\t\t\t\t\t$(element).on(\"select2:unselect\", () => {\n\t\t\t\t\t\t\telement.setAttribute(\"data-multiple-unselect\", \"1\")\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tmenu.on(\"kt.menu.dropdown.hide\", () => {\n\t\t\t\t\t\t\tif (element.getAttribute(\"data-multiple-unselect\") === \"1\") {\n\t\t\t\t\t\t\t\telement.removeAttribute(\"data-multiple-unselect\")\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telement.setAttribute(\"data-kt-initialized\", \"1\")\n\t\t})\n\t},\n}\n\nglobal.CMSAdmin = CMSAdmin\nwindow.CMSAdmin = CMSAdmin\nexport { CMSAdmin }\n","import { CMSAdmin } from \"./cms-admin\"\nimport \"jstree\"\nimport GLightbox from \"glightbox\"\nimport \"glightbox/dist/css/glightbox.min.css\"\n\nconst CMSMediaAdmin = (() => {\n\tlet tagDialog\n\tlet tagDialogContainer\n\tlet tagsContainer = null\n\tlet treeData = []\n\tlet canSort = true\n\tlet canDelete = true\n\tlet inlineEditUrl = \"\"\n\n\tconst createTagDialog = (event) => {\n\t\tevent.preventDefault()\n\t\tevent.stopPropagation()\n\n\t\tinitializeTagDialog()\n\n\t\tlet link = event.target\n\n\t\tif (!link.getAttribute(\"href\")) {\n\t\t\tlink = link.closest(\"a\")\n\t\t}\n\n\t\tfetch(link.getAttribute(\"href\"), {\n\t\t\tmethod: \"GET\",\n\t\t\theaders: {\n\t\t\t\t\"X-Requested-With\": \"XMLHttpRequest\",\n\t\t\t},\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.text()\n\t\t\t})\n\t\t\t.then((html) => {\n\t\t\t\tdocument\n\t\t\t\t\t.querySelector(\"#tag_dialog\")\n\t\t\t\t\t.querySelector(\".modal-content\").innerHTML = html\n\n\t\t\t\ttagDialog.show()\n\n\t\t\t\ttagDialogContainer\n\t\t\t\t\t.querySelector(\"form\")\n\t\t\t\t\t.addEventListener(\"submit\", submitAjaxTagForm)\n\t\t\t})\n\t}\n\tconst initializeTagDialog = () => {\n\t\tif (!tagDialog) {\n\t\t\t;(tagDialogContainer = document.querySelector(\"#tag_dialog\")),\n\t\t\t\t(tagDialog = new bootstrap.Modal(tagDialogContainer, {\n\t\t\t\t\theight: \"auto\",\n\t\t\t\t\twidth: 650,\n\t\t\t\t\tshow: false,\n\t\t\t\t}))\n\t\t}\n\t}\n\tconst submitAjaxTagForm = (event) => {\n\t\tevent.preventDefault()\n\n\t\tconst form = event.target\n\n\t\taxios\n\t\t\t.post(form.action, new FormData(form), axiosConfig)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.headers[\"content-type\"] === \"application/json\") {\n\t\t\t\t\tif (response.data.result === \"ok\") {\n\t\t\t\t\t\ttagDialog.hide()\n\t\t\t\t\t\tCMSAdmin.createInitCmsMessageBox(\n\t\t\t\t\t\t\tresponse.data.status,\n\t\t\t\t\t\t\tresponse.data.message,\n\t\t\t\t\t\t)\n\t\t\t\t\t\treloadSortTree(response.data.json, response.data.objectId)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttagDialogContainer.querySelector(\".modal-content\").innerHTML =\n\t\t\t\t\tresponse.data\n\t\t\t\ttagDialogContainer\n\t\t\t\t\t.querySelector(\"form\")\n\t\t\t\t\t.addEventListener(\"submit\", submitAjaxTagForm)\n\t\t\t\tCMSAdmin.initSpecialFields()\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error)\n\t\t\t})\n\t}\n\n\tconst setUpEditable = () => {\n\t\tCMSApp.create_xeditable(\n\t\t\t\".tag_link\",\n\t\t\t{\n\t\t\t\ttoggle: \"manual\",\n\t\t\t\turl: inlineEditUrl,\n\t\t\t\tname: \"name\",\n\t\t\t\tdisplay: function (value, response) {\n\t\t\t\t\tconst icon = $(\".jstree-icon\", this)\n\t\t\t\t\tif (typeof response !== \"undefined\") {\n\t\t\t\t\t\t$(this).html(icon).append(value)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t(_event, params) => {\n\t\t\t\tupdateTreeData(params.newValue, params.response.objectId)\n\t\t\t},\n\t\t\t(_e, r) => {\n\t\t\t\tif (r === \"save\") {\n\t\t\t\t\tconst currentUrl = new URL(window.location.href)\n\t\t\t\t\tconst searchParams = currentUrl.searchParams\n\t\t\t\t\tsearchParams.set(\"time\", jQuery.now())\n\t\t\t\t\tcurrentUrl.search = searchParams.toString()\n\t\t\t\t\thistory.replaceState(\n\t\t\t\t\t\t{ time: jQuery.now() },\n\t\t\t\t\t\t\"updated\",\n\t\t\t\t\t\tcurrentUrl.toString(),\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t)\n\t}\n\n\tconst updateTreeData = (value, id) => {\n\t\tvar data = $(tagsContainer).jstree(true).get_json()\n\t\treplaceDataName(data, value, id, data.length - 1)\n\t\tsetUpSortTree()\n\t}\n\n\tconst replaceDataName = (nodes, name, id, n) => {\n\t\tif (n < 0) {\n\t\t\treturn nodes\n\t\t}\n\t\tvar node = nodes[n]\n\n\t\tif (typeof node.data !== \"undefined\" && node.data[\"id\"] === id) {\n\t\t\tnode.text = name\n\t\t\tnode.li_attr[\"data-tag-name\"] = name\n\t\t}\n\t\tif (node.children.length > 0) {\n\t\t\treplaceDataName(node.children, name, id, node.children.length - 1)\n\t\t}\n\n\t\treturn replaceDataName(nodes, name, id, n - 1)\n\t}\n\n\tconst setUpSortTree = () => {\n\t\tconst plugins = [\"sort\", \"types\", \"unique\"]\n\t\tif (canSort) {\n\t\t\tplugins.push(\"dnd\")\n\t\t}\n\n\t\tif (canDelete) {\n\t\t\tplugins.push(\"delete\")\n\t\t}\n\n\t\tconst tree = $(tagsContainer)\n\n\t\ttreeData = tree.data(\"tagsJson\")\n\n\t\tinlineEditUrl = tree.data(\"inlineEditUrl\")\n\n\t\ttree.jstree({\n\t\t\ttypes: {\n\t\t\t\tdefault: {\n\t\t\t\t\ticon: \"fa fa-folder text-primary fs-2x\",\n\t\t\t\t},\n\t\t\t\tfile: {\n\t\t\t\t\ticon: \"fa fa-file text-primary fs-2x\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tplugins: plugins,\n\t\t\tdnd: {\n\t\t\t\tcheck_while_dragging: true,\n\t\t\t\tis_draggable: (node) => {\n\t\t\t\t\treturn node[0].a_attr.class !== \"show_all_media\"\n\t\t\t\t},\n\t\t\t},\n\t\t\tsort: function (a, b) {\n\t\t\t\tconst a1 = this.get_node(a)\n\t\t\t\tconst b1 = this.get_node(b)\n\t\t\t\tif (a1.data[\"show_first\"]) {\n\t\t\t\t\treturn -1\n\t\t\t\t}\n\n\t\t\t\tif (b1.data[\"show_first\"]) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn a1.text.toLowerCase() > b1.text.toLowerCase() ? 1 : -1\n\t\t\t},\n\t\t\tcore: {\n\t\t\t\tthemes: {\n\t\t\t\t\tvariant: \"large\",\n\t\t\t\t},\n\t\t\t\tcheck_callback: (operation, _node, node_parent) => {\n\t\t\t\t\t// operation can be 'create_node', 'rename_node', 'delete_node', 'move_node' or 'copy_node'\n\t\t\t\t\t// in case of 'rename_node' node_position is filled with the new node name\n\n\t\t\t\t\tif (operation === \"move_node\") {\n\t\t\t\t\t\tif (node_parent.a_attr) {\n\t\t\t\t\t\t\treturn node_parent.a_attr.class !== \"show_all_media\" //only allow dropping inside nodes of type 'Parent'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t},\n\t\t\t\tdata: (_node, cb) => {\n\t\t\t\t\tcb(treeData)\n\t\t\t\t},\n\t\t\t},\n\t\t})\n\n\t\ttree\n\t\t\t.on(\"refresh.jstree\", () => {\n\t\t\t\tsetUpEditable()\n\t\t\t})\n\t\t\t.on(\"move_node.jstree\", (e, data) => {\n\t\t\t\tconst nodes = data.new_instance.get_json()\n\t\t\t\tvar flatTree = getFlatTree(nodes, 0, 0, nodes.length - 1, [])\n\n\t\t\t\tupdateTree(flatTree)\n\t\t\t\tsetUpEditable()\n\t\t\t})\n\t\t\t.on(\"after_open.jstree\", () => {\n\t\t\t\tsetUpEditable()\n\t\t\t})\n\t\t\t.on(\"redraw.jstree\", () => {\n\t\t\t\tsetUpEditable()\n\t\t\t})\n\t}\n\n\tconst deleteTag = (event) => {\n\t\tevent.preventDefault()\n\t\tconst node = event.target\n\t\taxios.get(node.data.delete_link, { ...axiosConfig }).then((response) => {\n\t\t\tlistDialog.html(response.data)\n\t\t\tlistDialog.modal(\"show\")\n\t\t})\n\t}\n\tconst updateTree = (tagTree) => {\n\t\taxios\n\t\t\t.post(\n\t\t\t\ttagsContainer.dataset.updateTreeUrl,\n\t\t\t\t{ nodes: tagTree },\n\t\t\t\taxiosConfig,\n\t\t\t)\n\t\t\t.then((response) => {\n\t\t\t\tvar data = response.data\n\t\t\t\tCMSAdmin.createInitCmsMessageBox(data.status, data.message)\n\t\t\t\tconst currentUrl = new URL(window.location.href)\n\n\t\t\t\tconst searchParams = currentUrl.searchParams\n\t\t\t\tsearchParams.set(\"time\", jQuery.now())\n\t\t\t\tcurrentUrl.search = searchParams.toString()\n\n\t\t\t\t// sortList(list);\n\t\t\t\thistory.replaceState(\n\t\t\t\t\t{ time: jQuery.now() },\n\t\t\t\t\t\"updated\",\n\t\t\t\t\tcurrentUrl.toString(),\n\t\t\t\t)\n\t\t\t})\n\t}\n\n\tconst getFlatTree = (nodes, parentId, depth, n, flatArray) => {\n\t\tif (n < 0) {\n\t\t\treturn flatArray\n\t\t}\n\t\tvar node = nodes[n]\n\n\t\tif (node.children.length > 0) {\n\t\t\tflatArray.push.apply(\n\t\t\t\tgetFlatTree(\n\t\t\t\t\tnode.children,\n\t\t\t\t\tnode.data[\"id\"],\n\t\t\t\t\tdepth + 1,\n\t\t\t\t\tnode.children.length - 1,\n\t\t\t\t\tflatArray,\n\t\t\t\t),\n\t\t\t)\n\t\t}\n\t\tflatArray.push({\n\t\t\tid: node.data[\"id\"],\n\t\t\tparent_id: parentId,\n\t\t\tname: node.text,\n\t\t\tdepth: depth,\n\t\t})\n\n\t\treturn getFlatTree(nodes, parentId, depth, n - 1, flatArray)\n\t}\n\n\tconst reloadSortTree = (data, id) => {\n\t\ttreeData = data\n\t\t$(tagsContainer).jstree(true).refresh()\n\t}\n\n\tconst refreshList = (filters) => {\n\t\tif (!filters) {\n\t\t\tfilters = []\n\t\t}\n\n\t\tconst data = new FormData(document.querySelector(\"#search-form\"))\n\n\t\tfor (const key in filters) {\n\t\t\tdata.append(key, filters[key])\n\t\t}\n\n\t\tfilters = Object.fromEntries(data.entries())\n\n\t\taxios\n\t\t\t.get(tagsContainer.dataset.refreshListUrl, {\n\t\t\t\t...axiosConfig,\n\t\t\t\tparams: filters,\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\t$(\"#item_list\").html(response.data)\n\t\t\t\t$(\"html, body\").animate(\n\t\t\t\t\t{ scrollTop: $(\"#item_list\").scrollTop() },\n\t\t\t\t\t\"slow\",\n\t\t\t\t)\n\n\t\t\t\tsetUpMediaLightbox()\n\t\t\t\tKTComponents.init()\n\t\t\t})\n\t}\n\n\tconst setUpMediaLightbox = () => {\n\t\tconst lightbox = GLightbox({\n\t\t\ttouchNavigation: true,\n\t\t\tloop: true,\n\t\t\tautoplayVideos: true,\n\t\t\tselector: \".light-box-items\",\n\t\t})\n\t}\n\n\treturn {\n\t\tinit: () => {\n\t\t\ttagsContainer = document.querySelector(\"#tagsContainer\")\n\t\t\tcanSort = tagsContainer.dataset.canSort\n\t\t\tcanDelete = tagsContainer.dataset.canDelete\n\t\t\tsetUpSortTree()\n\t\t\tinitializeTagDialog()\n\t\t\tsetUpMediaLightbox()\n\n\t\t\tKTUtil.on(document.body, \"a.delete_check_box\", \"click\", (e) => {\n\t\t\t\te.preventDefault()\n\t\t\t\tlet active = false\n\t\t\t\tconst batchActions = document.querySelector(\".batch-actions\")\n\n\t\t\t\tdocument.querySelectorAll(\".delete_check_box\").forEach((item) => {\n\t\t\t\t\tif (item.checked) {\n\t\t\t\t\t\titem.classList.add(\"ui-selected\")\n\t\t\t\t\t\tactive = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.classList.remove(\"ui-selected\")\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tif (active) {\n\t\t\t\t\treturn batchActions.classList.remove(\"d-none\")\n\t\t\t\t}\n\t\t\t\tbatchActions.classList.add(\"d-none\")\n\t\t\t\tbatchActions\n\t\t\t})\n\n\t\t\tKTUtil.on(document.body, \"a.batch\", \"click\", (e) => {\n\t\t\t\te.preventDefault()\n\t\t\t\tdocument.querySelector(\"input[name='action']\").value =\n\t\t\t\t\te.target.dataset.value\n\t\t\t\tcreateBatchDialog(e)\n\t\t\t})\n\n\t\t\tKTUtil.on(document.body, \"a.tag-dialog-link\", \"click\", (e) => {\n\t\t\t\te.preventDefault()\n\t\t\t\tcreateTagDialog(e)\n\t\t\t})\n\n\t\t\tKTUtil.on(document.body, \".tag_link\", \"click\", (e, noLoad) => {\n\t\t\t\te.preventDefault()\n\t\t\t\tvar tagId = e.target.dataset.pk\n\t\t\t\tif (noLoad === undefined) {\n\t\t\t\t\trefreshList({ \"filter[tags][value]\": tagId })\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tKTUtil.on(document.body, \".show_all_media\", \"click\", (e, noLoad) => {\n\t\t\t\te.preventDefault()\n\t\t\t\trefreshList({ \"filter[_page]\": 1, \"filter[tags][value]\": \"\" })\n\t\t\t})\n\n\t\t\tKTUtil.on(document.body, \"a.media-pager\", \"click\", (e) => {\n\t\t\t\te.preventDefault()\n\n\t\t\t\tlet link = e.target\n\n\t\t\t\tif (!link.getAttribute(\"href\")) {\n\t\t\t\t\tlink = link.closest(\"a\")\n\t\t\t\t}\n\n\t\t\t\tconst page = link.dataset.page\n\t\t\t\tconst sort_order = link.dataset.sortOrder\n\t\t\t\tconst sort_by = link.dataset.sortBy\n\t\t\t\tconst per_page = link.dataset.perPage\n\t\t\t\tconst tags = link.dataset.tags\n\t\t\t\tconst name = link.dataset.name\n\t\t\t\trefreshList({\n\t\t\t\t\t\"filter[_page]\": page,\n\t\t\t\t\t\"filter[_sort_order]\": sort_order,\n\t\t\t\t\t\"filter[_sort_by]\": sort_by,\n\t\t\t\t\t\"filter[_per_page]\": per_page,\n\t\t\t\t\t\"filter[tags][value]\": tags,\n\t\t\t\t\t\"filter[name][value]\": name,\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tKTUtil.on(document.body, \".per-page\", \"change\", (e) => {\n\t\t\t\te.preventDefault()\n\t\t\t\tconst per_page = e.target.value\n\t\t\t\tconst page = e.target.dataset.page\n\t\t\t\tconst sort_order = e.target.dataset.sortOrder\n\t\t\t\tconst sort_by = e.target.dataset.sortBy\n\t\t\t\tconst tags = e.target.dataset.tags\n\t\t\t\tconst name = e.target.dataset.name\n\t\t\t\trefreshList({\n\t\t\t\t\t\"filter[_per_page]\": per_page,\n\t\t\t\t\t\"filter[_page]\": page,\n\t\t\t\t\t\"filter[_sort_order]\": sort_order,\n\t\t\t\t\t\"filter[_sort_by]\": sort_by,\n\t\t\t\t\t\"filter[tags][value]\": tags,\n\t\t\t\t\t\"filter[name][value]\": name,\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\trefreshList: (filters) => {\n\t\t\trefreshList(filters)\n\t\t},\n\t}\n})()\n\nclass MediaDropZone {\n\tconstructor(element) {\n\t\tthis.element = element\n\t\tthis.context = this.element.dataset.context\n\t\tthis.provider = this.element.dataset.provider\n\t\tthis.uploadForm = this.element.querySelector(\"#upload-form\")\n\t\tconst uniqueId = this.element.dataset.uniqueId\n\n\t\tconst previewNode = this.element.querySelector(\".dropzone-item\")\n\t\tpreviewNode.id = \"\"\n\t\tconst previewTemplate = previewNode.parentNode.innerHTML\n\t\tpreviewNode.parentNode.removeChild(previewNode)\n\n\t\tconst that = this\n\n\t\tconst fileDropzone = new Dropzone(this.element, {\n\t\t\tinit: function () {\n\t\t\t\tthis.on(\"success\", (file, response) => {\n\t\t\t\t\tthat.changeButtonRow(file, response)\n\t\t\t\t\tCMSMediaAdmin.refreshList()\n\t\t\t\t})\n\t\t\t\tthis.on(\"error\", (file, response) => {\n\t\t\t\t\tif (response.duplicate) {\n\t\t\t\t\t\tthat.changeButtonRow(file, response)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\turl: this.uploadForm.action, // Set the url\n\t\t\tparams: {\n\t\t\t\tcontext: this.context,\n\t\t\t\tprovider: this.provider,\n\t\t\t\toneuploader: true,\n\t\t\t},\n\t\t\tthumbnailWidth: 80,\n\t\t\tthumbnailHeight: 80,\n\t\t\tparallelUploads: 20,\n\t\t\tpreviewTemplate: previewTemplate,\n\t\t\tpreviewsContainer: \"#previews\", // Define the container to display the previews\n\t\t\tclickable: \".fileinput-zone\", // Define the element that should be used as click trigger to select files.\n\t\t})\n\n\t\t// Update the total progress bar\n\t\tfileDropzone.on(\"totaluploadprogress\", (progress) => {\n\t\t\tdocument.querySelector(\"#total-progress .progress-bar\").style.width =\n\t\t\t\tprogress + \"%\"\n\t\t})\n\n\t\tfileDropzone.on(\"sending\", (_file, _xhr, formData) => {\n\t\t\tconst tags = document.querySelector(\"#\" + uniqueId + \"_tags\").value\n\n\t\t\tformData.append(\"tags\", tags)\n\t\t\t// Show the total progress bar when upload starts\n\t\t\tdocument.querySelector(\"#total-progress\").style.opacity = \"1\"\n\t\t})\n\n\t\t// Hide the total progress bar when nothing's uploading anymore\n\t\tfileDropzone.on(\"queuecomplete\", (_progress) => {\n\t\t\tdocument.querySelector(\"#total-progress\").style.opacity = \"0\"\n\t\t\t// CMSMediaAdmin.refreshList({});\n\t\t})\n\n\t\t// Setup the buttons for all transfers\n\t\t// The \"add files\" button doesn't need to be setup because the config\n\t\t// `clickable` has already been specified.\n\t\tdocument.querySelector(\"#actions .cancel\").onclick = () => {\n\t\t\tfileDropzone.removeAllFiles(true)\n\t\t}\n\t}\n\tchangeButtonRow(file, response) {\n\t\tconst editButton = file.previewElement.querySelector(\"[data-dz-url]\")\n\t\teditButton.href = response.url\n\t\teditButton.classList.remove(\"d-none\")\n\t\tfile.previewElement.querySelector(\".progress\").classList.add(\"d-none\")\n\t}\n}\n\n;(($) => {\n\tvar link = document.createElement(\"a\")\n\tlink.className = \"delete-tag dialog-link float-end \"\n\tlink.innerHTML = '<i class=\"la la-trash fs-2 mx-3\"></i>'\n\n\t$.jstree.defaults.delete = $.noop\n\t$.jstree.plugins.delete = function (_options, parent) {\n\t\tthis.teardown = function () {\n\t\t\tif (this.settings.delete) {\n\t\t\t\tthis.element.find(\".delete-tag\").remove()\n\t\t\t}\n\t\t\tparent.teardown.call(this)\n\t\t}\n\t\tthis.redraw_node = function (obj, deep, callback, force_draw) {\n\t\t\tobj = parent.redraw_node.call(this, obj, deep, callback, force_draw)\n\n\t\t\tif (this.get_node(obj).children?.length) {\n\t\t\t\treturn obj\n\t\t\t}\n\n\t\t\tconst tmp = link.cloneNode(true)\n\t\t\tconst node = this.get_node(obj)\n\t\t\tif (obj && $(obj).hasClass(\"sortable-tag\")) {\n\t\t\t\ttmp.href = node.data.delete_link\n\t\t\t\tobj.insertBefore(tmp, obj.childNodes[2])\n\t\t\t}\n\t\t\treturn obj\n\t\t}\n\t}\n})($)\n\nKTUtil.onDOMContentLoaded(() => {\n\tCMSMediaAdmin.init()\n\tdocument.body.addEventListener(\"shown.bs.modal\", (event) => {\n\t\tconst dropzone = event.target.querySelector(\"#dropzone_area\")\n\t\tif (dropzone) {\n\t\t\tnew MediaDropZone(dropzone)\n\t\t}\n\t})\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t790: 0,\n\t867: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkinit_cms_bundle\"] = self[\"webpackChunkinit_cms_bundle\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [460,195,692,128,409], () => (__webpack_require__(7331)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","window","axiosConfig","headers","$","fn","select2","defaults","set","CMSAdmin","listDialog","routing","translations","collectionCounters","debug","getTranslator","this","load","init","initLinkDialogs","initializeDatePickers","initializeDateTimePickers","initSelect2","initCkeditor","initCollectionType","initTabs","el","document","body","slice","call","querySelectorAll","forEach","element","getAttribute","triggerEl","querySelector","dataset","activeTab","tab","bootstrap","Tab","tabFieldId","tabField","show","tabEls","tabInputField","addEventListener","event","value","target","tabIndex","initToolTips","map","tooltipTriggerEl","Tooltip","KTUtil","on","createLinkDialog","preventDefault","stopPropagation","initializeDialog","link","closest","fetch","method","then","response","text","html","innerHTML","Modal","height","width","dateFormat","locale","dateLanguage","flatpickr","allowInput","enableTime","time_24hr","select","id","parent","dropdownParent","e","Event","bubbles","dispatchEvent","setAttribute","config","JSON","parse","plugins","templates","styles","filebrowser","CKEDITOR","instances","destroy","key","Object","entries","addExternal","path","filename","stylesSet","get","add","addTemplates","params","filebrowserImageUploadUrl","CMSRouting","generate","filebrowserImageUploadRouteParameters","filebrowserUploadUrl","filebrowserUploadRouteParameters","filebrowserImageBrowseUrl","filebrowserImageBrowseRouteParameters","filebrowserBrowseUrl","filebrowserBrowseRouteParameters","disableAutoInline","replace","evt","editor","getData","setupCollectionType","subject","cmsCollectionType","btn","classList","contains","counter","containerName","collectionAddBtn","container","lastItem","pop","parseInt","proto","prototype","protoName","prototypeName","idRegexp","RegExp","parts","split","nameRegexp","length","insertAdjacentHTML","CustomEvent","detail","initSpecialFields","remove","createSelect2","log","args","msg","Array","join","console","opera","postError","error","createInitCmsMessageBox","status","message","timeout","positionClass","toastr","options","closeButton","newestOnTop","progressBar","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","success","warning","info","dir","minimumResultsForSearch","Infinity","hasAttribute","parentEl","menu","KTMenu","removeAttribute","g","CMSMediaAdmin","tagDialog","tagDialogContainer","tagsContainer","treeData","canSort","canDelete","inlineEditUrl","initializeTagDialog","submitAjaxTagForm","form","axios","post","action","FormData","data","result","hide","reloadSortTree","json","objectId","catch","setUpEditable","CMSApp","create_xeditable","toggle","url","name","display","icon","append","_event","updateTreeData","newValue","_e","r","currentUrl","URL","location","href","searchParams","jQuery","now","search","toString","history","replaceState","time","jstree","get_json","replaceDataName","setUpSortTree","nodes","n","node","li_attr","children","push","tree","types","default","file","dnd","check_while_dragging","is_draggable","a_attr","class","sort","a","b","a1","get_node","b1","toLowerCase","core","themes","variant","check_callback","operation","_node","node_parent","cb","new_instance","flatTree","getFlatTree","updateTree","tagTree","updateTreeUrl","parentId","depth","flatArray","apply","parent_id","refresh","refreshList","filters","fromEntries","refreshListUrl","animate","scrollTop","setUpMediaLightbox","KTComponents","touchNavigation","loop","autoplayVideos","selector","active","batchActions","item","checked","createBatchDialog","createTagDialog","noLoad","tagId","pk","undefined","page","sort_order","sortOrder","sort_by","sortBy","per_page","perPage","tags","MediaDropZone","constructor","context","provider","uploadForm","uniqueId","previewNode","previewTemplate","parentNode","removeChild","that","fileDropzone","Dropzone","changeButtonRow","duplicate","oneuploader","thumbnailWidth","thumbnailHeight","parallelUploads","previewsContainer","clickable","progress","style","_file","_xhr","formData","opacity","_progress","removeAllFiles","editButton","previewElement","createElement","className","delete","noop","_options","teardown","settings","find","redraw_node","obj","deep","callback","force_draw","tmp","cloneNode","hasClass","delete_link","insertBefore","childNodes","onDOMContentLoaded","dropzone","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","Error","code","module","m","O","chunkIds","priority","notFulfilled","i","fulfilled","j","keys","every","splice","getter","__esModule","d","definition","o","defineProperty","enumerable","globalThis","Function","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}