{"version":3,"file":"generalSignin.c93913e2.js","mappings":"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","sources":["webpack://init-cms-bundle/webpack/runtime/chunk loaded","webpack://init-cms-bundle/./assets/cms/authentication/webauthn/client.js","webpack://init-cms-bundle/./assets/cms/authentication/sign-in/general.js","webpack://init-cms-bundle/webpack/bootstrap","webpack://init-cms-bundle/webpack/runtime/define property getters","webpack://init-cms-bundle/webpack/runtime/hasOwnProperty shorthand","webpack://init-cms-bundle/webpack/runtime/jsonp chunk loading","webpack://init-cms-bundle/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import { startRegistration, startAuthentication } from '@simplewebauthn/browser';\n\nexport async function _fetch(path, payload = '') {\n    const headers = {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'application/json'\n    };\n    if (payload && !(payload instanceof FormData)) {\n        payload = JSON.stringify(payload);\n    }\n    const res = await fetch(path, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: headers,\n        body: payload,\n    });\n    if (res.status === 200 || res.status === 201) {\n        // Server authentication succeeded\n        return res.json();\n    } else {\n        // Server authentication failed\n        const result = await res.json();\n\n        if(result.message){\n            throw new Error(result.message);\n        }\n\n        throw new Error(result.error);\n    }\n}\n\n\nexport async function registerCredential(username, displayName) {\n\n    let data = {\n        username: username,\n        displayName: displayName,\n        authenticatorSelection: {\n            userVerification: 'preferred',\n        },\n    }\n\n    const options = await _fetch('/admin/register/options', data);\n\n    let attResp;\n    try {\n        // Pass the options to the authenticator and wait for a response\n        attResp = await startRegistration(options);\n    } catch (error) {\n\n        throw error;\n    }\n\n    return await _fetch(CMSRouting.generate('initcms_webauthn_register_response'), attResp);\n\n}\nexport async function authenticate(username) {\n    let payload = {\n        requireUserVerification: 'preferred',\n    }\n\n    if(username){\n        payload.username = username;\n    }\n    const options = await _fetch('/admin/assertion/options', payload);\n    if(username && options.allowCredentials === undefined){\n        throw new Error('no_credentials');\n    }\n\n\n    let asseResp;\n    try {\n        // Pass the options to the authenticator and wait for a response\n        asseResp = await startAuthentication(options);\n    } catch (error) {\n        throw error;\n    }\n\n    return _fetch('/admin/assertion', asseResp);\n}\n\nexport async function unregisterCredential(credId) {\n    return _fetch(CMSRouting.generate('admin_networking_initcms_user_remove_webauthn_key') + `?credId=${encodeURIComponent(credId)}`);\n}\n\nexport async function updateCredential(credId, name) {\n    return _fetch(CMSRouting.generate('admin_networking_initcms_user_rename_webauthn_key') + `?credId=${encodeURIComponent(credId)}&name=${encodeURIComponent(name)}`);\n}\n","\"use strict\";\n\n\nimport {authenticate} from \"../webauthn/client\";\nimport { browserSupportsWebAuthnAutofill, platformAuthenticatorIsAvailable } from '@simplewebauthn/browser';\nlet KTSigninGeneral = function () {\n    // Elements\n    let form;\n    let submitButton;\n    let validator;\n    let signInWithPasskeyButton;\n    let signInWithUsernameAndPasswordLink;\n    let signInWithPasskeyContainer;\n    let signInWithUsernameAndPasswordContainer;\n\n    const lang = localStorage.getItem(\"kt_auth_lang\")??document.getElementsByTagName('html')[0].getAttribute('lang');\n\n    const texts = {\n        'en': {\n            'email_invalid': 'The value is not a valid email address',\n            'email_empty': 'Email address is required',\n            'password_empty': 'The password is required',\n            'login_success': 'You have successfully logged in!',\n            'login_error': 'Sorry, looks like there are some errors detected, please try again.',\n            'ok': 'Ok, got it!'\n        },\n        'de': {\n            'email_invalid': 'Der Wert ist keine gültige E-Mail-Adresse',\n            'email_empty': 'E-Mail-Adresse ist erforderlich',\n            'password_empty': 'Das Passwort ist erforderlich',\n            'login_success': 'Sie haben sich erfolgreich angemeldet!',\n            'login_error': 'Entschuldigung, es scheint, dass einige Fehler erkannt wurden, bitte versuchen Sie es erneut.',\n            'ok': 'Ok, verstanden!'\n        },\n        'fr': {\n            'email_invalid': 'La valeur n\\'est pas une adresse e-mail valide',\n            'email_empty': 'L\\'adresse e-mail est requise',\n            'password_empty': 'Le mot de passe est requis',\n            'login_success': 'Vous vous êtes connecté avec succès!',\n            'login_error': 'Désolé, il semble qu\\'il y ait des erreurs détectées, veuillez réessayer.',\n            'ok': 'Ok, compris!'\n        },\n        'it': {\n            'email_invalid': 'Il valore non è un indirizzo e-mail valido',\n            'email_empty': 'L\\'indirizzo e-mail è richiesto',\n            'password_empty': 'La password è richiesta',\n            'login_success': 'L\\'accesso è stato effettuato con successo!',\n            'login_error': 'Spiacente, sembra che siano stati rilevati degli errori, si prega di riprovare.',\n            'ok': 'Ok, capito!'\n        },\n    }\n\n    let translate = function (text) {\n\n        switch (lang) {\n            case 'German':\n            case 'de':\n                return texts['de'][text];\n            case 'Italian':\n            case 'it':\n                return texts['it'][text];\n            case 'French':\n            case 'fr':\n                return texts['fr'][text];\n            default:\n                return texts['en'][text];\n\n        }\n    }\n\n    // Handle form\n    let handleValidation = function (e) {\n        // Init form validation rules. For more info check the FormValidation plugin's official documentation:https://formvalidation.io/\n        validator = FormValidation.formValidation(\n            form,\n            {\n                fields: {\n                    '_username': {\n                        validators: {\n                            notEmpty: {\n                                message: translate('email_empty')\n                            }\n                        }\n                    },\n                    '_password': {\n                        validators: {\n                            notEmpty: {\n                                message: translate('password_empty')\n                            }\n                        }\n                    }\n                },\n                plugins: {\n                    trigger: new FormValidation.plugins.Trigger(),\n                    bootstrap: new FormValidation.plugins.Bootstrap5({\n                        rowSelector: '.fv-row',\n                        eleInvalidClass: '',  // comment to enable invalid state icons\n                        eleValidClass: '' // comment to enable valid state icons\n                    })\n                }\n            }\n        );\n    }\n\n\n    let handleSubmitAjax = async function (e) {\n        // Handle form submit\n        submitButton.addEventListener('click', function (e) {\n            // Prevent button default action\n            e.preventDefault();\n\n            // Validate form\n            validator.validate().then(function (status) {\n                if (status === 'Valid') {\n                    // Show loading indication\n                    submitButton.setAttribute('data-kt-indicator', 'on');\n\n                    // Disable button to avoid multiple click\n                    submitButton.disabled = true;\n                    // form.submit();\n                    // return;\n\n                    let formData = new FormData(form);\n\n                    let loginInfo = {}\n                    formData.forEach( (value, key) => {\n                        loginInfo[key] = value;\n                    })\n\n                    axios.post(CMSRouting.generate('cms_api_login'), loginInfo, {...axiosConfig})\n                        .then((response) => {\n                            submitButton.disabled = false;\n                            submitButton.removeAttribute('data-kt-indicator');\n                            let redirect = response.data.redirect;\n                            Swal.fire({\n                                    text: translate('login_success'),\n                                    icon: \"success\",\n                                    timer: 1000,\n                                    showConfirmButton: false,\n                                }).then(() => {\n                                    let host =  window.location.protocol + '//' + window.location.host\n                                    if(redirect.indexOf(host) === -1 || redirect.indexOf('http') === -1) {\n                                        redirect = host + redirect\n                                    }\n                                    location.href = redirect\n                                });\n                        })\n                        .catch((error) => {\n                            submitButton.disabled = false;\n                            submitButton.removeAttribute('data-kt-indicator');\n                            let data = error.response.data\n\n                            Swal.fire({\n                                text: data.error,\n                                icon: \"error\",\n                                buttonsStyling: false,\n                                confirmButtonText: translate('ok'),\n                                customClass: {\n                                    confirmButton: \"btn btn-primary\"\n                                }\n                            });\n                            submitButton.disabled = false;\n                        })\n\n                } else {\n                    // Show error popup. For more info check the plugin's official documentation: https://sweetalert2.github.io/\n                    Swal.fire({\n                        text: translate('login_error'),\n                        icon: \"error\",\n                        buttonsStyling: false,\n                        confirmButtonText: translate('ok'),\n                        customClass: {\n                            confirmButton: \"btn btn-primary\"\n                        }\n                    });\n                }\n            });\n        });\n    }\n\n    let isValidUrl = function(url) {\n        try {\n            new URL(url);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    let webauthnSignin = async function(username){\n        try{\n            // Is conditional UI available in this browser?\n            const cma = await PublicKeyCredential.isConditionalMediationAvailable();\n            if (cma) {\n                const result = await authenticate(username);\n                if (result && 'ok' === result.status) {\n                    return location.href = document.querySelector('#redirect_route').value\n                }\n\n\n                throw new Error(result)\n            }\n        }catch (e) {\n            let message = e.message;\n\n            if(e.name === 'Error'){\n                message = translate('login_error');\n            }\n\n            if(e.name === 'NotAllowedError'){\n                return signInWithUsernameAndPasswordLink.click()\n            }\n\n            if(e.message === 'no_credentials'){\n                return signInWithUsernameAndPasswordLink.click()\n            }\n\n            Swal.fire({\n                text: message,\n                icon: \"error\",\n                buttonsStyling: false,\n                confirmButtonText: translate('ok'),\n                customClass: {\n                    confirmButton: \"btn btn-primary\"\n                }\n            });\n        }\n    }\n\n    // Public functions\n    return {\n        // Initialization\n        init: function () {\n            form = document.querySelector('#kt_sign_in_form');\n            submitButton = document.querySelector('#kt_sign_in_submit');\n            signInWithUsernameAndPasswordContainer = document.querySelector('#kt_sign_in_with_username_and_password_container');\n            let webauthnEnabled = document.querySelector(\"meta[name='webauthn-enabled']\").getAttribute(\"content\");\n\n            if (\n                webauthnEnabled &&\n                window.PublicKeyCredential &&\n                PublicKeyCredential.isConditionalMediationAvailable\n            ) {\n                signInWithPasskeyButton = document.querySelector('#kt_sign_in_with_passkey');\n                signInWithUsernameAndPasswordLink = document.querySelector('#kt_sign_in_with_username_and_password');\n                signInWithPasskeyContainer = document.querySelector('#kt_sign_in_with_passkey_container');\n\n\n                let typingTimer;                //timer identifier\n                let doneTypingInterval = 1000;  //time in ms (5 seconds)\n                let usernameInput = document.querySelector('#username');\n                const usernameEvent = () => {\n                    clearTimeout(typingTimer);\n                    if (usernameInput.value) {\n                        typingTimer = setTimeout(doneTyping, doneTypingInterval);\n                    }\n                }\n\n                let eventListener = usernameInput.addEventListener('keyup', usernameEvent);\n\n                function doneTyping () {\n                    signInWithPasskeyButton.click()\n                }\n\n                signInWithPasskeyButton.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    try {\n                        webauthnSignin(usernameInput.value);\n                    } catch (e) {\n\n                        // A NotAllowedError indicates that the user canceled the operation.\n                        if (e.name !== \"NotAllowedError\") {\n                            //CMSAdmin.createInitCmsMessageBox('error', e.message);\n                        }\n                    }\n                })\n\n                signInWithUsernameAndPasswordLink.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    usernameInput.removeEventListener('keyup', usernameEvent);\n                    signInWithPasskeyContainer.classList.add('d-none');\n                    signInWithUsernameAndPasswordContainer.classList.remove('d-none');\n\n                })\n            }\n\n            handleValidation();\n\n            if (isValidUrl(submitButton.closest('form').getAttribute('action'))) {\n                handleSubmitAjax(); // use for ajax submit\n            }\n        }\n    };\n}();\n\n// On document ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    KTSigninGeneral.init();\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t883: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkinit_cms_bundle\"] = self[\"webpackChunkinit_cms_bundle\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [461], () => (__webpack_require__(198)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","async","_fetch","path","payload","FormData","JSON","stringify","res","fetch","method","credentials","headers","body","status","json","result","message","Error","error","KTSigninGeneral","form","submitButton","validator","signInWithPasskeyButton","signInWithUsernameAndPasswordLink","signInWithPasskeyContainer","signInWithUsernameAndPasswordContainer","lang","localStorage","getItem","document","getElementsByTagName","getAttribute","texts","translate","text","webauthnSignin","username","PublicKeyCredential","isConditionalMediationAvailable","requireUserVerification","options","undefined","allowCredentials","asseResp","authenticate","location","href","querySelector","value","e","name","click","Swal","fire","icon","buttonsStyling","confirmButtonText","customClass","confirmButton","init","window","typingTimer","doneTypingInterval","usernameInput","usernameEvent","clearTimeout","setTimeout","doneTyping","addEventListener","preventDefault","removeEventListener","classList","add","remove","FormValidation","formValidation","fields","validators","notEmpty","plugins","trigger","Trigger","bootstrap","Bootstrap5","rowSelector","eleInvalidClass","eleValidClass","url","URL","isValidUrl","closest","validate","then","setAttribute","disabled","formData","loginInfo","forEach","key","axios","post","CMSRouting","generate","axiosConfig","response","removeAttribute","redirect","data","timer","showConfirmButton","host","protocol","indexOf","catch","handleSubmitAjax","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","code","module","m","O","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","r","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}