(()=>{"use strict";var e,t={3619:(e,t,a)=>{var n=a(144),i=a(7152),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"imageEditorApp"},[a("div",{staticClass:"imageContainer"},[a("img",{staticClass:"img-responsive center-block image",attrs:{src:e.imageURL}}),e._v(" "),a("div",{staticClass:"middle"},[a("div",{staticClass:"text"},[a("a",{staticClass:"btn btn-default",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.editImage.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-magic fa-small"}),e._v(" "+e._s(e.$t("edit_image")))])])])]),e._v(" "),a("br"),e._v(" "),e.alert?a("div",{staticClass:"alert ",class:["error"===e.alertType?"alert-danger":"alert-success"],attrs:{role:"alert"},domProps:{innerHTML:e._s(e.alertMessage)}}):e._e(),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"imageModal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog  modal-full",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._m(0),e._v(" "),a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("created_image")))])]),e._v(" "),a("div",{staticClass:"modal-body align-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 align-center"},[a("h3",[e._v(e._s(e.$t("original_image")))]),e._v(" "),a("p",[a("img",{staticClass:"img-responsive center-block",attrs:{src:e.imageURL}})])]),e._v(" "),a("div",{staticClass:"col-md-6 align-center"},[a("h3",[e._v(e._s(e.$t("new_image")))]),e._v(" "),a("p",[a("img",{staticClass:"img-responsive center-block",attrs:{src:e.newImage}})])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v(e._s(e.$t("cancel")))]),e._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.updateImage.apply(null,arguments)}}},[e._v(e._s(e.$t("replace_image")))]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.cloneImage.apply(null,arguments)}}},[e._v(e._s(e.$t("create_new_image")))])])])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"confirmModal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._m(1),e._v(" "),a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("are_you_sure")))])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("p",[e._v("\n                        "+e._s(e.$t("message.cannot_be_undone"))+"\n                        ")])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.confirmUpdate.apply(null,arguments)}}},[e._v(e._s(e.$t("continue")))]),e._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.rejectUpdate.apply(null,arguments)}}},[e._v(e._s(e.$t("cancel")))])])])])])])};r._withStripped=!0;a(5093),a(5813),a(6094);var o=a(9669),s=a.n(o);a(4305),a(2581),a(2274),a(98),a(6733),a(4524),a(3484),a(9975),a(5132),a(8868),a(1874),a(4861);const l=FilerobotImageEditor;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p(e);if(t){var i=p(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return g(this,a)}}function g(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(r,e);var t,a,n,i=f(r);function r(){return u(this,r),i.apply(this,arguments)}return t=r,a&&d(t.prototype,a),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(a.n(l)()),b=["gif","jpg","jpeg","png"],_=document.getElementById("image-container"),v={headers:{"X-Requested-With":"XMLHttpRequest"}},y=_.getAttribute("data-lang");["de","en"].includes(y)||(y="en");const w={name:"Editor",mounted:function(){var e={colorScheme:"light",tools:["adjust","effects","filters","rotate","crop","resize"],language:y,translations:{en:{"toolbar.download":"Save"},de:{"header.image_editor_title":"Bild bearbiten","toolbar.download":"Speichern","toolbar.save":"Speichern","toolbar.apply":"Anwenden","toolbar.cancel":"Abbrechen","toolbar.go_back":"Zurück","toolbar.adjust":"Anpassen","toolbar.effects":"Effekte","toolbar.filters":"Filter","toolbar.orientation":"Orientierung","toolbar.crop":"Zuschneiden","toolbar.resize":"Größe ändern","toolbar.watermark":"Wasserzeichen","adjust.brightness":"Helligkeit","adjust.contrast":"Kontrast","adjust.exposure":"Belichtung","adjust.saturation":"Farbsättigung","orientation.rotate_l":"Nach links drehen","orientation.rotate_r":"Nach rechts drehen","orientation.flip_h":"Horizontal spiegeln","orientation.flip_v":"Vertikal spiegeln","pre_resize.title":"Möchten Sie die Auflösung reduzieren, bevor Sie das Bild bearbeiten?","pre_resize.keep_original_resolution":"Originalauflösung beibehalten","pre_resize.resize_n_continue":"Größe ändern & fortsetzen","footer.reset":"Zurücksetzen","footer.undo":"Rückgängig machen","footer.redo":"Wiederholen","spinner.label":"Verarbeitung...","warning.too_big_resolution":"Die Auflösung des Bildes ist zu groß für das Web. Es kann zu Problemen mit der Leistung des Bildbearbeitungsprogramms führen.","common.width":"breite","common.height":"höhe","common.custom":"benutzerdefiniert","common.original":"Original","common.square":"quadratisch","common.opacity":"Opazität","common.apply_watermark":"Wasserzeichen anwenden"}}};this.imageEditor=new h(e,this.download),this.imageURL=_.getAttribute("data-image-src"),this.id=_.getAttribute("data-image-id"),this.context=_.getAttribute("data-image-context"),this.provider=_.getAttribute("data-image-provider"),this.fileExtension=this.imageURL.slice(2+(this.imageURL.lastIndexOf(".")-1>>>0))},data:function(){return this.$i18n.locale=y,{locale:"en",imageURL:"",id:"",context:"",provider:"",imageEditor:"",newImage:"",alert:!1,alertMessage:!1,alertType:!1,fileExtension:""}},watch:{locale:function(e){this.$i18n.locale=e}},methods:{editImage:function(){if(this.alertMessage=!1,!b.includes(this.fileExtension))return this.alert=!0,this.alertType="error",void(this.alertMessage=this.$i18n.t("not_allowed_extension"));this.alert=!1,this.alertType=!1,this.alertMessage=!1,this.imageEditor.open(this.imageURL)},download:function(e){e.status,e.imageName,e.imageMime;var t=e.canvas;return this.newImage=t.toDataURL(),this.alert=!1,this.alertType=!1,this.alertMessage=!1,$("#imageModal").modal("show"),!1},cloneImage:function(){var e=this;$("#imageModal").modal("hide"),s().post("/admin/cms/media/clone",{id:this.id,clone:!0,provider:this.provider,context:this.context,file:this.newImage},v).then((function(t){e.alert=!0,t.data.success?(e.alertMessage=e.$t("message.cloned",{url:t.data.url}),e.alertType="success"):(e.alertMessage=t.data.error,e.alertType="error")})).catch((function(e){console.log(e)}))},updateImage:function(){$("#imageModal").modal("hide"),$("#confirmModal").modal("show")},rejectUpdate:function(){$("#imageModal").modal("show"),$("#confirmModal").modal("hide")},confirmUpdate:function(){var e=this;$("#confirmModal").modal("hide"),s().post("/admin/cms/media/clone",{id:this.id,clone:!1,provider:this.provider,context:this.context,file:this.newImage},v).then((function(t){t.data.success?window.location.href=t.data.url:(e.alert=!0,e.alertMessage=t.data.error,e.alertType="error")})).catch((function(e){console.log(e)}))}}};var C=(0,a(1900).Z)(w,r,[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],!1,null,null,null);C.options.__file="src/Resources/public/js/components/Editor.vue";const k=C.exports;n.Z.use(i.Z);var O=new i.Z({locale:"en",messages:{en:{not_allowed_extension:"Unfortunately the image cannot be edited",created_image:"Created Image",create_new_image:"Create a new image",replace_image:"Replace current image",are_you_sure:"Are You Sure?",edit_image:"Edit image",continue:"Yes, continue",cancel:"Cancel",original_image:"Original Image",new_image:"New Image",message:{cloned:'Image has been created, follow this <a href="{url}">link to view the new image</a>',cannot_be_undone:"This action will replace the current image, you can not undo this action"}},de:{not_allowed_extension:"Bild kann leider nicht bearbeitet werden",created_image:"Erstelltes Bild",create_new_image:"Ein neues Bild erstellen",replace_image:"Aktuelles Bild ersetzen",are_you_sure:"Sind Sie Sicher",edit_image:"Bild bearbeiten",continue:"Ja, weiter",cancel:"Abrechen",original_image:"Originalbild",new_image:"Neues Bild",message:{cloned:'Das Bild wurde erstellt, folgen Sie diesem <a href="{url}">Link, um das neue Bild anzusehen</a>.',cannot_be_undone:"Diese Aktion ersetzt das aktuelle Bild, Sie können diese Aktion nicht rückgängig machen."}}}});new n.Z({i18n:O,render:function(e){return e(k)}}).$mount("#image-editor")}},a={};function n(e){var i=a[e];if(void 0!==i)return i.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,a,i,r)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,i,r]=e[d],s=!0,l=0;l<a.length;l++)(!1&r||o>=r)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,i,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={383:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var i,r,[o,s,l]=a,c=0;if(o.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var d=l(n)}for(t&&t(a);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},a=self.webpackChunkinit_cms_bundle=self.webpackChunkinit_cms_bundle||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=n.O(void 0,[224],(()=>n(3619)));i=n.O(i)})();