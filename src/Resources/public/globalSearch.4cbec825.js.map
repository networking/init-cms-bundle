{"version":3,"file":"globalSearch.4cbec825.js","mappings":"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","sources":["webpack://init-cms-bundle/./assets/cms/search.js","webpack://init-cms-bundle/./assets/cms/global-search.js"],"sourcesContent":["\"use strict\";\n\nclass SearchModule {\n\n    constructor(element, options) {\n\n        if(!element) {\n            return;\n        }\n        this.options = {};\n        this.element = element;\n        if(options !== undefined) {\n            this.options = options\n        }\n\n        this.processing = false;\n        this.init();\n\n\n    }\n\n    init() {\n        const defaultOptions = {\n            minLength: 2,  // Miniam text lenght to query search\n            keypress: true,  // Enable search on keypress\n            enter: true,  // Enable search on enter key press\n            layout: 'menu',  // Use 'menu' or 'inline' layout options to display search results\n            responsive: null, // Pass integer value or bootstrap compatible breakpoint key(sm,md,lg,xl,xxl) to enable reponsive form mode for device width below the breakpoint value\n            showOnFocus: true // Always show menu on input focus\n        };\n        // Variables\n        this.options = KTUtil.deepExtend({}, defaultOptions, this.options);\n        this.processing = false;\n\n        // Elements\n        this.contentElement = this._getElement('content');\n        this.formElement = this._getElement('form');\n        this.inputElement = this._getElement('input');\n        this.spinnerElement = this._getElement('spinner');\n        this.clearElement = this._getElement('clear');\n        this.toggleElement = this._getElement('toggle');\n        this.submitElement = this._getElement('submit');\n        this.toolbarElement = this._getElement('toolbar');\n\n        this.resultsElement = this._getElement('results');\n        this.suggestionElement = this._getElement('suggestion');\n        this.emptyElement = this._getElement('empty');\n\n        // Set initialized\n        this.element.setAttribute('data-kt-search', 'true');\n\n        // Layout\n        this.layout = this._getOption('layout');\n\n        // // Menu\n        if ( this.layout === 'menu' ) {\n            this.menuObject = new KTMenu(this.contentElement);\n        } else {\n            this.menuObject = null;\n        }\n\n        // Update\n       this._update();\n\n        // Event Handlers\n       this._handlers();\n\n        // Bind Instance\n        KTUtil.data(this.element).set('search', this);\n    }\n\n    _handlers = function() {\n        // Focus\n        this.inputElement.addEventListener('focus',this._focus.bind(this));\n\n        // Blur\n        this.inputElement.addEventListener('blur',this._blur.bind(this));\n\n        // Keypress\n        if (this._getOption('keypress') === true ) {\n            this.inputElement.addEventListener('input',this._input.bind(this));\n        }\n\n        // Submit\n        if ( this.submitElement ) {\n            this.submitElement.addEventListener('click',this._search.bind(this));\n        }\n\n        // Enter\n        if (this._getOption('enter') === true ) {\n            this.inputElement.addEventListener('keypress',this._enter.bind(this));\n        }\n\n        // Clear\n        if ( this.clearElement ) {\n            this.clearElement.addEventListener('click',this._clear.bind(this));\n        }\n\n        // Menu\n        if ( this.menuObject ) {\n            // Toggle menu\n            if ( this.toggleElement ) {\n                this.toggleElement.addEventListener('click',this._show.bind(this));\n\n                this.menuObject.on('kt.menu.dropdown.show', (item) =>{\n                    if (KTUtil.visible(this.toggleElement)) {\n                        this.toggleElement.classList.add('active');\n                        this.toggleElement.classList.add('show');\n                    }\n                });\n\n                this.menuObject.on('kt.menu.dropdown.hide', (item) => {\n                    if (KTUtil.visible(this.toggleElement)) {\n                        this.toggleElement.classList.remove('active');\n                        this.toggleElement.classList.remove('show');\n                    }\n                });\n            }\n\n            this.menuObject.on('kt.menu.dropdown.shown', () => {\n                this.inputElement.focus();\n            });\n        }\n\n        // Window resize handling\n        window.addEventListener('resize', () => {\n            let timer;\n\n            KTUtil.throttle(timer, () => {\n               this._update();\n            }, 200);\n        });\n    }\n\n    _focus() {\n\n        this.element.classList.add('focus');\n\n        if (this._getOption('show-on-focus') === true || this.inputElement.value.length >= minLength ) {\n           this._show();\n        }\n    }\n\n    // Blur\n    _blur() {\n        this.element.classList.remove('focus');\n    }\n\n    // Enter\n    _enter(e) {\n        var key = e.charCode || e.keyCode || 0;\n\n        if (key == 13) {\n            e.preventDefault();\n\n           this._search();\n        }\n    }\n\n    _input() {\n        if ( this._getOption('min-length') )  {\n            var minLength = parseInt(this._getOption('min-length'));\n\n\n\n            if ( this.inputElement.value.length >= minLength ) {\n\n                clearTimeout(this.timer);\n\n                this.timer = setTimeout(() => {\n                    this._search();\n                }, 1000);\n\n            } else if ( this.inputElement.value.length === 0 ) {\n                this._clear();\n            }\n        }\n    }\n\n    _search() {\n        if (this.processing === false) {\n            // Show search spinner\n            if (this.spinnerElement) {\n                this.spinnerElement.classList.remove(\"d-none\");\n            }\n\n            // Hide search clear button\n            if (this.clearElement) {\n                this.clearElement.classList.add(\"d-none\");\n            }\n\n            // Hide search toolbar\n            if (this.toolbarElement && this.formElement.contains(this.toolbarElement)) {\n                this.toolbarElement.classList.add(\"d-none\");\n            }\n\n            // Focus input\n            this.inputElement.focus();\n\n            this.processing = true;\n            KTEventHandler.trigger(this.element, 'kt.search.process', this);\n        }\n    }\n\n\n    // Search\n\n    // Complete\n     _complete() {\n        if (this.spinnerElement) {\n            this.spinnerElement.classList.add(\"d-none\");\n        }\n\n        // Show search toolbar\n        if (this.clearElement) {\n            this.clearElement.classList.remove(\"d-none\");\n        }\n\n        if ( this.inputElement.value.length === 0 ) {\n           this._clear();\n        }\n\n        // Focus input\n        this.inputElement.focus();\n\n       this._show();\n\n        this.processing = false;\n    }\n\n    // Clear\n     _clear() {\n        if ( KTEventHandler.trigger(this.element, 'kt.search.clear', this) === false )  {\n            return;\n        }\n\n        // Clear and focus input\n        this.inputElement.value = \"\";\n        this.inputElement.focus();\n\n        // Hide clear icon\n        if (this.clearElement) {\n            this.clearElement.classList.add(\"d-none\");\n        }\n\n        // Show search toolbar\n        if (this.toolbarElement && this.formElement.contains(this.toolbarElement)) {\n            this.toolbarElement.classList.remove(\"d-none\");\n        }\n\n        // Hide menu\n        if (this._getOption('show-on-focus') === false ) {\n           this._hide();\n        }\n\n        KTEventHandler.trigger(this.element, 'kt.search.cleared', this);\n    }\n\n    // Update\n     _update() {\n        // Handle responsive form\n        if (this.layout === 'menu') {\n            var responsiveFormMode =this._getResponsiveFormMode();\n\n            if ( responsiveFormMode === 'on' && this.contentElement.contains(this.formElement) === false ) {\n                this.contentElement.prepend(this.formElement);\n                this.formElement.classList.remove('d-none');\n            } else if ( responsiveFormMode === 'off' && this.contentElement.contains(this.formElement) === true ) {\n                this.element.prepend(this.formElement);\n                this.formElement.classList.add('d-none');\n            }\n        }\n    }\n\n    // Show menu\n     _show() {\n        if ( this.menuObject ) {\n           this._update();\n\n            this.menuObject.show(this.element);\n        }\n    }\n\n    // Hide menu\n     _hide() {\n        if ( this.menuObject ) {\n           this._update();\n\n            this.menuObject.hide(this.element);\n        }\n    }\n\n    // Get option\n     _getOption(name) {\n        if ( this.element.hasAttribute('data-kt-search-' + name) === true ) {\n            var attr = this.element.getAttribute('data-kt-search-' + name);\n            var value = KTUtil.getResponsiveValue(attr);\n\n            if ( value !== null && String(value) === 'true' ) {\n                value = true;\n            } else if ( value !== null && String(value) === 'false' ) {\n                value = false;\n            }\n\n            return value;\n        } else {\n            var optionName = KTUtil.snakeToCamel(name);\n\n            if ( this.options[optionName] ) {\n                return KTUtil.getResponsiveValue(this.options[optionName]);\n            } else {\n                return null;\n            }\n        }\n    }\n\n    // Get element\n     _getElement(name) {\n        return this.element.querySelector('[data-kt-search-element=\"' + name + '\"]');\n    }\n\n    // Check if responsive form mode is enabled\n     _getResponsiveFormMode() {\n        var responsive =this._getOption('responsive');\n        var width = KTUtil.getViewPort().width;\n\n        if (!responsive) {\n            return null;\n        }\n\n        var breakpoint = KTUtil.getBreakpoint(responsive);\n\n        if (!breakpoint ) {\n            breakpoint = parseInt(responsive);\n        }\n\n        if (width < breakpoint) {\n            return \"on\";\n        } else {\n            return \"off\";\n        }\n    }\n\n     _destroy() {\n        KTUtil.data(this.element).remove('search');\n    }\n\n    // Plugin API\n    show() {\n        return this._show();\n    }\n\n    focus() {\n        return this.inputElement.focus();\n    }\n\n    hide() {\n        return this._hide();\n    }\n\n    update() {\n        return this._update();\n    }\n\n    search() {\n        return this._search();\n    }\n\n    complete() {\n        return this._complete();\n    }\n\n    clear() {\n        return this._clear();\n    }\n\n    isProcessing() {\n        return this.processing;\n    }\n\n    getQuery() {\n        return this.inputElement.value;\n    }\n\n    getMenu() {\n        return this.menuObject;\n    }\n\n    getFormElement() {\n        return this.formElement;\n    }\n\n    getInputElement() {\n        return this.inputElement;\n    }\n\n    getContentElement() {\n        return this.contentElement;\n    }\n\n    getElement() {\n        return this.element;\n    }\n\n    destroy() {\n        return this._destroy();\n    }\n\n    // Event API\n    on(name, handler) {\n        return KTEventHandler.on(this.element, name, handler);\n    }\n\n    one(name, handler) {\n        return KTEventHandler.one(this.element, name, handler);\n    }\n\n    off(name, handlerId) {\n        return KTEventHandler.off(this.element, name, handlerId);\n    }\n}\n\nexport default SearchModule;","\"use strict\";\nimport SearchModule from './search';\n\n// Class definition\nvar KTLayoutSearch = function() {\n    // Private variables\n    let element;\n    let formElement;\n    let mainElement;\n    let resultsElement;\n    let wrapperElement;\n    let emptyElement;\n\n    let preferencesElement;\n    let preferencesShowElement;\n    let preferencesDismissElement;\n    let preferencesSaveElement;\n\n    let advancedOptionsFormElement;\n    let advancedOptionsFormShowElement;\n    let advancedOptionsFormCancelElement;\n    let advancedOptionsFormSearchElement;\n\n    let adminGroups = [];\n    let admins = new Map();\n\n    let tryAdmins = [];\n\n    let searchObject;\n\n    let processsAjax = (search) => {\n\n        setTryAdmins();\n\n        // Learn more: https://axios-http.com/docs/intro\n        axios.get('/admin/search',{\n                ...axiosConfig,\n                params: {\n                    q: search.getQuery(),\n                    admins: tryAdmins\n                }\n            })\n            .then(function (response) {\n\n                // Populate results\n                resultsElement.innerHTML = response.data;\n                // Show results\n                resultsElement.classList.remove('d-none');\n                // Hide empty message\n                emptyElement.classList.add('d-none');\n\n                // Complete search\n                search.complete();\n            })\n            .catch(function (error) {\n                // Hide results\n                resultsElement.classList.add('d-none');\n                // Show empty message\n                emptyElement.classList.remove('d-none');\n\n                // Complete search\n                search.complete();\n            });\n    }\n\n    let clear = (search) => {\n        // Show recently viewed\n        // mainElement.classList.remove('d-none');\n        // Hide results\n        resultsElement.classList.add('d-none');\n        // // Hide empty message\n        emptyElement.classList.add('d-none');\n    }\n\n    let handlePreferences = () => {\n\n        adminGroups = JSON.parse(preferencesElement.dataset.cmsAdminGroups);\n        adminGroups.forEach((admin) => {\n            if(localStorage.getItem(admin.code) === null){\n                localStorage.setItem(admin.code, 'true')\n            }\n            admins.set(admin.code, localStorage.getItem(admin.code) === 'true')\n        });\n\n        let checkboxes = preferencesElement.querySelectorAll('input[type=\"checkbox\"]');\n\n        checkboxes.forEach((checkbox) => {\n            let isChecked = admins.get(checkbox.dataset.adminCode);\n            checkbox.checked = isChecked;\n\n            checkbox.addEventListener('change', () => {\n                admins.set(checkbox.dataset.adminCode, checkbox.checked);\n                localStorage.setItem(checkbox.dataset.adminCode, checkbox.checked)\n            })\n        })\n\n\n        setTryAdmins();\n\n        // Preference show handler\n        if (preferencesShowElement) {\n            preferencesShowElement.addEventListener('click', function() {\n                wrapperElement.classList.add('d-none');\n                preferencesElement.classList.remove('d-none');\n            });\n        }\n\n        // Preference dismiss handler\n        if (preferencesDismissElement) {\n            preferencesDismissElement.addEventListener('click', function() {\n                wrapperElement.classList.remove('d-none');\n                preferencesElement.classList.add('d-none');\n                searchObject.focus()\n            });\n        }\n\n        // Preference dismiss handler\n        if (preferencesSaveElement) {\n            preferencesSaveElement.addEventListener('click', function(e) {\n                e.preventDefault();\n                setTryAdmins();\n                searchObject.search();\n                wrapperElement.classList.remove('d-none');\n                preferencesElement.classList.add('d-none');\n            });\n        }\n\n    }\n\n    let setTryAdmins = () => {\n        tryAdmins = Array.from(admins.entries()).filter((v) => {\n            return v[1];\n        }).map((v) => {\n            return v[0];\n        })\n        document.querySelector('input[name=\"admins\"]').value = JSON.stringify(tryAdmins);\n    }\n\n    // Public methods\n    return {\n        init: function() {\n            // Elements\n            element = document.querySelector('#kt_cms_search');\n\n            if (!element) {\n                return;\n            }\n\n            wrapperElement = element.querySelector('[data-kt-search-element=\"wrapper\"]');\n            formElement = element.querySelector('[data-kt-search-element=\"form\"]');\n            resultsElement = element.querySelector('[data-kt-search-element=\"results\"]');\n            emptyElement = element.querySelector('[data-kt-search-element=\"empty\"]');\n\n            preferencesElement = element.querySelector('[data-kt-search-element=\"preferences\"]');\n            preferencesShowElement = element.querySelector('[data-kt-search-element=\"preferences-show\"]');\n            preferencesDismissElement = element.querySelector('[data-kt-search-element=\"preferences-dismiss\"]');\n            preferencesSaveElement = element.querySelector('[data-kt-search-element=\"preferences-save\"]');\n\n            // Initialize search handler\n            searchObject = new SearchModule(element)\n\n            // Demo search handler\n            searchObject.on('kt.search.process', processsAjax);\n\n            // Clear handler\n            searchObject.on('kt.search.clear', clear);\n\n            // Custom handlers\n            if (preferencesElement) {\n                handlePreferences();\n\n            }\n        }\n    };\n}();\n\n// On document ready\nKTUtil.onDOMContentLoaded(function() {\n    KTLayoutSearch.init();\n});"],"names":["constructor","element","options","this","undefined","processing","init","KTUtil","deepExtend","minLength","keypress","enter","layout","responsive","showOnFocus","contentElement","_getElement","formElement","inputElement","spinnerElement","clearElement","toggleElement","submitElement","toolbarElement","resultsElement","suggestionElement","emptyElement","setAttribute","_getOption","menuObject","KTMenu","_update","_handlers","data","set","addEventListener","_focus","bind","_blur","_input","_search","_enter","_clear","_show","on","item","visible","classList","add","remove","focus","window","throttle","timer","value","length","e","charCode","keyCode","preventDefault","parseInt","clearTimeout","setTimeout","contains","KTEventHandler","trigger","_complete","_hide","responsiveFormMode","_getResponsiveFormMode","prepend","show","hide","name","hasAttribute","attr","getAttribute","getResponsiveValue","String","optionName","snakeToCamel","querySelector","width","getViewPort","breakpoint","getBreakpoint","_destroy","update","search","complete","clear","isProcessing","getQuery","getMenu","getFormElement","getInputElement","getContentElement","getElement","destroy","handler","one","off","handlerId","KTLayoutSearch","wrapperElement","preferencesElement","preferencesShowElement","preferencesDismissElement","preferencesSaveElement","searchObject","adminGroups","admins","Map","tryAdmins","processsAjax","setTryAdmins","axios","get","axiosConfig","params","q","then","response","innerHTML","catch","error","Array","from","entries","filter","v","map","document","JSON","stringify","parse","dataset","cmsAdminGroups","forEach","admin","localStorage","getItem","code","setItem","querySelectorAll","checkbox","isChecked","adminCode","checked","onDOMContentLoaded"],"sourceRoot":""}