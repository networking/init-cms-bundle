/*! For license information please see generalSignin.915af5f2.js.LICENSE.txt */
(()=>{"use strict";let e=function(){let e,t,i;const s=localStorage.getItem("kt_auth_lang")??document.getElementsByTagName("html")[0].getAttribute("lang"),r={en:{email_invalid:"The value is not a valid email address",email_empty:"Email address is required",password_empty:"The password is required",login_success:"You have successfully logged in!",login_error:"Sorry, looks like there are some errors detected, please try again.",ok:"Ok, got it!"},de:{email_invalid:"Der Wert ist keine gültige E-Mail-Adresse",email_empty:"E-Mail-Adresse ist erforderlich",password_empty:"Das Passwort ist erforderlich",login_success:"Sie haben sich erfolgreich angemeldet!",login_error:"Entschuldigung, es scheint, dass einige Fehler erkannt wurden, bitte versuchen Sie es erneut.",ok:"Ok, verstanden!"},fr:{email_invalid:"La valeur n'est pas une adresse e-mail valide",email_empty:"L'adresse e-mail est requise",password_empty:"Le mot de passe est requis",login_success:"Vous vous êtes connecté avec succès!",login_error:"Désolé, il semble qu'il y ait des erreurs détectées, veuillez réessayer.",ok:"Ok, compris!"},it:{email_invalid:"Il valore non è un indirizzo e-mail valido",email_empty:"L'indirizzo e-mail è richiesto",password_empty:"La password è richiesta",login_success:"L'accesso è stato effettuato con successo!",login_error:"Spiacente, sembra che siano stati rilevati degli errori, si prega di riprovare.",ok:"Ok, capito!"}};let a=function(e){switch(s){case"German":case"de":return r.de[e];case"Italian":case"it":return r.it[e];case"French":case"fr":return r.fr[e];default:return r.en[e]}};return{init:function(){e=document.querySelector("#kt_sign_in_form"),t=document.querySelector("#kt_sign_in_submit"),i=FormValidation.formValidation(e,{fields:{_username:{validators:{regexp:{regexp:/^[^\s@]+@[^\s@]+\.[^\s@]+$|^sysadmin$/,message:a("email_invalid")},notEmpty:{message:a("email_empty")}}},_password:{validators:{notEmpty:{message:a("password_empty")}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),function(e){try{return new URL(e),!0}catch(e){return!1}}(t.closest("form").getAttribute("action"))&&async function(s){let r=await CMSAdmin.getRouting();t.addEventListener("click",(function(s){s.preventDefault(),i.validate().then((function(i){if("Valid"===i){t.setAttribute("data-kt-indicator","on"),t.disabled=!0;let i=new FormData(e),s={};i.forEach(((e,t)=>{s[t]=e})),axios.post(r.generate("cms_api_login"),s,{...axiosConfig}).then((e=>{t.disabled=!1,t.removeAttribute("data-kt-indicator");let i=e.data.redirect;Swal.fire({text:a("login_success"),type:"success",icon:"success",timer:1e3,showConfirmButton:!1}).then((()=>{let e=window.location.protocol+"//"+window.location.host;-1!==i.indexOf(e)&&-1!==i.indexOf("http")||(i=e+i),location.href=i}))})).catch((e=>{t.disabled=!1,t.removeAttribute("data-kt-indicator");let i=e.response.data;Swal.fire({text:i.error,icon:"error",buttonsStyling:!1,confirmButtonText:a("ok"),customClass:{confirmButton:"btn btn-primary"}}),t.disabled=!1}))}else Swal.fire({text:a("login_error"),icon:"error",buttonsStyling:!1,confirmButtonText:a("ok"),customClass:{confirmButton:"btn btn-primary"}})}))}))}()}}}();KTUtil.onDOMContentLoaded((function(){e.init()}))})();
//# sourceMappingURL=generalSignin.915af5f2.js.map