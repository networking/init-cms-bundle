"use strict";var CMSList=function(){var t,e,o,n,c=()=>{e.querySelectorAll('[data-kt-list-table-filter="delete_row"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const o=e.target.closest("tr"),n=o.querySelectorAll("td")[1].innerText;Swal.fire({text:"Are you sure you want to delete "+n+"?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(e){e.value?Swal.fire({text:"You have deleted "+n+"!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){t.row($(o)).remove().draw()})):"cancel"===e.dismiss&&Swal.fire({text:n+" was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))}))},r=t=>{t.preventDefault(),t.stopPropagation(),l();t.target;let e=document.querySelector('[data-kt-list-table-select="batch_action"]').value,n=document.querySelector("#kt-batch-form"),c=new FormData(n);c.append("action",e),fetch(n.getAttribute("action"),{method:n.method,body:c,headers:{"X-Requested-With":"XMLHttpRequest"}}).then((t=>t.text())).then((t=>{document.querySelector("#list_dialog").querySelector(".modal-content").innerHTML=t,o.show(),CMSAdmin.createSelect2()}))},l=()=>{o||(o=new bootstrap.Modal(document.querySelector("#list_dialog",{height:"auto",width:650,show:!1})))},a=()=>{e.querySelectorAll('[type="checkbox"]').forEach((t=>{t.addEventListener("click",(function(){setTimeout((function(){d()}),50)}))}))};const i=()=>{document.querySelectorAll(".advanced-filter").forEach((t=>{if(t.classList.contains("d-none"))return t.classList.remove("d-none");t.classList.add("d-none")}))},d=()=>{const t=document.querySelector('[data-kt-list-table-toolbar="base"]'),o=document.querySelector('[data-kt-list-table-toolbar="selected"]'),n=document.querySelector('[data-kt-list-table-select="selected_count"]'),c=e.querySelectorAll('tbody [type="checkbox"]');let r=!1,l=0;c.forEach((t=>{t.checked&&(r=!0,l++)})),r?(n.innerHTML=l,t.classList.add("d-none"),o.classList.remove("d-none")):(t.classList.remove("d-none"),o.classList.add("d-none"))};return{init:function(){e=document.querySelector("#init_cms_data_table"),(n=document.querySelector("#kt_advance_filter_toggle"))&&n.addEventListener("click",i),e&&(e.querySelectorAll("tbody tr").forEach((t=>{})),(t=$(e).DataTable({order:[],columnDefs:[{orderable:!1,targets:[0,"no_sorting"]}],lengthMenu:[[20,50,100,-1],[20,50,100,"All"]]})).on("draw",(function(){a(),c(),d(),KTMenu.init()})),a(),document.querySelector('[data-kt-list-table-filter="search"]').addEventListener("keyup",(function(o){e.querySelector('[data-kt-check="true"]').checked=!1,e.querySelectorAll('tbody [type="checkbox"]').forEach((t=>{t.checked=!1})),t.search(o.target.value).draw()})),document.querySelector(".batch-dialog-link").addEventListener("click",r))}}}();KTUtil.onDOMContentLoaded((function(){CMSList.init()}));
//# sourceMappingURL=list.js.map
