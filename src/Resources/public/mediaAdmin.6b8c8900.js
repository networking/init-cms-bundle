/*! For license information please see mediaAdmin.6b8c8900.js.LICENSE.txt */
(()=>{var e={7099:(e,t,i)=>{"use strict";i.d(t,{x:()=>$t});i(7568);var n=i(9755);class r{constructor(e){e.dataset.modelListInitialized||(this.element=e,this.id=e.dataset.fieldId,this.field=document.querySelector("#"+this.id),this.preview=e.querySelector("#field_widget_"+this.id),this.createModal(),this.listLink=e.querySelector("#field_list_link_"+this.id),this.addLink=e.querySelector("#field_add_link_"+this.id),this.removeLink=e.querySelector("#field_remove_link_"+this.id),this.objectId=this.field.value,this.selectMediaEventId="",this.searchMediaEventId="",this.addMediaEventId="",this.perPageEventId="",KTUtil.on(this.element,"#"+this.id,"change",this.updatePreview.bind(this)),KTUtil.on(this.element,"#field_dialog_"+this.id,"hide.bs.modal",(()=>{this.removeListeners(),this.dialogContainer.querySelector(".modal-content").innerHTML=""})),this.initialize())}initialize(){this.element.dataset.modelListInitialized=!0,this.listLink.addEventListener("click",this.createListDialog.bind(this)),this.removeLink.addEventListener("click",this.removeSelectedElement.bind(this)),this.addLink.addEventListener("click",this.addMediaDialog.bind(this))}createModal(){let e=document.createElement("div");e.setAttribute("id","field_dialog_"+this.id),e.setAttribute("class","modal fade"),e.setAttribute("tabindex","-1"),e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.innerHTML='\n            <div class="modal-dialog mw-1000px" role="document">\n                <div class="modal-content">\n                </div>\n            </div>\n        ',document.body.appendChild(e),this.dialogContainer=document.querySelector("#field_dialog_"+this.id),this.dialog=new bootstrap.Modal(this.dialogContainer,{height:"auto",width:650,show:!1})}setupTree(){let e=this.dialogContainer.querySelector("#tagsContainer"),t=n(e);e.dataset.selected;let i=t.data("tagsJson");t.jstree({types:{default:{icon:"fa fa-folder text-primary fs-2x"},file:{icon:"fa fa-file text-primary fs-2x"}},plugins:["sort","types"],sort:function(e,t){let i=this.get_node(e),n=this.get_node(t);return i.data.show_first?-1:n.data.show_first||i.text.toLowerCase()>n.text.toLowerCase()?1:-1},core:{themes:{variant:"large"},data:function(e,t){t(i)}}})}removeListeners(){KTUtil.off(this.dialogContainer,"click",this.selectMediaEventId),KTUtil.off(this.dialogContainer,"submit",this.searchMediaEventId),KTUtil.off(this.dialogContainer,"submit",this.addMediaEventId),KTUtil.off(this.dialogContainer,"change",this.perPageEventId)}addSearchListeners(){""!==this.searchMediaEventId&&KTUtil.off(this.dialogContainer,"submit",this.searchMediaEventId),this.searchMediaEventId=KTUtil.on(this.dialogContainer,"form","submit",this.searchMedia.bind(this))}addUploadListeners(){""!==this.addMediaEventId&&KTUtil.off(this.dialogContainer,"submit",this.addMediaEventId),this.addMediaEventId=KTUtil.on(this.dialogContainer,"form","submit",this.uploadMedia.bind(this)),this.dialogContainer.querySelectorAll('[data-bs-dismiss="modal"]').forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.dialog.hide()}))}))}addClickOnLinkListeners(){""!==this.selectMediaEventId&&KTUtil.off(this.dialogContainer,"click",this.selectMediaEventId),this.selectMediaEventId=KTUtil.on(this.dialogContainer,"a","click",this.clickLinkInDialog.bind(this))}addPerPageListeners(){this.perPageEventId=KTUtil.on(this.dialogContainer,".per-page","change",(e=>{e.preventDefault();let t=e.target.value,i=e.target.dataset.page,n=e.target.dataset.sortOrder,r=e.target.dataset.sortBy,s=e.target.dataset.tags,o=e.target.dataset.name;this.refreshList({"filter[_per_page]":t,"filter[_page]":i,"filter[_sort_order]":n,"filter[_sort_by]":r,"filter[tags][value]":s,"filter[name][value]":o})}))}createListDialog(e){e.preventDefault();let t=this.listLink.getAttribute("href");fetch(t,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e,this.addSearchListeners(),this.addClickOnLinkListeners(),this.addPerPageListeners(),this.dialog.show(),this.setupTree(),$t.initToolTips(this.dialogContainer)}))}clickLinkInDialog(e){e.preventDefault();let t=e.target;if(t.classList.contains("select-media"))return void this.selectMedia(e);if(t.classList.contains("tag_link")){var i=t.dataset.pk;return void this.refreshList({"filter[tags][value]":i})}if(t.classList.contains("show_all_media"))return void this.refreshList({"filter[tags][value]":""});t.getAttribute("href")||(t=t.closest("a"));let n=t.getAttribute("href");n&&"#"!==n&&fetch(n,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e,this.addSearchListeners(),this.addUploadListeners(),this.addClickOnLinkListeners(),$t.initSpecialFields(),this.setupTree(),$t.initToolTips(this.dialogContainer)}))}refreshList(e){e||(e={});let t=new FormData(document.querySelector("#search-form"));for(const i in e)t.append(i,e[i]);t.set("galleryMode","gallery"),e=Object.fromEntries(t.entries());let i=this.dialogContainer.querySelector("#tagsContainer");axios.get(i.dataset.refreshListUrl,{...axiosConfig,params:e}).then((e=>{document.querySelector("#item_list").innerHTML=e.data,$t.initToolTips(this.dialogContainer)}))}selectMedia(e){e.preventDefault();let t=e.target;this.field.value=t.dataset.objectId,this.updatePreview(),this.dialog.hide()}searchMedia(e){e.preventDefault();let t=e.target,i=new URL(t.action),n=Object.fromEntries(new FormData(t).entries());for(const e in n)i.searchParams.append(e,n[e]);axios.get(i.toString(),{...axiosConfig}).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e.data,this.addSearchListeners(),this.setupTree()}))}addMediaDialog(e){e.preventDefault();let t=this.addLink.getAttribute("href");fetch(t,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e,this.addUploadListeners(),this.dialog.show()}))}uploadMedia(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=new FormData(t);axios.post(t.getAttribute("action"),i,{...axiosConfig}).then((e=>{if("ok"==e.data.result)return this.field.value=e.data.objectId,this.updatePreview(),void this.dialog.hide();this.dialogContainer.querySelector(".modal-content").innerHTML=e.data,this.addUploadListeners(),$t.createSelect2()})).catch((e=>{}))}updatePreview(){if(""===this.field.value)return void(this.preview.innerHTML="");let e=this.preview.dataset.previewUrl.replace("__objectId__",this.field.value);fetch(e,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.preview.innerHTML=e}))}removeSelectedElement(e){(e.preventDefault(),this.field.options)&&this.field.options.map((e=>{e.selected=!1}));this.field.value="",this.updatePreview()}}const s={init(){document.querySelectorAll(".media-entity").forEach((e=>{new r(e)}))}};function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d.apply(this,arguments)}function h(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function p(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var g=p(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),m=p(/Edge/i),v=p(/firefox/i),_=p(/safari/i)&&!p(/chrome/i)&&!p(/android/i),y=p(/iP(ad|od|hone)/i),b=p(/chrome/i)&&p(/android/i),w={capture:!1,passive:!1};function x(e,t,i){e.addEventListener(t,i,!g&&w)}function k(e,t,i){e.removeEventListener(t,i,!g&&w)}function E(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function T(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function S(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&E(e,t):E(e,t))||n&&e===i)return e;if(e===i)break}while(e=T(e))}return null}var j,C=/\s+/g;function A(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(C," ")}}function L(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function D(e,t){var i="";if("string"==typeof e)i=e;else do{var n=L(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function O(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,s=n.length;if(i)for(;r<s;r++)i(n[r],r);return n}return[]}function N(){return document.scrollingElement||document.documentElement}function I(e,t,i,n,r){if(e.getBoundingClientRect||e===window){var s,o,a,l,c,d,h;if(e!==window&&e.parentNode&&e!==N()?(o=(s=e.getBoundingClientRect()).top,a=s.left,l=s.bottom,c=s.right,d=s.height,h=s.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(r=r||e.parentNode,!g))do{if(r&&r.getBoundingClientRect&&("none"!==L(r,"transform")||i&&"static"!==L(r,"position"))){var u=r.getBoundingClientRect();o-=u.top+parseInt(L(r,"border-top-width")),a-=u.left+parseInt(L(r,"border-left-width")),l=o+s.height,c=a+s.width;break}}while(r=r.parentNode);if(n&&e!==window){var f=D(r||e),p=f&&f.a,m=f&&f.d;f&&(l=(o/=m)+(d/=m),c=(a/=p)+(h/=p))}return{top:o,left:a,bottom:l,right:c,width:h,height:d}}}function P(e,t,i){for(var n=q(e,!0),r=I(e)[t];n;){var s=I(n)[i];if(!("top"===i||"left"===i?r>=s:r<=s))return n;if(n===N())break;n=q(n,!1)}return!1}function M(e,t,i,n){for(var r=0,s=0,o=e.children;s<o.length;){if("none"!==o[s].style.display&&o[s]!==Ge.ghost&&(n||o[s]!==Ge.dragged)&&S(o[s],i.draggable,e,!1)){if(r===t)return o[s];r++}s++}return null}function H(e,t){for(var i=e.lastElementChild;i&&(i===Ge.ghost||"none"===L(i,"display")||t&&!E(i,t));)i=i.previousElementSibling;return i||null}function R(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ge.clone||t&&!E(e,t)||i++;return i}function B(e){var t=0,i=0,n=N();if(e)do{var r=D(e),s=r.a,o=r.d;t+=e.scrollLeft*s,i+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,i]}function q(e,t){if(!e||!e.getBoundingClientRect)return N();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=L(i);if(i.clientWidth<i.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!i.getBoundingClientRect||i===document.body)return N();if(n||t)return i;n=!0}}}while(i=i.parentNode);return N()}function $(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function U(e,t){return function(){if(!j){var i=arguments;1===i.length?e.call(this,i[0]):e.apply(this,i),j=setTimeout((function(){j=void 0}),t)}}}function F(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function z(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function X(e,t){L(e,"position","absolute"),L(e,"top",t.top),L(e,"left",t.left),L(e,"width",t.width),L(e,"height",t.height)}function G(e){L(e,"position",""),L(e,"top",""),L(e,"left",""),L(e,"width",""),L(e,"height","")}var K="Sortable"+(new Date).getTime();function Y(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==L(e,"display")&&e!==Ge.ghost){t.push({target:e,rect:I(e)});var i=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=D(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var r=!1,s=0;t.forEach((function(e){var t=0,i=e.target,o=i.fromRect,a=I(i),l=i.prevFromRect,c=i.prevToRect,d=e.rect,h=D(i,!0);h&&(a.top-=h.f,a.left-=h.e),i.toRect=a,i.thisAnimationDuration&&$(l,a)&&!$(o,a)&&(d.top-a.top)/(d.left-a.left)==(o.top-a.top)/(o.left-a.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(d,l,c,n.options)),$(a,o)||(i.prevFromRect=o,i.prevToRect=a,t||(t=n.options.animation),n.animate(i,d,a,t)),t&&(r=!0,s=Math.max(s,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof i&&i()}),s):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){L(e,"transition",""),L(e,"transform","");var r=D(this.el),s=r&&r.a,o=r&&r.d,a=(t.left-i.left)/(s||1),l=(t.top-i.top)/(o||1);e.animatingX=!!a,e.animatingY=!!l,L(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),L(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),L(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){L(e,"transition",""),L(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var W=[],V={initializeByDefault:!0},J={mount:function(e){for(var t in V)V.hasOwnProperty(t)&&!(t in e)&&(e[t]=V[t]);W.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),W.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var r=e+"Global";W.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][r]&&t[n.pluginName][r](a({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](a({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var r in W.forEach((function(n){var r=n.pluginName;if(e.options[r]||n.initializeByDefault){var s=new n(e,t,e.options);s.sortable=e,s.options=e.options,e[r]=s,d(i,s.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var s=this.modifyOption(e,r,e.options[r]);void 0!==s&&(e.options[r]=s)}},getEventProperties:function(e,t){var i={};return W.forEach((function(n){"function"==typeof n.eventProperties&&d(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return W.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(n=r.optionListeners[t].call(e[r.pluginName],i))})),n}};function Z(e){var t=e.sortable,i=e.rootEl,n=e.name,r=e.targetEl,s=e.cloneEl,o=e.toEl,l=e.fromEl,c=e.oldIndex,d=e.newIndex,h=e.oldDraggableIndex,u=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[K]){var _,y=t.options,b="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||g||m?(_=document.createEvent("Event")).initEvent(n,!0,!0):_=new CustomEvent(n,{bubbles:!0,cancelable:!0}),_.to=o||i,_.from=l||i,_.item=r||i,_.clone=s,_.oldIndex=c,_.newIndex=d,_.oldDraggableIndex=h,_.newDraggableIndex=u,_.originalEvent=f,_.pullMode=p?p.lastPutMode:void 0;var w=a(a({},v),J.getEventProperties(n,t));for(var x in w)_[x]=w[x];i&&i.dispatchEvent(_),y[b]&&y[b].call(t,_)}}var Q=["evt"],ee=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,r=h(i,Q);J.pluginEvent.bind(Ge)(e,t,a({dragEl:ie,parentEl:ne,ghostEl:re,rootEl:se,nextEl:oe,lastDownEl:ae,cloneEl:le,cloneHidden:ce,dragStarted:xe,putSortable:ge,activeSortable:Ge.active,originalEvent:n,oldIndex:de,oldDraggableIndex:ue,newIndex:he,newDraggableIndex:fe,hideGhostForTarget:Ue,unhideGhostForTarget:Fe,cloneNowHidden:function(){ce=!0},cloneNowShown:function(){ce=!1},dispatchSortableEvent:function(e){te({sortable:t,name:e,originalEvent:n})}},r))};function te(e){Z(a({putSortable:ge,cloneEl:le,targetEl:ie,rootEl:se,oldIndex:de,oldDraggableIndex:ue,newIndex:he,newDraggableIndex:fe},e))}var ie,ne,re,se,oe,ae,le,ce,de,he,ue,fe,pe,ge,me,ve,_e,ye,be,we,xe,ke,Ee,Te,Se,je=!1,Ce=!1,Ae=[],Le=!1,De=!1,Oe=[],Ne=!1,Ie=[],Pe="undefined"!=typeof document,Me=y,He=m||g?"cssFloat":"float",Re=Pe&&!b&&!y&&"draggable"in document.createElement("div"),Be=function(){if(Pe){if(g)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),qe=function(e,t){var i=L(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=M(e,0,t),s=M(e,1,t),o=r&&L(r),a=s&&L(s),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+I(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(s).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&o.float&&"none"!==o.float){var d="left"===o.float?"left":"right";return!s||"both"!==a.clear&&a.clear!==d?"horizontal":"vertical"}return r&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=n&&"none"===i[He]||s&&"none"===i[He]&&l+c>n)?"vertical":"horizontal"},$e=function(e){function t(e,i){return function(n,r,s,o){var a=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==e&&(i||a))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,r,s,o),i)(n,r,s,o);var l=(i?n:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==l(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},Ue=function(){!Be&&re&&L(re,"display","none")},Fe=function(){!Be&&re&&L(re,"display","")};Pe&&!b&&document.addEventListener("click",(function(e){if(Ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ce=!1,!1}),!0);var ze=function(e){if(ie){var t=function(e,t){var i;return Ae.some((function(n){var r=n[K].options.emptyInsertThreshold;if(r&&!H(n)){var s=I(n),o=e>=s.left-r&&e<=s.right+r,a=t>=s.top-r&&t<=s.bottom+r;return o&&a?i=n:void 0}})),i}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[K]._onDragOver(i)}}},Xe=function(e){ie&&ie.parentNode[K]._isOutsideThisEl(e.target)};function Ge(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=d({},t),e[K]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ge.supportPointer&&"PointerEvent"in window&&!_,emptyInsertThreshold:5};for(var n in J.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var r in $e(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Re,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?x(e,"pointerdown",this._onTapStart):(x(e,"mousedown",this._onTapStart),x(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(x(e,"dragover",this),x(e,"dragenter",this)),Ae.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),d(this,Y())}function Ke(e,t,i,n,r,s,o,a){var l,c,d=e[K],h=d.options.onMove;return!window.CustomEvent||g||m?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=r||t,l.relatedRect=s||I(t),l.willInsertAfter=a,l.originalEvent=o,e.dispatchEvent(l),h&&(c=h.call(d,l,o)),c}function Ye(e){e.draggable=!1}function We(){Ne=!1}function Ve(e,t,i,n,r,s,o,a){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,d=n?i.top:i.left,h=n?i.bottom:i.right,u=!1;if(!o)if(a&&Te<c*r){if(!Le&&(1===Ee?l>d+c*s/2:l<h-c*s/2)&&(Le=!0),Le)u=!0;else if(1===Ee?l<d+Te:l>h-Te)return-Ee}else if(l>d+c*(1-r)/2&&l<h-c*(1-r)/2)return function(e){return R(ie)<R(e)?1:-1}(t);return(u=u||o)&&(l<d+c*s/2||l>h-c*s/2)?l>d+c/2?1:-1:0}function Je(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Ze(e){return setTimeout(e,0)}function Qe(e){return clearTimeout(e)}Ge.prototype={constructor:Ge,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ke=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,ie):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,r=n.preventOnFilter,s=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=n.filter;if(function(e){Ie.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Ie.push(n)}}(i),!ie&&!(/mousedown|pointerdown/.test(s)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!_||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=S(a,n.draggable,i,!1))&&a.animated||ae===a)){if(de=R(a),ue=R(a,n.draggable),"function"==typeof c){if(c.call(this,e,a,this))return te({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:i,fromEl:i}),ee("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=S(l,n.trim(),i,!1))return te({sortable:t,rootEl:n,name:"filter",targetEl:a,fromEl:i,toEl:i}),ee("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());n.handle&&!S(l,n.handle,i,!1)||this._prepareDragStart(e,o,a)}}},_prepareDragStart:function(e,t,i){var n,r=this,s=r.el,o=r.options,a=s.ownerDocument;if(i&&!ie&&i.parentNode===s){var l=I(i);if(se=s,ne=(ie=i).parentNode,oe=ie.nextSibling,ae=i,pe=o.group,Ge.dragged=ie,me={target:ie,clientX:(t||e).clientX,clientY:(t||e).clientY},be=me.clientX-l.left,we=me.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ie.style["will-change"]="all",n=function(){ee("delayEnded",r,{evt:e}),Ge.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!v&&r.nativeDraggable&&(ie.draggable=!0),r._triggerDragStart(e,t),te({sortable:r,name:"choose",originalEvent:e}),A(ie,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){O(ie,e.trim(),Ye)})),x(a,"dragover",ze),x(a,"mousemove",ze),x(a,"touchmove",ze),x(a,"mouseup",r._onDrop),x(a,"touchend",r._onDrop),x(a,"touchcancel",r._onDrop),v&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ie.draggable=!0),ee("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(m||g))n();else{if(Ge.eventCanceled)return void this._onDrop();x(a,"mouseup",r._disableDelayedDrag),x(a,"touchend",r._disableDelayedDrag),x(a,"touchcancel",r._disableDelayedDrag),x(a,"mousemove",r._delayedDragTouchMoveHandler),x(a,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&x(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ie&&Ye(ie),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;k(e,"mouseup",this._disableDelayedDrag),k(e,"touchend",this._disableDelayedDrag),k(e,"touchcancel",this._disableDelayedDrag),k(e,"mousemove",this._delayedDragTouchMoveHandler),k(e,"touchmove",this._delayedDragTouchMoveHandler),k(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?x(document,"pointermove",this._onTouchMove):x(document,t?"touchmove":"mousemove",this._onTouchMove):(x(ie,"dragend",this),x(se,"dragstart",this._onDragStart));try{document.selection?Ze((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(je=!1,se&&ie){ee("dragStarted",this,{evt:t}),this.nativeDraggable&&x(document,"dragover",Xe);var i=this.options;!e&&A(ie,i.dragClass,!1),A(ie,i.ghostClass,!0),Ge.active=this,e&&this._appendGhost(),te({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,Ue();for(var e=document.elementFromPoint(ve.clientX,ve.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY))!==t;)t=e;if(ie.parentNode[K]._isOutsideThisEl(e),t)do{if(t[K]&&t[K]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Fe()}},_onTouchMove:function(e){if(me){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,r=e.touches?e.touches[0]:e,s=re&&D(re,!0),o=re&&s&&s.a,a=re&&s&&s.d,l=Me&&Se&&B(Se),c=(r.clientX-me.clientX+n.x)/(o||1)+(l?l[0]-Oe[0]:0)/(o||1),d=(r.clientY-me.clientY+n.y)/(a||1)+(l?l[1]-Oe[1]:0)/(a||1);if(!Ge.active&&!je){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(re){s?(s.e+=c-(_e||0),s.f+=d-(ye||0)):s={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");L(re,"webkitTransform",h),L(re,"mozTransform",h),L(re,"msTransform",h),L(re,"transform",h),_e=c,ye=d,ve=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!re){var e=this.options.fallbackOnBody?document.body:se,t=I(ie,!0,Me,!0,e),i=this.options;if(Me){for(Se=e;"static"===L(Se,"position")&&"none"===L(Se,"transform")&&Se!==document;)Se=Se.parentNode;Se!==document.body&&Se!==document.documentElement?(Se===document&&(Se=N()),t.top+=Se.scrollTop,t.left+=Se.scrollLeft):Se=N(),Oe=B(Se)}A(re=ie.cloneNode(!0),i.ghostClass,!1),A(re,i.fallbackClass,!0),A(re,i.dragClass,!0),L(re,"transition",""),L(re,"transform",""),L(re,"box-sizing","border-box"),L(re,"margin",0),L(re,"top",t.top),L(re,"left",t.left),L(re,"width",t.width),L(re,"height",t.height),L(re,"opacity","0.8"),L(re,"position",Me?"absolute":"fixed"),L(re,"zIndex","100000"),L(re,"pointerEvents","none"),Ge.ghost=re,e.appendChild(re),L(re,"transform-origin",be/parseInt(re.style.width)*100+"% "+we/parseInt(re.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,r=i.options;ee("dragStart",this,{evt:e}),Ge.eventCanceled?this._onDrop():(ee("setupClone",this),Ge.eventCanceled||((le=z(ie)).removeAttribute("id"),le.draggable=!1,le.style["will-change"]="",this._hideClone(),A(le,this.options.chosenClass,!1),Ge.clone=le),i.cloneId=Ze((function(){ee("clone",i),Ge.eventCanceled||(i.options.removeCloneOnHide||se.insertBefore(le,ie),i._hideClone(),te({sortable:i,name:"clone"}))})),!t&&A(ie,r.dragClass,!0),t?(Ce=!0,i._loopId=setInterval(i._emulateDragOver,50)):(k(document,"mouseup",i._onDrop),k(document,"touchend",i._onDrop),k(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(i,n,ie)),x(document,"drop",i),L(ie,"transform","translateZ(0)")),je=!0,i._dragStartId=Ze(i._dragStarted.bind(i,t,e)),x(document,"selectstart",i),xe=!0,_&&L(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,r,s=this.el,o=e.target,l=this.options,c=l.group,d=Ge.active,h=pe===c,u=l.sort,f=ge||d,p=this,g=!1;if(!Ne){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=S(o,l.draggable,s,!0),N("dragOver"),Ge.eventCanceled)return g;if(ie.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return q(!1);if(Ce=!1,d&&!l.disabled&&(h?u||(n=ne!==se):ge===this||(this.lastPutMode=pe.checkPull(this,d,ie,e))&&c.checkPut(this,d,ie,e))){if(r="vertical"===this._getDirection(e,o),t=I(ie),N("dragOverValid"),Ge.eventCanceled)return g;if(n)return ne=se,B(),this._hideClone(),N("revert"),Ge.eventCanceled||(oe?se.insertBefore(ie,oe):se.appendChild(ie)),q(!0);var m=H(s,l.draggable);if(!m||function(e,t,i){var n=I(H(i.el,i.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,r,this)&&!m.animated){if(m===ie)return q(!1);if(m&&s===e.target&&(o=m),o&&(i=I(o)),!1!==Ke(se,s,ie,t,o,i,e,!!o))return B(),m&&m.nextSibling?s.insertBefore(ie,m.nextSibling):s.appendChild(ie),ne=s,$(),q(!0)}else if(m&&function(e,t,i){var n=I(M(i.el,0,i.options,!0));return t?e.clientX<n.left-10||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-10||e.clientY<n.bottom&&e.clientX<n.left}(e,r,this)){var v=M(s,0,l,!0);if(v===ie)return q(!1);if(i=I(o=v),!1!==Ke(se,s,ie,t,o,i,e,!1))return B(),s.insertBefore(ie,v),ne=s,$(),q(!0)}else if(o.parentNode===s){i=I(o);var _,y,b,w=ie.parentNode!==s,x=!function(e,t,i){var n=i?e.left:e.top,r=i?e.right:e.bottom,s=i?e.width:e.height,o=i?t.left:t.top,a=i?t.right:t.bottom,l=i?t.width:t.height;return n===o||r===a||n+s/2===o+l/2}(ie.animated&&ie.toRect||t,o.animated&&o.toRect||i,r),k=r?"top":"left",E=P(o,"top","top")||P(ie,"top","top"),T=E?E.scrollTop:void 0;if(ke!==o&&(y=i[k],Le=!1,De=!x&&l.invertSwap||w),0!==(_=Ve(e,o,i,r,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,De,ke===o))){var j=R(ie);do{j-=_,b=ne.children[j]}while(b&&("none"===L(b,"display")||b===re))}if(0===_||b===o)return q(!1);ke=o,Ee=_;var C=o.nextElementSibling,D=!1,O=Ke(se,s,ie,t,o,i,e,D=1===_);if(!1!==O)return 1!==O&&-1!==O||(D=1===O),Ne=!0,setTimeout(We,30),B(),D&&!C?s.appendChild(ie):o.parentNode.insertBefore(ie,D?C:o),E&&F(E,0,T-E.scrollTop),ne=ie.parentNode,void 0===y||De||(Te=Math.abs(y-I(o)[k])),$(),q(!0)}if(s.contains(ie))return q(!1)}return!1}function N(l,c){ee(l,p,a({evt:e,isOwner:h,axis:r?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:u,fromSortable:f,target:o,completed:q,onMove:function(i,n){return Ke(se,s,ie,t,i,I(i),e,n)},changed:$},c))}function B(){N("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function q(t){return N("dragOverCompleted",{insertion:t}),t&&(h?d._hideClone():d._showClone(p),p!==f&&(A(ie,ge?ge.options.ghostClass:d.options.ghostClass,!1),A(ie,l.ghostClass,!0)),ge!==p&&p!==Ge.active?ge=p:p===Ge.active&&ge&&(ge=null),f===p&&(p._ignoreWhileAnimating=o),p.animateAll((function(){N("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(o===ie&&!ie.animated||o===s&&!o.animated)&&(ke=null),l.dragoverBubble||e.rootEl||o===document||(ie.parentNode[K]._isOutsideThisEl(e.target),!t&&ze(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function $(){he=R(ie),fe=R(ie,l.draggable),te({sortable:p,name:"change",toEl:s,newIndex:he,newDraggableIndex:fe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){k(document,"mousemove",this._onTouchMove),k(document,"touchmove",this._onTouchMove),k(document,"pointermove",this._onTouchMove),k(document,"dragover",ze),k(document,"mousemove",ze),k(document,"touchmove",ze)},_offUpEvents:function(){var e=this.el.ownerDocument;k(e,"mouseup",this._onDrop),k(e,"touchend",this._onDrop),k(e,"pointerup",this._onDrop),k(e,"touchcancel",this._onDrop),k(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;he=R(ie),fe=R(ie,i.draggable),ee("drop",this,{evt:e}),ne=ie&&ie.parentNode,he=R(ie),fe=R(ie,i.draggable),Ge.eventCanceled||(je=!1,De=!1,Le=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Qe(this.cloneId),Qe(this._dragStartId),this.nativeDraggable&&(k(document,"drop",this),k(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_&&L(document.body,"user-select",""),L(ie,"transform",""),e&&(xe&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),re&&re.parentNode&&re.parentNode.removeChild(re),(se===ne||ge&&"clone"!==ge.lastPutMode)&&le&&le.parentNode&&le.parentNode.removeChild(le),ie&&(this.nativeDraggable&&k(ie,"dragend",this),Ye(ie),ie.style["will-change"]="",xe&&!je&&A(ie,ge?ge.options.ghostClass:this.options.ghostClass,!1),A(ie,this.options.chosenClass,!1),te({sortable:this,name:"unchoose",toEl:ne,newIndex:null,newDraggableIndex:null,originalEvent:e}),se!==ne?(he>=0&&(te({rootEl:ne,name:"add",toEl:ne,fromEl:se,originalEvent:e}),te({sortable:this,name:"remove",toEl:ne,originalEvent:e}),te({rootEl:ne,name:"sort",toEl:ne,fromEl:se,originalEvent:e}),te({sortable:this,name:"sort",toEl:ne,originalEvent:e})),ge&&ge.save()):he!==de&&he>=0&&(te({sortable:this,name:"update",toEl:ne,originalEvent:e}),te({sortable:this,name:"sort",toEl:ne,originalEvent:e})),Ge.active&&(null!=he&&-1!==he||(he=de,fe=ue),te({sortable:this,name:"end",toEl:ne,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ee("nulling",this),se=ie=ne=re=oe=le=ae=ce=me=ve=xe=he=fe=de=ue=ke=Ee=ge=pe=Ge.dragged=Ge.ghost=Ge.clone=Ge.active=null,Ie.forEach((function(e){e.checked=!0})),Ie.length=_e=ye=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ie&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,r=i.length,s=this.options;n<r;n++)S(e=i[n],s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||Je(e));return t},sort:function(e,t){var i={},n=this.el;this.toArray().forEach((function(e,t){var r=n.children[t];S(r,this.options.draggable,n,!1)&&(i[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){i[e]&&(n.removeChild(i[e]),n.appendChild(i[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return S(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=J.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&$e(i)},destroy:function(){ee("destroy",this);var e=this.el;e[K]=null,k(e,"mousedown",this._onTapStart),k(e,"touchstart",this._onTapStart),k(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(k(e,"dragover",this),k(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ae.splice(Ae.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ce){if(ee("hideClone",this),Ge.eventCanceled)return;L(le,"display","none"),this.options.removeCloneOnHide&&le.parentNode&&le.parentNode.removeChild(le),ce=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ce){if(ee("showClone",this),Ge.eventCanceled)return;ie.parentNode!=se||this.options.group.revertClone?oe?se.insertBefore(le,oe):se.appendChild(le):se.insertBefore(le,ie),this.options.group.revertClone&&this.animate(ie,le),L(le,"display",""),ce=!1}}else this._hideClone()}},Pe&&x(document,"touchmove",(function(e){(Ge.active||je)&&e.cancelable&&e.preventDefault()})),Ge.utils={on:x,off:k,css:L,find:O,is:function(e,t){return!!S(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:U,closest:S,toggleClass:A,clone:z,index:R,nextTick:Ze,cancelNextTick:Qe,detectDirection:qe,getChild:M},Ge.get=function(e){return e[K]},Ge.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ge.utils=a(a({},Ge.utils),e.utils)),J.mount(e)}))},Ge.create=function(e,t){return new Ge(e,t)},Ge.version="1.15.0";var et,tt,it,nt,rt,st,ot=[],at=!1;function lt(){ot.forEach((function(e){clearInterval(e.pid)})),ot=[]}function ct(){clearInterval(st)}var dt,ht=U((function(e,t,i,n){if(t.scroll){var r,s=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=N(),d=!1;tt!==i&&(tt=i,lt(),et=t.scroll,r=t.scrollFn,!0===et&&(et=q(i,!0)));var h=0,u=et;do{var f=u,p=I(f),g=p.top,m=p.bottom,v=p.left,_=p.right,y=p.width,b=p.height,w=void 0,x=void 0,k=f.scrollWidth,E=f.scrollHeight,T=L(f),S=f.scrollLeft,j=f.scrollTop;f===c?(w=y<k&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),x=b<E&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(w=y<k&&("auto"===T.overflowX||"scroll"===T.overflowX),x=b<E&&("auto"===T.overflowY||"scroll"===T.overflowY));var C=w&&(Math.abs(_-s)<=a&&S+y<k)-(Math.abs(v-s)<=a&&!!S),A=x&&(Math.abs(m-o)<=a&&j+b<E)-(Math.abs(g-o)<=a&&!!j);if(!ot[h])for(var D=0;D<=h;D++)ot[D]||(ot[D]={});ot[h].vx==C&&ot[h].vy==A&&ot[h].el===f||(ot[h].el=f,ot[h].vx=C,ot[h].vy=A,clearInterval(ot[h].pid),0==C&&0==A||(d=!0,ot[h].pid=setInterval(function(){n&&0===this.layer&&Ge.active._onTouchMove(rt);var t=ot[this.layer].vy?ot[this.layer].vy*l:0,i=ot[this.layer].vx?ot[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(Ge.dragged.parentNode[K],i,t,e,rt,ot[this.layer].el)||F(ot[this.layer].el,i,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&u!==c&&(u=q(u,!1)));at=d}}),30),ut=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,r=e.activeSortable,s=e.dispatchSortableEvent,o=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=i||r;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(d)&&(s("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function ft(){}function pt(){}ft.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=M(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:ut},d(ft,{pluginName:"revertOnSpill"}),pt.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:ut},d(pt,{pluginName:"removeOnSpill"});var gt,mt,vt,_t,yt,bt=[],wt=[],xt=!1,kt=!1,Et=!1;function Tt(e,t){wt.forEach((function(i,n){var r=t.children[i.sortableIndex+(e?Number(n):0)];r?t.insertBefore(i,r):t.appendChild(i)}))}function St(){bt.forEach((function(e){e!==vt&&e.parentNode&&e.parentNode.removeChild(e)}))}Ge.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):this.options.supportPointer?x(document,"pointermove",this._handleFallbackAutoScroll):t.touches?x(document,"touchmove",this._handleFallbackAutoScroll):x(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?k(document,"dragover",this._handleAutoScroll):(k(document,"pointermove",this._handleFallbackAutoScroll),k(document,"touchmove",this._handleFallbackAutoScroll),k(document,"mousemove",this._handleFallbackAutoScroll)),ct(),lt(),clearTimeout(j),j=void 0},nulling:function(){rt=tt=et=at=st=it=nt=null,ot.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(n,r);if(rt=e,t||this.options.forceAutoScrollFallback||m||g||_){ht(e,this.options,s,t);var o=q(s,!0);!at||st&&n===it&&r===nt||(st&&ct(),st=setInterval((function(){var s=q(document.elementFromPoint(n,r),!0);s!==o&&(o=s,lt()),ht(e,i.options,s,t)}),10),it=n,nt=r)}else{if(!this.options.bubbleScroll||q(s,!0)===N())return void lt();ht(e,this.options,q(s,!1),!1)}}},d(e,{pluginName:"scroll",initializeByDefault:!0})}),Ge.mount(pt,ft),Ge.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;dt=t},dragOverValid:function(e){var t=e.completed,i=e.target,n=e.onMove,r=e.activeSortable,s=e.changed,o=e.cancel;if(r.options.swap){var a=this.sortable.el,l=this.options;if(i&&i!==a){var c=dt;!1!==n(i)?(A(i,l.swapClass,!0),dt=i):dt=null,c&&c!==dt&&A(c,l.swapClass,!1)}s(),t(!0),o()}},drop:function(e){var t=e.activeSortable,i=e.putSortable,n=e.dragEl,r=i||this.sortable,s=this.options;dt&&A(dt,s.swapClass,!1),dt&&(s.swap||i&&i.options.swap)&&n!==dt&&(r.captureAnimationState(),r!==t&&t.captureAnimationState(),function(e,t){var i,n,r=e.parentNode,s=t.parentNode;r&&s&&!r.isEqualNode(t)&&!s.isEqualNode(e)&&(i=R(e),n=R(t),r.isEqualNode(s)&&i<n&&n++,r.insertBefore(t,r.children[i]),s.insertBefore(e,s.children[n]))}(n,dt),r.animateAll(),r!==t&&t.animateAll())},nulling:function(){dt=null}},d(e,{pluginName:"swap",eventProperties:function(){return{swapItem:dt}}})}),Ge.mount(new function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?x(document,"pointerup",this._deselectMultiDrag):(x(document,"mouseup",this._deselectMultiDrag),x(document,"touchend",this._deselectMultiDrag))),x(document,"keydown",this._checkKeyDown),x(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,i){var n="";bt.length&&mt===e?bt.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=i.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;vt=t},delayEnded:function(){this.isMultiDrag=~bt.indexOf(vt)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var n=0;n<bt.length;n++)wt.push(z(bt[n])),wt[n].sortableIndex=bt[n].sortableIndex,wt[n].draggable=!1,wt[n].style["will-change"]="",A(wt[n],this.options.selectedClass,!1),bt[n]===vt&&A(wt[n],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,n=e.dispatchSortableEvent,r=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||bt.length&&mt===t&&(Tt(!0,i),n("clone"),r()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,n=e.cancel;this.isMultiDrag&&(Tt(!1,i),wt.forEach((function(e){L(e,"display","")})),t(),yt=!1,n())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(wt.forEach((function(e){L(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),yt=!0,n())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&mt&&mt.multiDrag._deselectMultiDrag(),bt.forEach((function(e){e.sortableIndex=R(e)})),bt=bt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),Et=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){bt.forEach((function(e){e!==vt&&L(e,"position","absolute")}));var n=I(vt,!1,!0,!0);bt.forEach((function(e){e!==vt&&X(e,n)})),kt=!0,xt=!0}i.animateAll((function(){kt=!1,xt=!1,t.options.animation&&bt.forEach((function(e){G(e)})),t.options.sort&&St()}))}},dragOver:function(e){var t=e.target,i=e.completed,n=e.cancel;kt&&~bt.indexOf(t)&&(i(!1),n())},revert:function(e){var t=e.fromSortable,i=e.rootEl,n=e.sortable,r=e.dragRect;bt.length>1&&(bt.forEach((function(e){n.addAnimationState({target:e,rect:kt?I(e):r}),G(e),e.fromRect=r,t.removeAnimationState(e)})),kt=!1,function(e,t){bt.forEach((function(i,n){var r=t.children[i.sortableIndex+(e?Number(n):0)];r?t.insertBefore(i,r):t.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,n=e.insertion,r=e.activeSortable,s=e.parentEl,o=e.putSortable,a=this.options;if(n){if(i&&r._hideClone(),xt=!1,a.animation&&bt.length>1&&(kt||!i&&!r.options.sort&&!o)){var l=I(vt,!1,!0,!0);bt.forEach((function(e){e!==vt&&(X(e,l),s.appendChild(e))})),kt=!0}if(!i)if(kt||St(),bt.length>1){var c=yt;r._showClone(t),r.options.animation&&!yt&&c&&wt.forEach((function(e){r.addAnimationState({target:e,rect:_t}),e.fromRect=_t,e.thisAnimationDuration=null}))}else r._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,n=e.activeSortable;if(bt.forEach((function(e){e.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){_t=d({},t);var r=D(vt,!0);_t.top-=r.f,_t.left-=r.e}},dragOverAnimationComplete:function(){kt&&(kt=!1,St())},drop:function(e){var t=e.originalEvent,i=e.rootEl,n=e.parentEl,r=e.sortable,s=e.dispatchSortableEvent,o=e.oldIndex,a=e.putSortable,l=a||this.sortable;if(t){var c=this.options,d=n.children;if(!Et)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),A(vt,c.selectedClass,!~bt.indexOf(vt)),~bt.indexOf(vt))bt.splice(bt.indexOf(vt),1),gt=null,Z({sortable:r,rootEl:i,name:"deselect",targetEl:vt,originalEvent:t});else{if(bt.push(vt),Z({sortable:r,rootEl:i,name:"select",targetEl:vt,originalEvent:t}),t.shiftKey&&gt&&r.el.contains(gt)){var h,u,f=R(gt),p=R(vt);if(~f&&~p&&f!==p)for(p>f?(u=f,h=p):(u=p,h=f+1);u<h;u++)~bt.indexOf(d[u])||(A(d[u],c.selectedClass,!0),bt.push(d[u]),Z({sortable:r,rootEl:i,name:"select",targetEl:d[u],originalEvent:t}))}else gt=vt;mt=l}if(Et&&this.isMultiDrag){if(kt=!1,(n[K].options.sort||n!==i)&&bt.length>1){var g=I(vt),m=R(vt,":not(."+this.options.selectedClass+")");if(!xt&&c.animation&&(vt.thisAnimationDuration=null),l.captureAnimationState(),!xt&&(c.animation&&(vt.fromRect=g,bt.forEach((function(e){if(e.thisAnimationDuration=null,e!==vt){var t=kt?I(e):g;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),St(),bt.forEach((function(e){d[m]?n.insertBefore(e,d[m]):n.appendChild(e),m++})),o===R(vt))){var v=!1;bt.forEach((function(e){e.sortableIndex===R(e)||(v=!0)})),v&&s("update")}bt.forEach((function(e){G(e)})),l.animateAll()}mt=l}(i===n||a&&"clone"!==a.lastPutMode)&&wt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=Et=!1,wt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),k(document,"pointerup",this._deselectMultiDrag),k(document,"mouseup",this._deselectMultiDrag),k(document,"touchend",this._deselectMultiDrag),k(document,"keydown",this._checkKeyDown),k(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==Et&&Et||mt!==this.sortable||e&&S(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;bt.length;){var t=bt[0];A(t,this.options.selectedClass,!1),bt.shift(),Z({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},d(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[K];t&&t.options.multiDrag&&!~bt.indexOf(e)&&(mt&&mt!==t&&(mt.multiDrag._deselectMultiDrag(),mt=t),A(e,t.options.selectedClass,!0),bt.push(e))},deselect:function(e){var t=e.parentNode[K],i=bt.indexOf(e);t&&t.options.multiDrag&&~i&&(A(e,t.options.selectedClass,!1),bt.splice(i,1))}},eventProperties:function(){var e=this,t=[],i=[];return bt.forEach((function(n){var r;t.push({multiDragElement:n,index:n.sortableIndex}),r=kt&&n!==vt?-1:kt?R(n,":not(."+e.options.selectedClass+")"):R(n),i.push({multiDragElement:n,index:r})})),{items:u(bt),clones:[].concat(wt),oldIndicies:t,newIndicies:i}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})});const jt=Ge;class Ct{constructor(e){this.element=e,this.type=e.dataset.sortableCollectionType,this.draggable=this.element.dataset.cmsSortableDraggable,this.initialize(),document.addEventListener("afterAddItem",(e=>{this.initialize()})),document.addEventListener("afterRemoveItem",(e=>{this.applyPosition()}))}addHandles(){this.element.querySelectorAll(this.draggable).forEach((e=>{if(e.dataset.hasHandle)return;e.dataset.hasHandle=1;let t=document.createElement("span");t.setAttribute("class","sonata-ba-sortable-handler float-end"),t.innerHTML='<i class="fa fa-bars"></i>',e.insertBefore(t,e.firstChild)}))}initialize(){let e=this.element.querySelector(this.element.dataset.cmsSortableContainer);if(!e)return;new jt(e,{draggable:this.draggable,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onEnd:e=>{this.applyPosition()},onStart:e=>{e.oldIndex},onRemove(e){this.applyPosition()}});this.addHandles(),this.applyPosition()}applyPosition(){setTimeout((()=>{this.element.querySelectorAll(`input.${this.type}`).forEach(((e,t)=>{e.value=t}))}),1e3)}}const At={init(){document.querySelectorAll("[data-sortable-collection-type]").forEach((e=>{if(e.dataset.cmsCollectionType)return void console.log(e.dataset.cmsCollectionType);new Ct(e)}))}};var Lt=i(9755);class Dt{constructor(e){e.dataset.modelListInitialized||(this.element=e,this.id=this.element.id,this.listLink=e.querySelector(".open-select-media"),this.collectionContainer=e.dataset.cmsSortableContainer,this.selectMediaEventId="",this.searchMediaEventId="",this.checkMediaInputId="",this.perPageEventId="",this.selected=new Set,this.previousSelected=new Set,this.galleryDialog=null,this.galleryDialogContainer=null,At.init(),KTUtil.on(this.element,"#gallery_dialog","hide.bs.modal",(()=>{this.removeListeners(),this.galleryDialogContainer.querySelector(".modal-content").innerHTML=""})),this.initialize(),KTUtil.on(this.element,"[data-collection-remove-btn]","click",(e=>{e.preventDefault();let t=e.target;t.classList.contains("btn")||(t=t.closest(".btn")),t.closest(".collection-item").remove(),t.dispatchEvent(new CustomEvent("afterRemoveItem",{bubbles:!0}))})))}initialize(){this.element.dataset.modelListInitialized=!0,this.listLink.addEventListener("click",this.createListDialog.bind(this)),this.createModal()}createModal(){let e=document.createElement("div");e.setAttribute("id","gallery_dialog"),e.setAttribute("class","modal fade"),e.setAttribute("tabindex","-1"),e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.innerHTML='\n            <div class="modal-dialog mw-1000px" role="document">\n                <div class="modal-content">\n                </div>\n            </div>\n        ',document.body.appendChild(e),this.galleryDialogContainer=document.querySelector("#gallery_dialog"),this.galleryDialog=new bootstrap.Modal(this.galleryDialogContainer,{height:"auto",width:650,show:!1}),document.body.addEventListener("hidden.bs.modal",(e=>{this.removeListeners()}))}setupTree(){let e=this.galleryDialogContainer.querySelector("#tagsContainer"),t=Lt(e);e.dataset.selected;let i=t.data("tagsJson");t.jstree({types:{default:{icon:"fa fa-folder text-primary fs-2x"},file:{icon:"fa fa-file text-primary fs-2x"}},plugins:["sort","types"],sort:function(e,t){let i=this.get_node(e),n=this.get_node(t);return i.data.show_first?-1:n.data.show_first||i.text.toLowerCase()>n.text.toLowerCase()?1:-1},core:{themes:{variant:"large"},data:function(e,t){t(i)}}})}removeListeners(){KTUtil.off(this.galleryDialogContainer,"click",this.selectMediaEventId),KTUtil.off(this.galleryDialogContainer,"submit",this.searchMediaEventId),KTUtil.off(this.galleryDialogContainer,"change",this.checkMediaInputId),KTUtil.off(this.galleryDialogContainer,"change",this.perPageEventId)}addSearchListeners(){""!==this.selectMediaEventId&&this.removeListeners(),this.selectMediaEventId=KTUtil.on(this.galleryDialogContainer,"a","click",this.clickLinkInDialog.bind(this)),this.checkMediaInputId=KTUtil.on(this.galleryDialogContainer,"input[data-object-id]","change",this.selectMedia.bind(this)),this.searchMediaEventId=KTUtil.on(this.galleryDialogContainer,"form","submit",this.searchMedia.bind(this)),KTUtil.on(this.galleryDialogContainer,".confirm-select","click",this.submitSelectedMedia.bind(this))}addPerPageListeners(){this.perPageEventId=KTUtil.on(this.galleryDialogContainer,".per-page","change",(e=>{e.preventDefault();let t=e.target.value,i=e.target.dataset.page,n=e.target.dataset.sortOrder,r=e.target.dataset.sortBy,s=e.target.dataset.tags,o=e.target.dataset.name;this.refreshList({"filter[_per_page]":t,"filter[_page]":i,"filter[_sort_order]":n,"filter[_sort_by]":r,"filter[tags][value]":s,"filter[name][value]":o})}))}createListDialog(e){e.preventDefault();let t=window.location.protocol+"//"+window.location.host,i=this.listLink.getAttribute("href");-1===i.indexOf(t)&&this.listLink.setAttribute("href",t+i);let n=new URL(this.listLink.getAttribute("href"));this.element.querySelectorAll("[data-selected]").forEach((e=>{this.selected.add(e.dataset.selected),this.previousSelected.add(e.dataset.selected)})),n.searchParams.append("selected",Array.from(this.selected)),n.searchParams.append("galleryMode","gallery"),fetch(n,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.galleryDialog.show(),this.galleryDialogContainer.querySelector(".modal-content").innerHTML=e,this.setupTree(),this.addSearchListeners(),$t.initToolTips(this.galleryDialogContainer),this.addPerPageListeners()}))}clickLinkInDialog(e){e.preventDefault();let t=e.target;if(t.classList.contains("select-media")){let e=this.galleryDialogContainer.querySelector(`input[data-object-id="${t.dataset.objectId}"]`);return void this.selectMedia(e)}if(t.classList.contains("tag_link")){var i=t.dataset.pk;return void this.refreshList({"filter[tags][value]":i})}if(t.classList.contains("show_all_media"))return void this.refreshList({"filter[tags][value]":""});let n=t.getAttribute("href");if(!n||"#"===n)return;let r=window.location.protocol+"//"+window.location.host;-1===n.indexOf(r)&&(n=r+n);let s=new URL(n);s.searchParams.append("selected",Array.from(this.selected)),s.searchParams.append("galleryMode","gallery"),s.searchParams.append("multiSelect","true"),fetch(s,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.galleryDialogContainer.querySelector(".modal-content").innerHTML=e,this.addSearchListeners(),this.addPerPageListeners(),this.setupTree(),$t.initToolTips(this.galleryDialogContainer)}))}refreshList(e){e||(e={});let t=new FormData(document.querySelector("#search-form"));for(const i in e)t.append(i,e[i]);t.set("galleryMode","gallery"),t.set("multiSelect","true"),t.set("selected",Array.from(this.selected)),e=Object.fromEntries(t.entries());let i=this.galleryDialogContainer.querySelector("#tagsContainer");axios.get(i.dataset.refreshListUrl,{...axiosConfig,params:e}).then((e=>{document.querySelector("#item_list").innerHTML=e.data,$t.initToolTips(this.galleryDialogContainer)}))}selectMedia(e){if(e instanceof Event?(e.preventDefault(),e=e.target):e.checked=!e.checked,!e.checked)return e.closest(".overlay").classList.remove("overlay-block"),void this.selected.delete(e.dataset.objectId);this.selected.add(e.dataset.objectId),e.closest(".overlay").classList.add("overlay-block")}searchMedia(e){e.preventDefault();let t=e.target,i=new URL(t.action),n=Object.fromEntries(new FormData(t).entries());for(const e in n)i.searchParams.append(e,n[e]);i.searchParams.append("selected",Array.from(this.selected)),i.searchParams.append("galleryMode","gallery"),i.searchParams.append("multiSelect","true"),axios.get(i.toString(),{...axiosConfig}).then((e=>{this.galleryDialogContainer.querySelector(".modal-content").innerHTML=e.data,this.addSearchListeners(),this.addPerPageListeners(),this.setupTree()}))}submitSelectedMedia(e){e.preventDefault(),this.galleryDialogContainer.querySelectorAll("input[data-object-id]").forEach(((e,t)=>{let i=e.dataset.objectId;e.checked&&!this.previousSelected.has(i)&&(this.addItemToCollection(e.dataset),this.previousSelected.add(i)),!e.checked&&this.previousSelected.has(i)&&(document.querySelector('[data-selected="'+i+'"]').remove(),this.previousSelected.delete(i))})),document.dispatchEvent(new CustomEvent("afterRemoveItem")),$t.initSpecialFields(),this.galleryDialog.hide()}addItemToCollection(e){let t=`<a href="/admin/cms/media/${e.objectId}/edit" target="new">\n                                            <img  src="${e.path}" width="75" height="60"></a> &nbsp;&nbsp;`,i=0;const n=this.collectionContainer,r=document.querySelector(n);let s=[...document.querySelectorAll(`div[id^="${r.id}_"]`)].pop();s&&(i=parseInt(s.id.replace(`${r.id}_`,""))),i+=1;let o=r.dataset.prototype;const a=r.dataset.prototypeName||"__name__",l=new RegExp(`${r.id}_${a}`,"g"),c=`${r.id}_${i}`;o=o.replace(l,c);const d=r.id.split("_"),h=new RegExp(`${d[d.length-1]}\\]\\[${a}`,"g");o=o.replace(h,`${d[d.length-1]}][${i}`),r.insertAdjacentHTML("beforeend",o),document.querySelector(`#${c}`).closest(".collection-item").dataset.selected=e.objectId,document.querySelector(`#${c}_media`).value=e.objectId,document.querySelector(`#field_widget_${c}_media`).querySelector(".inner-field-short-description").innerHTML=t,document.dispatchEvent(new CustomEvent("afterAddItem",{bubbles:!0,detail:{proto:o,counter:i}}))}addMediaDialog(e){e.preventDefault();let t=this.addLink.getAttribute("href");fetch(t,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.galleryDialogContainer.querySelector(".modal-content").innerHTML=e,this.addUploadListeners(),this.dialog.show()}))}updatePreview(){if(""===this.field.value)return void(this.preview.innerHTML="");let e=this.preview.dataset.previewUrl.replace("__objectId__",this.field.value);fetch(e,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.preview.innerHTML=e}))}removeSelectedElement(e){(e.preventDefault(),this.field.options)&&this.field.options.map((e=>{e.selected=!1}));this.field.value="",this.updatePreview()}}const Ot={init(){document.querySelectorAll("[data-gallery-entity]").forEach((e=>{new Dt(e)}))}};class Nt{constructor(e){this.element=e,this.draggable=this.element.dataset.cmsSortableDraggable,this.initialize(),document.body.addEventListener("sonata.add_element",(e=>{this.initialize()})),document.body.addEventListener("sonata.delete_element",(e=>{this.applyPosition()}))}addHandles(){this.element.querySelectorAll(this.element.dataset.cmsSortableSelector).forEach((e=>{let t=document.createElement("span");t.setAttribute("class","sonata-ba-sortable-handler"),t.innerHTML='<i class="fa fa-bars"></i>',e.insertBefore(t,e.firstChild)}))}initialize(){let e=this.element.querySelector(this.element.dataset.cmsSortableContainer);if(!e)return;new jt(e,{draggable:this.draggable,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",onEnd:e=>{this.applyPosition()},onStart:e=>{e.oldIndex},onRemove(e){this.applyPosition()}});this.addHandles(),this.applyPosition()}applyPosition(){setTimeout((()=>{this.element.querySelectorAll(this.element.dataset.cmsSortableSelector).forEach(((e,t)=>{e.querySelector("input").value=t}))}),1e3)}}const It={init(){document.querySelectorAll("[data-cms-sortable-one-to-many]").forEach((e=>{new Nt(e)}))}};class Pt{constructor(e){e.dataset.modelListInitialized||(this.element=e,this.id=e.dataset.fieldId,this.isListMode=e.dataset.isListMode,this.fieldReloadUrl=e.dataset.fieldReloadUrl,this.field=document.querySelector("#"+this.id),this.preview=e.querySelector("#field_widget_"+this.id),this.createModal(),this.listLink=e.querySelector("#field_list_link_"+this.id),this.addLink=e.querySelector("#field_add_link_"+this.id),this.removeLink=e.querySelector("#field_remove_link_"+this.id),this.objectId=this.field.value,this.selectModelEventId="",this.searchModelEventId="",KTUtil.on(this.element,"#"+this.id,"change",this.updatePreview.bind(this)),KTUtil.on(this.element,"#field_dialog_"+this.id,"hide.bs.modal",this.removeListeners.bind(this)),this.initialize())}initialize(){this.element.dataset.modelListInitialized=!0,this.listLink&&this.listLink.addEventListener("click",this.createListDialog.bind(this)),this.removeLink&&this.removeLink.addEventListener("click",this.removeSelectedElement.bind(this)),this.addLink&&this.addLink.addEventListener("click",this.addDialog.bind(this))}createModal(){let e=document.createElement("div");e.setAttribute("id","field_dialog_"+this.id),e.setAttribute("class","modal fade"),e.setAttribute("tabindex","-1"),e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.innerHTML='\n            <div class="modal-dialog mw-1000px" role="document">\n                <div class="modal-content">\n                </div>\n            </div>\n        ',document.body.appendChild(e),this.dialogContainer=document.querySelector("#field_dialog_"+this.id),this.dialog=new bootstrap.Modal(this.dialogContainer,{height:"auto",width:650,show:!1}),document.body.addEventListener("hidden.bs.modal",(e=>{this.removeListeners()}))}removeListeners(){KTUtil.off(this.dialogContainer,"click",this.selectModelEventId),KTUtil.off(this.dialogContainer,"submit",this.searchModelEventId),KTUtil.off(this.dialogContainer,"submit",this.addModelEventId)}addClickOnLinkListeners(){""!==this.selectModelEventId&&KTUtil.off(this.dialogContainer,"click",this.selectModelEventId),this.selectModelEventId=KTUtil.on(this.dialogContainer,"a","click",this.clickLinkInDialog.bind(this))}addSearchListeners(){""!==this.selectModelEventId&&KTUtil.off(this.dialogContainer,"submit",this.searchModelEventId),this.searchModelEventId=KTUtil.on(this.dialogContainer,"form","submit",this.searchModel.bind(this))}addSubmitisteners(){""!==this.addModelEventId&&KTUtil.off(this.dialogContainer,"submit",this.addModelEventId),this.addModelEventId=KTUtil.on(this.dialogContainer,"form","submit",this.submitModel.bind(this)),this.dialogContainer.querySelectorAll('[data-bs-dismiss="modal"]').forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.dialog.hide()}))}))}createListDialog(e){e.preventDefault();let t=this.listLink.getAttribute("href");fetch(t,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e,this.addSearchListeners(),this.addClickOnLinkListeners(),this.dialog.show()}))}clickLinkInDialog(e){e.preventDefault();let t=e.target;if(t.classList.contains("select-model")||t.dataset.objectId)return void this.selectModel(e);let i=t.getAttribute("href");i&&"#"!==i&&fetch(i,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e,this.addSearchListeners(),this.addClickOnLinkListeners(),this.addSubmitisteners(),$t.initSpecialFields()}))}selectModel(e){e.preventDefault();let t=e.target;this.field.value=t.dataset.objectId,this.updatePreview(),this.dialog.hide()}searchModel(e){e.preventDefault();let t=e.target,i=new URL(t.action),n=Object.fromEntries(new FormData(t).entries());for(const e in n)i.searchParams.append(e,n[e]);axios.get(i.toString(),{...axiosConfig}).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e.data,this.addSearchListeners(),this.addClickOnLinkListeners()}))}addDialog(e){e.preventDefault();let t=this.addLink.getAttribute("href");fetch(t,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.dialogContainer.querySelector(".modal-content").innerHTML=e,this.addSubmitisteners(),this.addClickOnLinkListeners(),this.dialog.show()}))}submitModel(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=new FormData(t);axios.post(t.getAttribute("action"),i,{...axiosConfig}).then((e=>"ok"===e.data.result&&"true"===this.isListMode?(this.field.value=e.data.objectId,this.updatePreview(),void this.dialog.hide()):"ok"===e.data.result&&"false"===this.isListMode?(this.reloadFormField(e.data.objectId),void this.dialog.hide()):(this.dialogContainer.querySelector(".modal-content").innerHTML=e.data,this.addSubmitisteners(),this.addClickOnLinkListeners(),void $t.createSelect2()))).catch((e=>{}))}reloadFormField(e){axios.get(this.fieldReloadUrl,{...axiosConfig}).then((t=>{let i=document.createElement("div");i.innerHTML=t.data;let n=i.querySelector("#field_widget_"+this.id).innerHTML;this.preview.innerHTML=n,this.field=this.preview.querySelector("#"+this.id);let r=this.preview.querySelector("#"+this.id+' [value="'+e+'"]'),s=r.tagName.toLowerCase();"input"===s&&r.setAttribute("checked","checked"),"select"===s&&r.setAttribute("selected","selected"),"select2"===this.field.dataset.control&&this.field.dispatchEvent(new Event("change"))}))}updatePreview(){if("false"===this.isListMode)return;if(""===this.field.value)return void(this.preview.innerHTML="");let e=this.preview.dataset.previewUrl.replace("__objectId__",this.field.value);fetch(e,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.preview.innerHTML=e}))}removeSelectedElement(e){(e.preventDefault(),console.log("remove"),this.field.options)&&this.field.options.map((e=>{e.selected=!1}));this.field.value="",this.updatePreview()}}const Mt={init(){document.querySelectorAll(".model-list").forEach((e=>{new Pt(e)}))}};var Ht=i(2475),Rt=i.n(Ht);const Bt={instance:null,async load(){return this.instance||(this.instance=await this.getRoutes()),this.instance},async getRoutes(){let e=document.documentElement.lang.replace("-","_"),t=await fetch("/js/translations/"+e+".json"),i=await t.json();return Rt().fromJSON(i),Rt()}};i(686);var qt=i(9755);window.axiosConfig={headers:{"X-Requested-With":"XMLHttpRequest"}},qt.fn.select2.defaults.set("theme","bootstrap5"),qt.fn.select2.defaults.set("width","100%"),qt.fn.select2.defaults.set("selectionCssClass",":all:");const $t={listDialog:null,routing:null,translations:null,collectionCounters:[],async getTranslations(){return this.translations||(this.translations=Bt.load()),this.translations},async init(){this.translations=await this.getTranslations(),s.init(),Ot.init(),Mt.init(),It.init(),this.initLinkDialogs(),this.initializeDatePickers(),this.initializeDateTimePickers(),this.initSelect2(),this.initCkeditor(),this.initCollectionType()},initToolTips(e){e??=document.body;[].slice.call(e.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}))},initLinkDialogs(){KTUtil.on(document.body,".dialog-link","click",(e=>{this.createLinkDialog(e)}))},createLinkDialog(e){e.preventDefault(),e.stopPropagation(),this.initializeDialog();let t=e.target;t.getAttribute("href")||(t=t.closest("a")),fetch(t.getAttribute("href"),{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{document.querySelector("#list_dialog").querySelector(".modal-content").innerHTML=e,this.listDialog.show()}))},initializeDialog(){this.listDialog||(this.listDialog=new bootstrap.Modal(document.querySelector("#list_dialog",{height:"auto",width:650,show:!1})))},initializeDatePickers(){document.querySelectorAll('[data-provider="datepicker"]').forEach((e=>{let t=e.dataset.dateFormat,i=e.dataset.dateLanguage;flatpickr(e,{dateFormat:t,locale:i,allowInput:!0})}))},initializeDateTimePickers(){document.querySelectorAll('[data-provider="datetimepicker"]').forEach((e=>{let t=e.dataset.dateFormat,i=e.dataset.dateLanguage;flatpickr(e,{dateFormat:t,locale:i,enableTime:!0,allowInput:!0,time_24hr:!0})}))},initSelect2(){[].slice.call(document.querySelectorAll('[data-control="select2"], [data-kt-select2="true"]')).map((function(e){qt(e).on("select2:select",(function(t){let i=new Event("change",{bubbles:!0});e.dispatchEvent(i)}))}))},initCkeditor(){[].slice.call(document.querySelectorAll('[data-control="ckeditor"], [data-kt-ckeditor="true"]')).map((e=>{if("1"===e.getAttribute("data-kt-initialized"))return;let t=e.getAttribute("id"),i=JSON.parse(e.dataset.config),n=JSON.parse(e.dataset.plugins);JSON.parse(e.dataset.templates),JSON.parse(e.dataset.styles),JSON.parse(e.dataset.filebrowser);CKEDITOR.instances[t]&&(CKEDITOR.instances[t].destroy(!0),delete CKEDITOR.instances[t]);for(const[e,t]of Object.entries(n))CKEDITOR.plugins.addExternal(e,t.path,t.filename);let r={};for(const[e,t]of Object.entries(i))"filebrowserBrowseRoute"!==e?"filebrowserImageBrowseRoute"!==e?"filebrowserUploadRoute"!==e?"filebrowserImageUploadRoute"!==e?"filebrowserBrowseRouteParameters"!==e&&"filebrowserImageBrowseRouteParameters"!==e&&"filebrowserUploadRouteParameters"!==e&&"filebrowserImageUploadRouteParameters"!==e&&(r[e]=t):r.filebrowserImageUploadUrl=CMSRouting.generate(t,i.filebrowserImageUploadRouteParameters):r.filebrowserUploadUrl=CMSRouting.generate(t,i.filebrowserUploadRouteParameters):r.filebrowserImageBrowseUrl=CMSRouting.generate(t,i.filebrowserImageBrowseRouteParameters):r.filebrowserBrowseUrl=CMSRouting.generate(t,i.filebrowserBrowseRouteParameters);CKEDITOR.disableAutoInline=!0,CKEDITOR.replace(t,r).on("change",(function(t){e.value=t.editor.getData()})),e.setAttribute("data-kt-initialized","1")}))},initCollectionType(){document.querySelectorAll("[data-collection-list]").forEach((e=>{this.setupCollectionType(e)}))},setupCollectionType(e){e.dataset.cmsCollectionType||(At.init(),KTUtil.on(e,"[data-collection-add-btn]","click",(e=>{e.preventDefault();let t=e.target;t.classList.contains("btn")||(t=t.closest(".btn"));let i=0;const n=t.dataset.collectionAddBtn,r=document.querySelector(`#${n}`);let s=[...document.querySelectorAll(`div[id^="${r.id}_"]`)].pop();s&&(i=parseInt(s.id.replace(`${r.id}_`,"")),i+=1);let o=r.dataset.prototype;const a=r.dataset.prototypeName||"__name__",l=new RegExp(`${r.id}_${a}`,"g");o=o.replace(l,`${r.id}_${i}`);const c=r.id.split("_"),d=new RegExp(`${c[c.length-1]}\\]\\[${a}`,"g");o=o.replace(d,`${c[c.length-1]}][${i}`),r.insertAdjacentHTML("beforeend",o),t.dispatchEvent(new CustomEvent("afterAddItem",{bubbles:!0,detail:{proto:o,counter:i}})),$t.initSpecialFields()})),KTUtil.on(e,"[data-collection-remove-btn]","click",(e=>{e.preventDefault();let t=e.target;t.classList.contains("btn")||(t=t.closest(".btn")),t.closest(".collection-item").remove(),t.dispatchEvent(new CustomEvent("afterRemoveItem",{bubbles:!0}))})),e.dataset.cmsCollectionType=1)},initSpecialFields(){s.init(),Ot.init(),Mt.init(),this.initializeDatePickers(),this.initializeDateTimePickers(),this.createSelect2(),this.initCkeditor(),this.initCollectionType()},createInitCmsMessageBox(e,t){toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toastr-top-right",preventDuplicates:!0,onclick:null,showDuration:"2000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"linear",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},"success"===e?toastr.success(t):"warning"===e?toastr.warning(t):"error"===e||"danger"===e?toastr.error(t):toastr.info(t)},createSelect2(){[].slice.call(document.querySelectorAll('[data-control="select2"], [data-kt-select2="true"]')).map((function(e){if("1"!==e.getAttribute("data-kt-initialized")){var t={dir:document.body.getAttribute("direction")};if("true"===e.getAttribute("data-hide-search")&&(t.minimumResultsForSearch=1/0),qt(e).select2(t),qt(e).on("select2:select",(function(t){let i=new Event("change",{bubbles:!0});e.dispatchEvent(i)})),e.hasAttribute("data-dropdown-parent")&&e.hasAttribute("multiple")){var i=document.querySelector(e.getAttribute("data-dropdown-parent"));if(i&&i.hasAttribute("data-kt-menu")){var n=new KTMenu(i);n&&(qt(e).on("select2:unselect",(function(t){e.setAttribute("data-multiple-unselect","1")})),n.on("kt.menu.dropdown.hide",(function(t){if("1"===e.getAttribute("data-multiple-unselect"))return e.removeAttribute("data-multiple-unselect"),!1})))}}e.setAttribute("data-kt-initialized","1")}}))}};i.g.CMSAdmin=$t,window.CMSAdmin=$t},2475:function(e,t,i){var n,r,s,o;o=function(e){"use strict";var t={},i=[],n=new RegExp(/^\w+\: +(.+)$/),r=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),s=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),o="+intl-icu",a={locale:u(),fallback:"en",placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(e,n,r,s){var o=s||this.locale||this.fallback,a=r||this.defaultDomain;return t[o]||(t[o]={}),t[o][a]||(t[o][a]={}),t[o][a][e]=n,!1===function(e,t){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1}(i,a)&&i.push(a),this},trans:function(t,i,n,r){var s={},o=c(t,n,r,this.locale,this.fallback,s);if(s.isICU){if(void 0===e)throw new Error('The dependency "IntlMessageFormat" is required to use ICU MessageFormat but it has not been found. Please read https://github.com/willdurand/BazingaJsTranslationBundle/blob/master/Resources/doc/index.md#using-icu-messageformat');return new e.IntlMessageFormat(o,void 0,void 0,{ignoreTag:!0}).format(i||{})}return l(o,i||{})},transChoice:function(e,t,i,o,d){var u=c(e,o,d,this.locale,this.fallback),f=parseInt(t,10);return void 0===(i=i||{}).count&&(i.count=t),void 0===u||isNaN(f)||(u=function(e,t,i){var o,l,c=[],d=[],u=e.split(a.pluralSeparator),f=[];for(o=0;o<u.length;o++){var p=u[o];r.test(p)?c[(f=p.match(r))[0]]=f[f.length-1]:n.test(p)?(f=p.match(n),d.push(f[1])):d.push(p)}for(l in c)if(s.test(l))if((f=l.match(s))[1]){var g,m=f[2].split(",");for(g in m)if(t==m[g])return c[l]}else{var v=h(f[4]),_=h(f[5]);if(("["===f[3]?t>=v:t>v)&&("]"===f[6]?t<=_:t<_))return c[l]}return d[function(e,t){var i=t;switch("pt_BR"===i&&(i="xbr"),i.length>3&&(i=i.split("_")[0]),i){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":default:return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===e||1==e?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&e<=4?1:2;case"ga":return 1==e?0:2==e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0===e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1==e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1==e?0:2==e?1:8==e||11==e?2:3;case"ro":return 1==e?0:0===e||e%100>0&&e%100<20?1:2;case"ar":return 0===e?0:1==e?1:2==e?2:e>=3&&e<=10?3:e>=11&&e<=99?4:5}}(t,i)]||d[0]||void 0}(u,f,d||this.locale||this.fallback)),l(u,i)},fromJSON:function(e){if("string"==typeof e&&(e=JSON.parse(e)),e.locale&&(this.locale=e.locale),e.fallback&&(this.fallback=e.fallback),e.defaultDomain&&(this.defaultDomain=e.defaultDomain),e.translations)for(var t in e.translations)for(var i in e.translations[t])for(var n in e.translations[t][i])this.add(n,e.translations[t][i][n],i,t);return this},reset:function(){t={},i=[],this.locale=u()}};function l(e,t){var i,n=a.placeHolderPrefix,r=a.placeHolderSuffix;for(i in t){var s=new RegExp(n+i+r,"g");if(s.test(e)){var o=String(t[i]).replace(new RegExp("\\$","g"),"$$$$");e=e.replace(s,o)}}return e}function c(e,n,r,s,a,l){var c,h,u,f=r||s||a,p=n,g=l||{},m=f.split("_")[0];if(g.isICU=!1,!(f in t))if(m in t)f=m;else{if(!(a in t))return e;f=a}if(null==p)for(var v=0;v<i.length;v++)if(d(f,i[v],e)||d(m,i[v],e)||d(a,i[v],e)){p=i[v].replace(o,"");break}if(d(f,p+o,e))return g.isICU=!0,t[f][p+o][e];if(d(f,p,e))return t[f][p][e];for(;f.length>2&&(c=f.length,u=(h=f.split(/[\s_]+/))[h.length-1].length,1!==h.length);)if(d(f=f.substring(0,c-(u+1)),p,e))return t[f][p][e];return d(a,p,e)?t[a][p][e]:e}function d(e,i,n){return e in t&&i in t[e]&&n in t[e][i]}function h(e){return"-Inf"===e?Number.NEGATIVE_INFINITY:"+Inf"===e||"Inf"===e?Number.POSITIVE_INFINITY:parseInt(e,10)}function u(){return"undefined"!=typeof document?document.documentElement.lang.replace("-","_"):"en"}return a},e.exports?e.exports=o(i(5223)):(r=[i(5223)],void 0===(s="function"==typeof(n=o)?n.apply(t,r):n)||(e.exports=s))},7727:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var r=Date.now();function s(){var e={},t=!0,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(var r=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&"[object Object]"===Object.prototype.toString.call(i[n])?e[n]=s(!0,e[n],i[n]):e[n]=i[n])};i<n;i++)r(arguments[i]);return e}function o(e,t){if((T(e)||e===window||e===document)&&(e=[e]),j(e)||C(e)||(e=[e]),0!=D(e))if(j(e)&&!C(e))for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);else if(C(e))for(var r in e)if(L(e,r)&&!1===t.call(e[r],e[r],r,e))break}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e[r]=e[r]||[],s={all:n,evt:null,found:null};return t&&i&&D(n)>0&&o(n,(function(e,n){if(e.eventName==t&&e.fn.toString()==i.toString())return s.found=!0,s.evt=n,!1})),s}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.onElement,n=t.withCallback,r=t.avoidDuplicate,s=void 0===r||r,l=t.once,c=void 0!==l&&l,d=t.useCapture,h=void 0!==d&&d,u=arguments.length>2?arguments[2]:void 0,f=i||[];function p(e){k(n)&&n.call(u,e,this),c&&p.destroy()}return E(f)&&(f=document.querySelectorAll(f)),p.destroy=function(){o(f,(function(t){var i=a(t,e,p);i.found&&i.all.splice(i.evt,1),t.removeEventListener&&t.removeEventListener(e,p,h)}))},o(f,(function(t){var i=a(t,e,p);(t.addEventListener&&s&&!i.found||!s)&&(t.addEventListener(e,p,h),i.all.push({eventName:e,fn:p}))})),p}function c(e,t){o(t.split(" "),(function(t){return e.classList.add(t)}))}function d(e,t){o(t.split(" "),(function(t){return e.classList.remove(t)}))}function h(e,t){return e.classList.contains(t)}function u(e,t){for(;e!==document.body;){if(!(e=e.parentElement))return!1;if("function"==typeof e.matches?e.matches(t):e.msMatchesSelector(t))return e}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||""===t)return!1;if("none"===t)return k(i)&&i(),!1;var n=y(),r=t.split(" ");o(r,(function(t){c(e,"g"+t)})),l(n,{onElement:e,avoidDuplicate:!1,once:!0,withCallback:function(e,t){o(r,(function(e){d(t,"g"+e)})),k(i)&&i()}})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""===t)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",e.style.transform="",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function g(e){e.style.display="block"}function m(e){e.style.display="none"}function v(e){var t=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function _(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function y(){var e,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}function b(e,t,i,n){if(e())t();else{var r;i||(i=100);var s=setInterval((function(){e()&&(clearInterval(s),r&&clearTimeout(r),t())}),i);n&&(r=setTimeout((function(){clearInterval(s)}),n))}}function w(e,t,i){if(A(e))console.error("Inject assets error");else if(k(t)&&(i=t,t=!1),E(t)&&t in window)k(i)&&i();else{var n;if(-1!==e.indexOf(".css")){if((n=document.querySelectorAll('link[href="'+e+'"]'))&&n.length>0)return void(k(i)&&i());var r=document.getElementsByTagName("head")[0],s=r.querySelectorAll('link[rel="stylesheet"]'),o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=e,o.media="all",s?r.insertBefore(o,s[0]):r.appendChild(o),void(k(i)&&i())}if((n=document.querySelectorAll('script[src="'+e+'"]'))&&n.length>0){if(k(i)){if(E(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}}else{var a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=function(){if(k(i)){if(E(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}},document.body.appendChild(a)}}}function x(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function k(e){return"function"==typeof e}function E(e){return"string"==typeof e}function T(e){return!(!e||!e.nodeType||1!=e.nodeType)}function S(e){return Array.isArray(e)}function j(e){return e&&e.length&&isFinite(e.length)}function C(t){return"object"===e(t)&&null!=t&&!k(t)&&!S(t)}function A(e){return null==e}function L(e,t){return null!==e&&hasOwnProperty.call(e,t)}function D(e){if(C(e)){if(e.keys)return e.keys().length;var t=0;for(var i in e)L(e,i)&&t++;return t}return e.length}function O(e){return!isNaN(parseFloat(e))&&isFinite(e)}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!t.length)return!1;if(1==t.length)return t[0];"string"==typeof e&&(e=parseInt(e));var i=[];o(t,(function(e){i.push(e.getAttribute("data-taborder"))}));var n=Math.max.apply(Math,i.map((function(e){return parseInt(e)}))),r=e<0?1:e+1;r>n&&(r="1");var s=i.filter((function(e){return e>=parseInt(r)})),a=s.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(a,'"]'))}function I(e){if(e.events.hasOwnProperty("keyboard"))return!1;e.events.keyboard=l("keydown",{onElement:window,withCallback:function(t,i){var n=(t=t||window.event).keyCode;if(9==n){var r=document.querySelector(".gbtn.focused");if(!r){var s=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if("input"==s||"textarea"==s||"button"==s)return}t.preventDefault();var o=document.querySelectorAll(".gbtn[data-taborder]");if(!o||o.length<=0)return;if(!r){var a=N();return void(a&&(a.focus(),c(a,"focused")))}var l=N(r.getAttribute("data-taborder"));d(r,"focused"),l&&(l.focus(),c(l,"focused"))}39==n&&e.nextSlide(),37==n&&e.prevSlide(),27==n&&e.close()}})}function P(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function M(e,t){var i=function(e,t){var i=P(e)*P(t);if(0===i)return 0;var n=function(e,t){return e.x*t.x+e.y*t.y}(e,t)/i;return n>1&&(n=1),Math.acos(n)}(e,t);return function(e,t){return e.x*t.y-t.x*e.y}(e,t)>0&&(i*=-1),180*i/Math.PI}var H=function(){function e(i){t(this,e),this.handlers=[],this.el=i}return n(e,[{key:"add",value:function(e){this.handlers.push(e)}},{key:"del",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:"dispatch",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var i=this.handlers[e];"function"==typeof i&&i.apply(this.el,arguments)}}}]),e}();function R(e,t){var i=new H(e);return i.add(t),i}var B=function(){function e(i,n){t(this,e),this.element="string"==typeof i?document.querySelector(i):i,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var r=function(){};this.rotate=R(this.element,n.rotate||r),this.touchStart=R(this.element,n.touchStart||r),this.multipointStart=R(this.element,n.multipointStart||r),this.multipointEnd=R(this.element,n.multipointEnd||r),this.pinch=R(this.element,n.pinch||r),this.swipe=R(this.element,n.swipe||r),this.tap=R(this.element,n.tap||r),this.doubleTap=R(this.element,n.doubleTap||r),this.longTap=R(this.element,n.longTap||r),this.singleTap=R(this.element,n.singleTap||r),this.pressMove=R(this.element,n.pressMove||r),this.twoFingerPressMove=R(this.element,n.twoFingerPressMove||r),this.touchMove=R(this.element,n.touchMove||r),this.touchEnd=R(this.element,n.touchEnd||r),this.touchCancel=R(this.element,n.touchCancel||r),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return n(e,[{key:"start",value:function(e){if(e.touches)if(e.target&&e.target.nodeName&&["a","button","input"].indexOf(e.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",e.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=i.x,t.y=i.y,this.pinchStartLen=P(t),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function(e){if(e.touches){var t=this.preV,i=e.touches.length,n=e.touches[0].pageX,r=e.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var s=e.touches[1].pageX,o=e.touches[1].pageY,a={x:e.touches[1].pageX-n,y:e.touches[1].pageY-r};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=P(a)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=M(a,t),this.rotate.dispatch(e,this.element)),t.x=a.x,t.y=a.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(n-this.x2+s-this.sx2)/2,e.deltaY=(r-this.y2+o-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=s,this.sy2=o}else{if(null!==this.x2){e.deltaX=n-this.x2,e.deltaY=r-this.y2;var l=Math.abs(this.x1-this.x2),c=Math.abs(this.y1-this.y2);(l>10||c>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=n,this.y2=r,i>1&&e.preventDefault()}}},{key:"end",value:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(e,t,i,n){return Math.abs(e-t)>=Math.abs(i-n)?e-t>0?"Left":"Right":i-n>0?"Up":"Down"}},{key:"on",value:function(e,t){this[e]&&this[e].add(t)}},{key:"off",value:function(e,t){this[e]&&this[e].del(t)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),e}();function q(e){var t=function(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}(),i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=h(e,"gslide-media")?e:e.querySelector(".gslide-media"),r=u(n,".ginner-container"),s=e.querySelector(".gslide-description");i>769&&(n=r),c(n,"greset"),p(n,"translate3d(0, 0, 0)"),l(t,{onElement:n,once:!0,withCallback:function(e,t){d(n,"greset")}}),n.style.opacity="",s&&(s.style.opacity="")}function $(e){if(e.events.hasOwnProperty("touch"))return!1;var t,i,n,r=_(),s=r.width,o=r.height,a=!1,l=null,f=null,g=null,m=!1,v=1,y=1,b=!1,w=!1,x=null,k=null,E=null,T=null,S=0,j=0,C=!1,A=!1,L={},D={},O=0,N=0,I=document.getElementById("glightbox-slider"),P=document.querySelector(".goverlay"),M=new B(I,{touchStart:function(t){if(a=!0,(h(t.targetTouches[0].target,"ginner-container")||u(t.targetTouches[0].target,".gslide-desc")||"a"==t.targetTouches[0].target.nodeName.toLowerCase())&&(a=!1),u(t.targetTouches[0].target,".gslide-inline")&&!h(t.targetTouches[0].target.parentNode,"gslide-inline")&&(a=!1),a){if(D=t.targetTouches[0],L.pageX=t.targetTouches[0].pageX,L.pageY=t.targetTouches[0].pageY,O=t.targetTouches[0].clientX,N=t.targetTouches[0].clientY,l=e.activeSlide,f=l.querySelector(".gslide-media"),n=l.querySelector(".gslide-inline"),g=null,h(f,"gslide-image")&&(g=f.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(f=l.querySelector(".ginner-container")),d(P,"greset"),t.pageX>20&&t.pageX<window.innerWidth-20)return;t.preventDefault()}},touchMove:function(r){if(a&&(D=r.targetTouches[0],!b&&!w)){if(n&&n.offsetHeight>o){var l=L.pageX-D.pageX;if(Math.abs(l)<=13)return!1}m=!0;var c,d=r.targetTouches[0].clientX,h=r.targetTouches[0].clientY,u=O-d,v=N-h;if(Math.abs(u)>Math.abs(v)?(C=!1,A=!0):(A=!1,C=!0),t=D.pageX-L.pageX,S=100*t/s,i=D.pageY-L.pageY,j=100*i/o,C&&g&&(c=1-Math.abs(i)/o,P.style.opacity=c,e.settings.touchFollowAxis&&(S=0)),A&&(c=1-Math.abs(t)/s,f.style.opacity=c,e.settings.touchFollowAxis&&(j=0)),!g)return p(f,"translate3d(".concat(S,"%, 0, 0)"));p(f,"translate3d(".concat(S,"%, ").concat(j,"%, 0)"))}},touchEnd:function(){if(a){if(m=!1,w||b)return E=x,void(T=k);var t=Math.abs(parseInt(j)),i=Math.abs(parseInt(S));if(!(t>29&&g))return t<29&&i<25?(c(P,"greset"),P.style.opacity=1,q(f)):void 0;e.close()}},multipointEnd:function(){setTimeout((function(){b=!1}),50)},multipointStart:function(){b=!0,v=y||1},pinch:function(e){if(!g||m)return!1;b=!0,g.scaleX=g.scaleY=v*e.zoom;var t=v*e.zoom;if(w=!0,t<=1)return w=!1,t=1,T=null,E=null,x=null,k=null,void g.setAttribute("style","");t>4.5&&(t=4.5),g.style.transform="scale3d(".concat(t,", ").concat(t,", 1)"),y=t},pressMove:function(e){if(w&&!b){var t=D.pageX-L.pageX,i=D.pageY-L.pageY;E&&(t+=E),T&&(i+=T),x=t,k=i;var n="translate3d(".concat(t,"px, ").concat(i,"px, 0)");y&&(n+=" scale3d(".concat(y,", ").concat(y,", 1)")),p(g,n)}},swipe:function(t){if(!w)if(b)b=!1;else{if("Left"==t.direction){if(e.index==e.elements.length-1)return q(f);e.nextSlide()}if("Right"==t.direction){if(0==e.index)return q(f);e.prevSlide()}}}});e.events.touch=M}var U=function(){function e(i,n){var r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t(this,e),this.img=i,this.slide=n,this.onclose=s,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",(function(e){return r.dragStart(e)}),!1),this.img.addEventListener("mouseup",(function(e){return r.dragEnd(e)}),!1),this.img.addEventListener("mousemove",(function(e){return r.drag(e)}),!1),this.img.addEventListener("click",(function(e){return r.slide.classList.contains("dragging-nav")?(r.zoomOut(),!1):r.zoomedIn?void(r.zoomedIn&&!r.dragging&&r.zoomOut()):r.zoomIn()}),!1),this.img.setZoomEvents=!0}return n(e,[{key:"zoomIn",value:function(){var e=this.widowWidth();if(!(this.zoomedIn||e<=768)){var t=this.img;if(t.setAttribute("data-style",t.getAttribute("style")),t.style.maxWidth=t.naturalWidth+"px",t.style.maxHeight=t.naturalHeight+"px",t.naturalWidth>e){var i=e/2-t.naturalWidth/2;this.setTranslate(this.img.parentNode,i,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(e){e.preventDefault(),this.zoomedIn?("touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove("dragging")}),100)}},{key:"drag",value:function(e){this.active&&(e.preventDefault(),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(e){if(this.zoomedIn){var t=e.clientX-this.img.naturalWidth/2,i=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,t,i)}}},{key:"setTranslate",value:function(e,t,i){e.style.transform="translate3d("+t+"px, "+i+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),e}(),F=function(){function e(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e);var r=n.dragEl,s=n.toleranceX,o=void 0===s?40:s,a=n.toleranceY,l=void 0===a?65:a,c=n.slide,d=void 0===c?null:c,h=n.instance,u=void 0===h?null:h;this.el=r,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=o,this.toleranceY=l,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=d,this.instance=u,this.el.addEventListener("mousedown",(function(e){return i.dragStart(e)}),!1),this.el.addEventListener("mouseup",(function(e){return i.dragEnd(e)}),!1),this.el.addEventListener("mousemove",(function(e){return i.drag(e)}),!1)}return n(e,[{key:"dragStart",value:function(e){if(this.slide.classList.contains("zoomed"))this.active=!1;else{"touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset);var t=e.target.nodeName.toLowerCase();e.target.classList.contains("nodrag")||u(e.target,".nodrag")||-1!==["input","select","textarea","button","a"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||"img"!==t&&u(e.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=u(e.target,".ginner-container")))}}},{key:"dragEnd",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,"right"==this.doSlideChange&&this.instance.prevSlide(),"left"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove("dragging"),t.slide.classList.remove("dragging-nav"),t.dragContainer.style.transform="",t.dragContainer.style.transition=""}),100)}},{key:"drag",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add("dragging-nav"),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var t=Math.abs(this.currentX),i=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||"x"==this.lastDirection)){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var n=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&n&&(this.doSlideChange=n),this.instance.settings.dragAutoSnap&&n)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),"right"==n&&this.instance.prevSlide(),void("left"==n&&this.instance.nextSlide())}if(this.toleranceY>0&&i>0&&i>=t&&(!this.lastDirection||"y"==this.lastDirection)){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var r=this.shouldClose();return!this.instance.settings.dragAutoSnap&&r&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&r&&this.instance.close())}}}},{key:"shouldChange",value:function(){var e=!1;if(Math.abs(this.currentX)>=this.toleranceX){var t=this.currentX>0?"right":"left";("left"==t&&this.slide!==this.slide.parentNode.lastChild||"right"==t&&this.slide!==this.slide.parentNode.firstChild)&&(e=t)}return e}},{key:"shouldClose",value:function(){var e=!1;return Math.abs(this.currentY)>=this.toleranceY&&(e=!0),e}},{key:"setTranslate",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.style.transition=n?"all .2s ease":"",e.style.transform="translate3d(".concat(t,"px, ").concat(i,"px, 0)")}}]),e}();function z(e,t,i,n){var r=e.querySelector(".gslide-media"),s=new Image,o="gSlideTitle_"+i,a="gSlideDesc_"+i;s.addEventListener("load",(function(){k(n)&&n()}),!1),s.src=t.href,""!=t.sizes&&""!=t.srcset&&(s.sizes=t.sizes,s.srcset=t.srcset),s.alt="",A(t.alt)||""===t.alt||(s.alt=t.alt),""!==t.title&&s.setAttribute("aria-labelledby",o),""!==t.description&&s.setAttribute("aria-describedby",a),t.hasOwnProperty("_hasCustomWidth")&&t._hasCustomWidth&&(s.style.width=t.width),t.hasOwnProperty("_hasCustomHeight")&&t._hasCustomHeight&&(s.style.height=t.height),r.insertBefore(s,r.firstChild)}function X(e,t,i,n){var r=this,s=e.querySelector(".ginner-container"),o="gvideo"+i,a=e.querySelector(".gslide-media"),l=this.getAllPlayers();c(s,"gvideo-container"),a.insertBefore(v('<div class="gvideo-wrapper"></div>'),a.firstChild);var d=e.querySelector(".gvideo-wrapper");w(this.settings.plyr.css,"Plyr");var h=t.href,u=null==t?void 0:t.videoProvider,f=!1;a.style.maxWidth=t.width,w(this.settings.plyr.js,"Plyr",(function(){if(!u&&h.match(/vimeo\.com\/([0-9]*)/)&&(u="vimeo"),!u&&(h.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||h.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||h.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))&&(u="youtube"),"local"===u||!u){u="local";var s='<video id="'+o+'" ';s+='style="background:#000; max-width: '.concat(t.width,';" '),s+='preload="metadata" ',s+='x-webkit-airplay="allow" ',s+="playsinline ",s+="controls ",s+='class="gvideo-local">',s+='<source src="'.concat(h,'">'),f=v(s+="</video>")}var a=f||v('<div id="'.concat(o,'" data-plyr-provider="').concat(u,'" data-plyr-embed-id="').concat(h,'"></div>'));c(d,"".concat(u,"-video gvideo")),d.appendChild(a),d.setAttribute("data-id",o),d.setAttribute("data-index",i);var p=L(r.settings.plyr,"config")?r.settings.plyr.config:{},g=new Plyr("#"+o,p);g.on("ready",(function(e){l[o]=e.detail.plyr,k(n)&&n()})),b((function(){return e.querySelector("iframe")&&"true"==e.querySelector("iframe").dataset.ready}),(function(){r.resize(e)})),g.on("enterfullscreen",G),g.on("exitfullscreen",G)}))}function G(e){var t=u(e.target,".gslide-media");"enterfullscreen"===e.type&&c(t,"fullscreen"),"exitfullscreen"===e.type&&d(t,"fullscreen")}function K(e,t,i,n){var r,s=this,o=e.querySelector(".gslide-media"),a=!(!L(t,"href")||!t.href)&&t.href.split("#").pop().trim(),d=!(!L(t,"content")||!t.content)&&t.content;if(d&&(E(d)&&(r=v('<div class="ginlined-content">'.concat(d,"</div>"))),T(d))){"none"==d.style.display&&(d.style.display="block");var h=document.createElement("div");h.className="ginlined-content",h.appendChild(d),r=h}if(a){var u=document.getElementById(a);if(!u)return!1;var f=u.cloneNode(!0);f.style.height=t.height,f.style.maxWidth=t.width,c(f,"ginlined-content"),r=f}if(!r)return console.error("Unable to append inline slide content",t),!1;o.style.height=t.height,o.style.width=t.width,o.appendChild(r),this.events["inlineclose"+a]=l("click",{onElement:o.querySelectorAll(".gtrigger-close"),withCallback:function(e){e.preventDefault(),s.close()}}),k(n)&&n()}function Y(e,t,i,n){var r=e.querySelector(".gslide-media"),s=function(e){var t=e.url,i=e.allow,n=e.callback,r=e.appendTo,s=document.createElement("iframe");return s.className="vimeo-video gvideo",s.src=t,s.style.width="100%",s.style.height="100%",i&&s.setAttribute("allow",i),s.onload=function(){s.onload=null,c(s,"node-ready"),k(n)&&n()},r&&r.appendChild(s),s}({url:t.href,callback:n});r.parentNode.style.maxWidth=t.width,r.parentNode.style.height=t.height,r.appendChild(s)}var W=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},C(i)&&(this.defaults=s(this.defaults,i))}return n(e,[{key:"sourceType",value:function(e){var t=e;return null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)?"image":e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||null!==e.match(/\.(mp4|ogg|webm|mov)/)?"video":null!==e.match(/\.(mp3|wav|wma|aac|ogg)/)?"audio":e.indexOf("#")>-1&&""!==t.split("#").pop().trim()?"inline":e.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(e,t){var i=this,n=s({descPosition:t.descPosition},this.defaults);if(C(e)&&!T(e)){L(e,"type")||(L(e,"content")&&e.content?e.type="inline":L(e,"href")&&(e.type=this.sourceType(e.href)));var r=s(n,e);return this.setSize(r,t),r}var a="",l=e.getAttribute("data-glightbox"),c=e.nodeName.toLowerCase();if("a"===c&&(a=e.href),"img"===c&&(a=e.src,n.alt=e.alt),n.href=a,o(n,(function(r,s){L(t,s)&&"width"!==s&&(n[s]=t[s]);var o=e.dataset[s];A(o)||(n[s]=i.sanitizeValue(o))})),n.content&&(n.type="inline"),!n.type&&a&&(n.type=this.sourceType(a)),A(l)){if(!n.title&&"a"==c){var d=e.title;A(d)||""===d||(n.title=d)}if(!n.title&&"img"==c){var h=e.alt;A(h)||""===h||(n.title=h)}}else{var u=[];o(n,(function(e,t){u.push(";\\s?"+t)})),u=u.join("\\s?:|"),""!==l.trim()&&o(n,(function(e,t){var r=l,s=new RegExp("s?"+t+"s?:s?(.*?)("+u+"s?:|$)"),o=r.match(s);if(o&&o.length&&o[1]){var a=o[1].trim().replace(/;\s*$/,"");n[t]=i.sanitizeValue(a)}}))}if(n.description&&"."===n.description.substring(0,1)){var f;try{f=document.querySelector(n.description).innerHTML}catch(e){if(!(e instanceof DOMException))throw e}f&&(n.description=f)}if(!n.description){var p=e.querySelector(".glightbox-desc");p&&(n.description=p.innerHTML)}return this.setSize(n,t,e),this.slideConfig=n,n}},{key:"setSize",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="video"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),r=this.checkSize(t.height);return e.width=L(e,"width")&&""!==e.width?this.checkSize(e.width):n,e.height=L(e,"height")&&""!==e.height?this.checkSize(e.height):r,i&&"image"==e.type&&(e._hasCustomWidth=!!i.dataset.width,e._hasCustomHeight=!!i.dataset.height),e}},{key:"checkSize",value:function(e){return O(e)?"".concat(e,"px"):e}},{key:"sanitizeValue",value:function(e){return"true"!==e&&"false"!==e?e:"true"===e}}]),e}(),V=function(){function e(i,n,r){t(this,e),this.element=i,this.instance=n,this.index=r}return n(e,[{key:"setContent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(h(t,"loaded"))return!1;var n=this.instance.settings,r=this.slideConfig,s=x();k(n.beforeSlideLoad)&&n.beforeSlideLoad({index:this.index,slide:t,player:!1});var o=r.type,a=r.descPosition,l=t.querySelector(".gslide-media"),d=t.querySelector(".gslide-title"),u=t.querySelector(".gslide-desc"),f=t.querySelector(".gdesc-inner"),p=i,g="gSlideTitle_"+this.index,m="gSlideDesc_"+this.index;if(k(n.afterSlideLoad)&&(p=function(){k(i)&&i(),n.afterSlideLoad({index:e.index,slide:t,player:e.instance.getSlidePlayerInstance(e.index)})}),""==r.title&&""==r.description?f&&f.parentNode.parentNode.removeChild(f.parentNode):(d&&""!==r.title?(d.id=g,d.innerHTML=r.title):d.parentNode.removeChild(d),u&&""!==r.description?(u.id=m,s&&n.moreLength>0?(r.smallDescription=this.slideShortDesc(r.description,n.moreLength,n.moreText),u.innerHTML=r.smallDescription,this.descriptionEvents(u,r)):u.innerHTML=r.description):u.parentNode.removeChild(u),c(l.parentNode,"desc-".concat(a)),c(f.parentNode,"description-".concat(a))),c(l,"gslide-".concat(o)),c(t,"loaded"),"video"!==o){if("external"!==o)return"inline"===o?(K.apply(this.instance,[t,r,this.index,p]),void(r.draggable&&new F({dragEl:t.querySelector(".gslide-inline"),toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:this.instance}))):void("image"!==o?k(p)&&p():z(t,r,this.index,(function(){var i=t.querySelector("img");r.draggable&&new F({dragEl:i,toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:e.instance}),r.zoomable&&i.naturalWidth>i.offsetWidth&&(c(i,"zoomable"),new U(i,t,(function(){e.instance.resize()}))),k(p)&&p()})));Y.apply(this,[t,r,this.index,p])}else X.apply(this.instance,[t,r,this.index,p])}},{key:"slideShortDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");n.innerHTML=e;var r=i;if((e=n.innerText.trim()).length<=t)return e;var s=e.substr(0,t-1);return r?(n=null,s+'... <a href="#" class="desc-more">'+i+"</a>"):s}},{key:"descriptionEvents",value:function(e,t){var i=this,n=e.querySelector(".desc-more");if(!n)return!1;l("click",{onElement:n,withCallback:function(e,n){e.preventDefault();var r=document.body,s=u(n,".gslide-desc");if(!s)return!1;s.innerHTML=t.description,c(r,"gdesc-open");var o=l("click",{onElement:[r,u(s,".gslide-description")],withCallback:function(e,n){"a"!==e.target.nodeName.toLowerCase()&&(d(r,"gdesc-open"),c(r,"gdesc-closed"),s.innerHTML=t.smallDescription,i.descriptionEvents(s,t),setTimeout((function(){d(r,"gdesc-closed")}),400),o.destroy())}})}})}},{key:"create",value:function(){return v(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){T(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var e=new W(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),e}(),J=x(),Z=null!==x()||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,Q=document.getElementsByTagName("html")[0],ee={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:'<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',lightboxHTML:'<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n</div>\n</div>'},te=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.customOptions=i,this.settings=s(ee,i),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return n(e,[{key:"init",value:function(){var e=this,t=this.getSelector();t&&(this.baseEvents=l("click",{onElement:t,withCallback:function(t,i){t.preventDefault(),e.open(i)}})),this.elements=this.getElements()}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var i=O(t)?t:this.settings.startAt;if(T(e)){var n=e.getAttribute("data-gallery");n&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,n)),A(i)&&(i=this.getElementIndex(e))<0&&(i=0)}O(i)||(i=0),this.build(),f(this.overlay,"none"===this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var r=document.body,s=window.innerWidth-document.documentElement.clientWidth;if(s>0){var o=document.createElement("style");o.type="text/css",o.className="gcss-styles",o.innerText=".gscrollbar-fixer {margin-right: ".concat(s,"px}"),document.head.appendChild(o),c(r,"gscrollbar-fixer")}c(r,"glightbox-open"),c(Q,"glightbox-open"),J&&(c(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(i,!0),1===this.elements.length?(c(this.prevButton,"glightbox-button-hidden"),c(this.nextButton,"glightbox-button-hidden")):(d(this.prevButton,"glightbox-button-hidden"),d(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),k(this.settings.onOpen)&&this.settings.onOpen(),Z&&this.settings.touchNavigation&&$(this),this.settings.keyboardNavigation&&I(this)}},{key:"openAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,e)}},{key:"showSlide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(this.loader),this.index=parseInt(t);var n=this.slidesContainer.querySelector(".current");n&&d(n,"current"),this.slideAnimateOut();var r=this.slidesContainer.querySelectorAll(".gslide")[t];if(h(r,"loaded"))this.slideAnimateIn(r,i),m(this.loader);else{g(this.loader);var s=this.elements[t],o={index:this.index,slide:r,slideNode:r,slideConfig:s.slideConfig,slideIndex:this.index,trigger:s.node,player:null};this.trigger("slide_before_load",o),s.instance.setContent(r,(function(){m(e.loader),e.resize(),e.slideAnimateIn(r,i),e.trigger("slide_after_load",o)}))}this.slideDescription=r.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&h(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(t+1),this.preloadSlide(t-1)),this.updateNavigationClasses(),this.activeSlide=r}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length-1)return!1;if(A(this.elements[e]))return!1;var i=this.slidesContainer.querySelectorAll(".gslide")[e];if(h(i,"loaded"))return!1;var n=this.elements[e],r=n.type,s={index:e,slide:i,slideNode:i,slideConfig:n.slideConfig,slideIndex:e,trigger:n.node,player:null};this.trigger("slide_before_load",s),"video"===r||"external"===r?setTimeout((function(){n.instance.setContent(i,(function(){t.trigger("slide_after_load",s)}))}),200):n.instance.setContent(i,(function(){t.trigger("slide_after_load",s)}))}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:"insertSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=this.elements.length);var i=new V(e,this,t),n=i.getConfig(),r=s({},n),o=i.create(),a=this.elements.length-1;r.index=t,r.node=!1,r.instance=i,r.slideConfig=n,this.elements.splice(t,0,r);var l=null,c=null;if(this.slidesContainer){if(t>a)this.slidesContainer.appendChild(o);else{var d=this.slidesContainer.querySelectorAll(".gslide")[t];this.slidesContainer.insertBefore(o,d)}(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),l=this.slidesContainer.querySelectorAll(".gslide")[t],c=this.getSlidePlayerInstance(t),r.slideNode=l}this.trigger("slide_inserted",{index:t,slide:l,slideNode:l,slideConfig:n,slideIndex:t,trigger:null,player:c}),k(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:l,player:c})}},{key:"removeSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger("slide_removed",e),k(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:"slideAnimateIn",value:function(e,t){var i=this,n=e.querySelector(".gslide-media"),r=e.querySelector(".gslide-description"),s={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:A(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:A(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},o={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(n.offsetWidth>0&&r&&(m(r),r.style.display=""),d(e,this.effectsClasses),t)f(e,this.settings.cssEfects[this.settings.openEffect].in,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger("slide_changed",{prev:s,current:o}),k(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[s,o])}));else{var a=this.settings.slideEffect,l="none"!==a?this.settings.cssEfects[a].in:a;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(l=this.settings.cssEfects.slideBack.in),f(e,l,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger("slide_changed",{prev:s,current:o}),k(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[s,o])}))}setTimeout((function(){i.resize(e)}),100),c(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var e=this.prevActiveSlide;d(e,this.effectsClasses),c(e,"prev");var t=this.settings.slideEffect,i="none"!==t?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:A(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:A(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),k(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(i=this.settings.cssEfects.slideBack.out),f(e,i,(function(){var t=e.querySelector(".ginner-container"),i=e.querySelector(".gslide-media"),n=e.querySelector(".gslide-description");t.style.transform="",i.style.transform="",d(i,"greset"),i.style.opacity="",n&&(n.style.opacity=""),d(e,"prev")}))}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(e){var t="gvideo"+e,i=this.getAllPlayers();return!(!L(i,t)||!i[t])&&i[t]}},{key:"stopSlideVideo",value:function(e){if(T(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:"slidePlayerPause",value:function(e){if(T(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:"playSlideVideo",value:function(e){if(T(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var i=this.getSlidePlayerInstance(e);i&&!i.playing&&i.play()}},{key:"slidePlayerPlay",value:function(e){var t;if(!J||null!==(t=this.settings.plyr.config)&&void 0!==t&&t.muted){if(T(e)){var i=e.querySelector(".gvideo-wrapper");i&&(e=i.getAttribute("data-index"))}var n=this.getSlidePlayerInstance(e);n&&!n.playing&&(n.play(),this.settings.autofocusVideos&&n.elements.container.focus())}}},{key:"setElements",value:function(e){var t=this;this.settings.elements=!1;var i=[];e&&e.length&&o(e,(function(e,n){var r=new V(e,t,n),o=r.getConfig(),a=s({},o);a.slideConfig=o,a.instance=r,a.index=n,i.push(a)})),this.elements=i,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(o(this.elements,(function(){var e=v(t.settings.slideHTML);t.slidesContainer.appendChild(e)})),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(e){var t=!1;return o(this.elements,(function(i,n){if(L(i,"node")&&i.node==e)return t=n,!0})),t}},{key:"getElements",value:function(){var e=this,t=[];this.elements=this.elements?this.elements:[],!A(this.settings.elements)&&S(this.settings.elements)&&this.settings.elements.length&&o(this.settings.elements,(function(i,n){var r=new V(i,e,n),o=r.getConfig(),a=s({},o);a.node=!1,a.index=n,a.instance=r,a.slideConfig=o,t.push(a)}));var i=!1;return this.getSelector()&&(i=document.querySelectorAll(this.getSelector())),i?(o(i,(function(i,n){var r=new V(i,e,n),o=r.getConfig(),a=s({},o);a.node=i,a.index=n,a.instance=r,a.slideConfig=o,a.gallery=i.getAttribute("data-gallery"),t.push(a)})),t):t}},{key:"getGalleryElements",value:function(e,t){return e.filter((function(e){return e.gallery==t}))}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&"data-"==this.settings.selector.substring(0,5)?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var i=this.settings.cssEfects[t];e.push("g".concat(i.in)),e.push("g".concat(i.out))}return e.join(" ")}},{key:"build",value:function(){var e=this;if(this.built)return!1;var t=document.body.childNodes,i=[];o(t,(function(e){e.parentNode==document.body&&"#"!==e.nodeName.charAt(0)&&e.hasAttribute&&!e.hasAttribute("aria-hidden")&&(i.push(e),e.setAttribute("aria-hidden","true"))}));var n=L(this.settings.svg,"next")?this.settings.svg.next:"",r=L(this.settings.svg,"prev")?this.settings.svg.prev:"",s=L(this.settings.svg,"close")?this.settings.svg.close:"",a=this.settings.lightboxHTML;a=v(a=(a=(a=a.replace(/{nextSVG}/g,n)).replace(/{prevSVG}/g,r)).replace(/{closeSVG}/g,s)),document.body.appendChild(a);var d=document.getElementById("glightbox-body");this.modal=d;var f=d.querySelector(".gclose");this.prevButton=d.querySelector(".gprev"),this.nextButton=d.querySelector(".gnext"),this.overlay=d.querySelector(".goverlay"),this.loader=d.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=i,this.events={},c(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&f&&(this.events.close=l("click",{onElement:f,withCallback:function(t,i){t.preventDefault(),e.close()}})),f&&!this.settings.closeButton&&f.parentNode.removeChild(f),this.nextButton&&(this.events.next=l("click",{onElement:this.nextButton,withCallback:function(t,i){t.preventDefault(),e.nextSlide()}})),this.prevButton&&(this.events.prev=l("click",{onElement:this.prevButton,withCallback:function(t,i){t.preventDefault(),e.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=l("click",{onElement:d,withCallback:function(t,i){e.preventOutsideClick||h(document.body,"glightbox-mobile")||u(t.target,".ginner-container")||u(t.target,".gbtn")||h(t.target,"gnext")||h(t.target,"gprev")||e.close()}})),o(this.elements,(function(t,i){e.slidesContainer.appendChild(t.instance.create()),t.slideNode=e.slidesContainer.querySelectorAll(".gslide")[i]})),Z&&c(document.body,"glightbox-touch"),this.events.resize=l("resize",{onElement:window,withCallback:function(){e.resize()}}),this.built=!0}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!h(e,"zoomed")){var t=_(),i=e.querySelector(".gvideo-wrapper"),n=e.querySelector(".gslide-image"),r=this.slideDescription,s=t.width,o=t.height;if(s<=768?c(document.body,"glightbox-mobile"):d(document.body,"glightbox-mobile"),i||n){var a=!1;if(r&&(h(r,"description-bottom")||h(r,"description-top"))&&!h(r,"gabsolute")&&(a=!0),n)if(s<=768)n.querySelector("img");else if(a){var l=r.offsetHeight,u=n.querySelector("img");u.setAttribute("style","max-height: calc(100vh - ".concat(l,"px)")),r.setAttribute("style","max-width: ".concat(u.offsetWidth,"px;"))}if(i){var f=L(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!f){var p=i.clientWidth,g=i.clientHeight,m=p/g;f="".concat(p/m,":").concat(g/m)}var v=f.split(":"),y=this.settings.videosWidth,b=this.settings.videosWidth,w=(b=O(y)||-1!==y.indexOf("px")?parseInt(y):-1!==y.indexOf("vw")?s*parseInt(y)/100:-1!==y.indexOf("vh")?o*parseInt(y)/100:-1!==y.indexOf("%")?s*parseInt(y)/100:parseInt(i.clientWidth))/(parseInt(v[0])/parseInt(v[1]));if(w=Math.floor(w),a&&(o-=r.offsetHeight),b>s||w>o||o<w&&s>b){var x=i.offsetWidth,k=i.offsetHeight,E=o/k,T={width:x*E,height:k*E};i.parentNode.setAttribute("style","max-width: ".concat(T.width,"px")),a&&r.setAttribute("style","max-width: ".concat(T.width,"px;"))}else i.parentNode.style.maxWidth="".concat(y),a&&r.setAttribute("style","max-width: ".concat(y,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var e=this.loop();d(this.nextButton,"disabled"),d(this.prevButton,"disabled"),0==this.index&&this.elements.length-1==0?(c(this.prevButton,"disabled"),c(this.nextButton,"disabled")):0!==this.index||e?this.index!==this.elements.length-1||e||c(this.nextButton,"disabled"):c(this.prevButton,"disabled")}},{key:"loop",value:function(){var e=L(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return e=L(this.settings,"loop")?this.settings.loop:e}},{key:"close",value:function(){var e=this;if(!this.lightboxOpen){if(this.events){for(var t in this.events)this.events.hasOwnProperty(t)&&this.events[t].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&o(this.bodyHiddenChildElms,(function(e){e.removeAttribute("aria-hidden")})),c(this.modal,"glightbox-closing"),f(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),f(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(e.activeSlide=null,e.prevActiveSlideIndex=null,e.prevActiveSlide=null,e.built=!1,e.events){for(var t in e.events)e.events.hasOwnProperty(t)&&e.events[t].destroy();e.events=null}var i=document.body;d(Q,"glightbox-open"),d(i,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),e.modal.parentNode.removeChild(e.modal),e.trigger("close"),k(e.settings.onClose)&&e.settings.onClose();var n=document.querySelector(".gcss-styles");n&&n.parentNode.removeChild(n),e.lightboxOpen=!1,e.closing=null}))}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!k(t))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:e,once:i,callback:t})}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"trigger",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];o(this.apiEvents,(function(t,r){var s=t.evt,o=t.once,a=t.callback;s==e&&(a(i),o&&n.push(r))})),n.length&&o(n,(function(e){return t.apiEvents.splice(e,1)}))}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.1.0"}}]),e}();return function(){var e=new te(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return e.init(),e}}()},5223:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ErrorCode:()=>ve,FormatError:()=>we,IntlMessageFormat:()=>Ae,InvalidValueError:()=>xe,InvalidValueTypeError:()=>ke,MissingValueError:()=>Ee,PART_TYPE:()=>be,default:()=>Le,formatToParts:()=>Se,isFormatXMLElementFn:()=>Te});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var s=function(){return s=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};function o(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}Object.create;function a(e,t,i){if(i||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var l,c,d;function h(e){return e.type===c.literal}function u(e){return e.type===c.argument}function f(e){return e.type===c.number}function p(e){return e.type===c.date}function g(e){return e.type===c.time}function m(e){return e.type===c.select}function v(e){return e.type===c.plural}function _(e){return e.type===c.pound}function y(e){return e.type===c.tag}function b(e){return!(!e||"object"!=typeof e||e.type!==d.number)}function w(e){return!(!e||"object"!=typeof e||e.type!==d.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(l||(l={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(c||(c={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(d||(d={}));var x=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,k=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function E(e){var t={};return e.replace(k,(function(e){var i=e.length;switch(e[0]){case"G":t.era=4===i?"long":5===i?"narrow":"short";break;case"y":t.year=2===i?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===i?"long":5===i?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][i-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][i-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][i-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][i-1];break;case"s":t.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var T=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var S=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,j=/^(@+)?(\+|#+)?[rs]?$/g,C=/(\*)(0+)|(#+)(0+)|(0+)/g,A=/^(0+)$/;function L(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(j,(function(e,i,n){return"string"!=typeof n?(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length):"+"===n?t.minimumSignificantDigits=i.length:"#"===i[0]?t.maximumSignificantDigits=i.length:(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length+("string"==typeof n?n.length:0)),""})),t}function D(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function O(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var i=e.slice(0,2);if("+!"===i?(t.signDisplay="always",e=e.slice(2)):"+?"===i&&(t.signDisplay="exceptZero",e=e.slice(2)),!A.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function N(e){var t=D(e);return t||{}}function I(e){for(var t={},i=0,n=e;i<n.length;i++){var r=n[i];switch(r.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=r.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=r.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=s(s(s({},t),{notation:"scientific"}),r.options.reduce((function(e,t){return s(s({},e),N(t))}),{}));continue;case"engineering":t=s(s(s({},t),{notation:"engineering"}),r.options.reduce((function(e,t){return s(s({},e),N(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(r.options[0]);continue;case"integer-width":if(r.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");r.options[0].replace(C,(function(e,i,n,r,s,o){if(i)t.minimumIntegerDigits=n.length;else{if(r&&s)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(A.test(r.stem))t.minimumIntegerDigits=r.stem.length;else if(S.test(r.stem)){if(r.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");r.stem.replace(S,(function(e,i,n,r,s,o){return"*"===n?t.minimumFractionDigits=i.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:s&&o?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+o.length):(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length),""}));var o=r.options[0];"w"===o?t=s(s({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=s(s({},t),L(o)))}else if(j.test(r.stem))t=s(s({},t),L(r.stem));else{var a=D(r.stem);a&&(t=s(s({},t),a));var l=O(r.stem);l&&(t=s(s({},t),l))}}return t}var P,M={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function H(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var i,n=e.language;return"root"!==n&&(i=e.maximize().region),(M[i||""]||M[n||""]||M["".concat(n,"-001")]||M["001"])[0]}var R=new RegExp("^".concat(x.source,"*")),B=new RegExp("".concat(x.source,"*$"));function q(e,t){return{start:e,end:t}}var $=!!String.prototype.startsWith&&"_a".startsWith("a",1),U=!!String.fromCodePoint,F=!!Object.fromEntries,z=!!String.prototype.codePointAt,X=!!String.prototype.trimStart,G=!!String.prototype.trimEnd,K=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Y=!0;try{Y="a"===(null===(P=ie("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===P?void 0:P[0])}catch(e){Y=!1}var W,V=$?function(e,t,i){return e.startsWith(t,i)}:function(e,t,i){return e.slice(i,i+t.length)===t},J=U?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i,n="",r=e.length,s=0;r>s;){if((i=e[s++])>1114111)throw RangeError(i+" is not a valid code point");n+=i<65536?String.fromCharCode(i):String.fromCharCode(55296+((i-=65536)>>10),i%1024+56320)}return n},Z=F?Object.fromEntries:function(e){for(var t={},i=0,n=e;i<n.length;i++){var r=n[i],s=r[0],o=r[1];t[s]=o}return t},Q=z?function(e,t){return e.codePointAt(t)}:function(e,t){var i=e.length;if(!(t<0||t>=i)){var n,r=e.charCodeAt(t);return r<55296||r>56319||t+1===i||(n=e.charCodeAt(t+1))<56320||n>57343?r:n-56320+(r-55296<<10)+65536}},ee=X?function(e){return e.trimStart()}:function(e){return e.replace(R,"")},te=G?function(e){return e.trimEnd()}:function(e){return e.replace(B,"")};function ie(e,t){return new RegExp(e,t)}if(Y){var ne=ie("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");W=function(e,t){var i;return ne.lastIndex=t,null!==(i=ne.exec(e)[1])&&void 0!==i?i:""}}else W=function(e,t){for(var i=[];;){var n=Q(e,t);if(void 0===n||oe(n)||ae(n))break;i.push(n),t+=n>=65536?2:1}return J.apply(void 0,i)};var re=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,i){for(var n=[];!this.isEOF();){var r=this.char();if(123===r){if((s=this.parseArgument(e,i)).err)return s;n.push(s.val)}else{if(125===r&&e>0)break;if(35!==r||"plural"!==t&&"selectordinal"!==t){if(60===r&&!this.ignoreTag&&47===this.peek()){if(i)break;return this.error(l.UNMATCHED_CLOSING_TAG,q(this.clonePosition(),this.clonePosition()))}if(60===r&&!this.ignoreTag&&se(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;n.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;n.push(s.val)}}else{var o=this.clonePosition();this.bump(),n.push({type:c.pound,location:q(o,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var i=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:c.literal,value:"<".concat(n,"/>"),location:q(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var r=this.parseMessage(e+1,t,!0);if(r.err)return r;var s=r.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!se(this.char()))return this.error(l.INVALID_TAG,q(o,this.clonePosition()));var a=this.clonePosition();return n!==this.parseTagName()?this.error(l.UNMATCHED_CLOSING_TAG,q(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:c.tag,value:n,children:s,location:q(i,this.clonePosition())},err:null}:this.error(l.INVALID_TAG,q(o,this.clonePosition())))}return this.error(l.UNCLOSED_TAG,q(i,this.clonePosition()))}return this.error(l.INVALID_TAG,q(i,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var i=this.clonePosition(),n="";;){var r=this.tryParseQuote(t);if(r)n+=r;else{var s=this.tryParseUnquoted(e,t);if(s)n+=s;else{var o=this.tryParseLeftAngleBracket();if(!o)break;n+=o}}}var a=q(i,this.clonePosition());return{val:{type:c.literal,value:n,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(se(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(39===i){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(i);this.bump()}return J.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var i=this.char();return 60===i||123===i||35===i&&("plural"===t||"selectordinal"===t)||125===i&&e>0?null:(this.bump(),J(i))},e.prototype.parseArgument=function(e,t){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(l.EXPECT_ARGUMENT_CLOSING_BRACE,q(i,this.clonePosition()));if(125===this.char())return this.bump(),this.error(l.EMPTY_ARGUMENT,q(i,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(l.MALFORMED_ARGUMENT,q(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(l.EXPECT_ARGUMENT_CLOSING_BRACE,q(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:c.argument,value:n,location:q(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(l.EXPECT_ARGUMENT_CLOSING_BRACE,q(i,this.clonePosition())):this.parseArgumentOptions(e,t,n,i);default:return this.error(l.MALFORMED_ARGUMENT,q(i,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),i=W(this.message,t),n=t+i.length;return this.bumpTo(n),{value:i,location:q(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,i,n){var r,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,h=this.clonePosition();switch(a){case"":return this.error(l.EXPECT_ARGUMENT_TYPE,q(o,h));case"number":case"date":case"time":this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var f=this.clonePosition();if((w=this.parseSimpleArgStyleIfPossible()).err)return w;if(0===(v=te(w.val)).length)return this.error(l.EXPECT_ARGUMENT_STYLE,q(this.clonePosition(),this.clonePosition()));u={style:v,styleLocation:q(f,this.clonePosition())}}if((x=this.tryParseArgumentClose(n)).err)return x;var p=q(n,this.clonePosition());if(u&&V(null==u?void 0:u.style,"::",0)){var g=ee(u.style.slice(2));if("number"===a)return(w=this.parseNumberSkeletonFromString(g,u.styleLocation)).err?w:{val:{type:c.number,value:i,location:p,style:w.val},err:null};if(0===g.length)return this.error(l.EXPECT_DATE_TIME_SKELETON,p);var m=g;this.locale&&(m=function(e,t){for(var i="",n=0;n<e.length;n++){var r=e.charAt(n);if("j"===r){for(var s=0;n+1<e.length&&e.charAt(n+1)===r;)s++,n++;var o=1+(1&s),a=s<2?1:3+(s>>1),l=H(t);for("H"!=l&&"k"!=l||(a=0);a-- >0;)i+="a";for(;o-- >0;)i=l+i}else i+="J"===r?"H":r}return i}(g,this.locale));var v={type:d.dateTime,pattern:m,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?E(m):{}};return{val:{type:"date"===a?c.date:c.time,value:i,location:p,style:v},err:null}}return{val:{type:"number"===a?c.number:"date"===a?c.date:c.time,value:i,location:p,style:null!==(r=null==u?void 0:u.style)&&void 0!==r?r:null},err:null};case"plural":case"selectordinal":case"select":var _=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(l.EXPECT_SELECT_ARGUMENT_OPTIONS,q(_,s({},_)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),b=0;if("select"!==a&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(l.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,q(this.clonePosition(),this.clonePosition()));var w;if(this.bumpSpace(),(w=this.tryParseDecimalInteger(l.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,l.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return w;this.bumpSpace(),y=this.parseIdentifierIfPossible(),b=w.val}var x,k=this.tryParsePluralOrSelectOptions(e,a,t,y);if(k.err)return k;if((x=this.tryParseArgumentClose(n)).err)return x;var T=q(n,this.clonePosition());return"select"===a?{val:{type:c.select,value:i,options:Z(k.val),location:T},err:null}:{val:{type:c.plural,value:i,options:Z(k.val),offset:b,pluralType:"plural"===a?"cardinal":"ordinal",location:T},err:null};default:return this.error(l.INVALID_ARGUMENT_TYPE,q(o,h))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(l.EXPECT_ARGUMENT_CLOSING_BRACE,q(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(l.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,q(i,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var i=[];try{i=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],i=0,n=e.split(T).filter((function(e){return e.length>0}));i<n.length;i++){var r=n[i].split("/");if(0===r.length)throw new Error("Invalid number skeleton");for(var s=r[0],o=r.slice(1),a=0,l=o;a<l.length;a++)if(0===l[a].length)throw new Error("Invalid number skeleton");t.push({stem:s,options:o})}return t}(e)}catch(e){return this.error(l.INVALID_NUMBER_SKELETON,t)}return{val:{type:d.number,tokens:i,location:t,parsedOptions:this.shouldParseSkeletons?I(i):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,i,n){for(var r,s=!1,o=[],a=new Set,c=n.value,d=n.location;;){if(0===c.length){var h=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var u=this.tryParseDecimalInteger(l.EXPECT_PLURAL_ARGUMENT_SELECTOR,l.INVALID_PLURAL_ARGUMENT_SELECTOR);if(u.err)return u;d=q(h,this.clonePosition()),c=this.message.slice(h.offset,this.offset())}if(a.has(c))return this.error("select"===t?l.DUPLICATE_SELECT_ARGUMENT_SELECTOR:l.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,d);"other"===c&&(s=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?l.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:l.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,q(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,i);if(p.err)return p;var g=this.tryParseArgumentClose(f);if(g.err)return g;o.push([c,{value:p.val,location:q(f,this.clonePosition())}]),a.add(c),this.bumpSpace(),c=(r=this.parseIdentifierIfPossible()).value,d=r.location}return 0===o.length?this.error("select"===t?l.EXPECT_SELECT_ARGUMENT_SELECTOR:l.EXPECT_PLURAL_ARGUMENT_SELECTOR,q(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(l.MISSING_OTHER_CLAUSE,q(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var i=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var r=!1,s=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;r=!0,s=10*s+(o-48),this.bump()}var a=q(n,this.clonePosition());return r?K(s*=i)?{val:s,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Q(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(V(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),i=this.message.indexOf(e,t);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&oe(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),i=this.message.charCodeAt(t+(e>=65536?2:1));return null!=i?i:null},e}();function se(e){return e>=97&&e<=122||e>=65&&e<=90}function oe(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function ae(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function le(e){e.forEach((function(e){if(delete e.location,m(e)||v(e))for(var t in e.options)delete e.options[t].location,le(e.options[t].value);else f(e)&&b(e.style)||(p(e)||g(e))&&w(e.style)?delete e.style.location:y(e)&&le(e.children)}))}function ce(e,t){void 0===t&&(t={}),t=s({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var i=new re(e,t).parse();if(i.err){var n=SyntaxError(l[i.err.kind]);throw n.location=i.err.location,n.originalMessage=i.err.message,n}return(null==t?void 0:t.captureLocation)||le(i.val),i.val}function de(e,t){var i=t&&t.cache?t.cache:_e,n=t&&t.serializer?t.serializer:ge;return(t&&t.strategy?t.strategy:pe)(e,{cache:i,serializer:n})}function he(e,t,i,n){var r,s=null==(r=n)||"number"==typeof r||"boolean"==typeof r?n:i(n),o=t.get(s);return void 0===o&&(o=e.call(this,n),t.set(s,o)),o}function ue(e,t,i){var n=Array.prototype.slice.call(arguments,3),r=i(n),s=t.get(r);return void 0===s&&(s=e.apply(this,n),t.set(r,s)),s}function fe(e,t,i,n,r){return i.bind(t,e,n,r)}function pe(e,t){return fe(e,this,1===e.length?he:ue,t.cache.create(),t.serializer)}var ge=function(){return JSON.stringify(arguments)};function me(){this.cache=Object.create(null)}me.prototype.get=function(e){return this.cache[e]},me.prototype.set=function(e,t){this.cache[e]=t};var ve,_e={create:function(){return new me}},ye={variadic:function(e,t){return fe(e,this,ue,t.cache.create(),t.serializer)},monadic:function(e,t){return fe(e,this,he,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(ve||(ve={}));var be,we=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r.code=i,r.originalMessage=n,r}return r(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),xe=function(e){function t(t,i,n,r){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(i,'". Options are "').concat(Object.keys(n).join('", "'),'"'),ve.INVALID_VALUE,r)||this}return r(t,e),t}(we),ke=function(e){function t(t,i,n){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(i),ve.INVALID_VALUE,n)||this}return r(t,e),t}(we),Ee=function(e){function t(t,i){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(i,'"'),ve.MISSING_VALUE,i)||this}return r(t,e),t}(we);function Te(e){return"function"==typeof e}function Se(e,t,i,n,r,s,o){if(1===e.length&&h(e[0]))return[{type:be.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var d=c[l];if(h(d))a.push({type:be.literal,value:d.value});else if(_(d))"number"==typeof s&&a.push({type:be.literal,value:i.getNumberFormat(t).format(s)});else{var x=d.value;if(!r||!(x in r))throw new Ee(x,o);var k=r[x];if(u(d))k&&"string"!=typeof k&&"number"!=typeof k||(k="string"==typeof k||"number"==typeof k?String(k):""),a.push({type:"string"==typeof k?be.literal:be.object,value:k});else if(p(d)){var E="string"==typeof d.style?n.date[d.style]:w(d.style)?d.style.parsedOptions:void 0;a.push({type:be.literal,value:i.getDateTimeFormat(t,E).format(k)})}else if(g(d)){E="string"==typeof d.style?n.time[d.style]:w(d.style)?d.style.parsedOptions:n.time.medium;a.push({type:be.literal,value:i.getDateTimeFormat(t,E).format(k)})}else if(f(d)){(E="string"==typeof d.style?n.number[d.style]:b(d.style)?d.style.parsedOptions:void 0)&&E.scale&&(k*=E.scale||1),a.push({type:be.literal,value:i.getNumberFormat(t,E).format(k)})}else{if(y(d)){var T=d.children,S=d.value,j=r[S];if(!Te(j))throw new ke(S,"function",o);var C=j(Se(T,t,i,n,r,s).map((function(e){return e.value})));Array.isArray(C)||(C=[C]),a.push.apply(a,C.map((function(e){return{type:"string"==typeof e?be.literal:be.object,value:e}})))}if(m(d)){if(!(A=d.options[k]||d.options.other))throw new xe(d.value,k,Object.keys(d.options),o);a.push.apply(a,Se(A.value,t,i,n,r))}else if(v(d)){var A;if(!(A=d.options["=".concat(k)])){if(!Intl.PluralRules)throw new we('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',ve.MISSING_INTL_API,o);var L=i.getPluralRules(t,{type:d.pluralType}).select(k-(d.offset||0));A=d.options[L]||d.options.other}if(!A)throw new xe(d.value,k,Object.keys(d.options),o);a.push.apply(a,Se(A.value,t,i,n,r,k-(d.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var i=e[e.length-1];return i&&i.type===be.literal&&t.type===be.literal?i.value+=t.value:e.push(t),e}),[])}(a)}function je(e,t){return t?Object.keys(e).reduce((function(i,n){var r,o;return i[n]=(r=e[n],(o=t[n])?s(s(s({},r||{}),o||{}),Object.keys(r).reduce((function(e,t){return e[t]=s(s({},r[t]),o[t]||{}),e}),{})):r),i}),s({},e)):e}function Ce(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,i){e[t]=i}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(be||(be={}));var Ae=function(){function e(t,i,n,r){var l,c=this;if(void 0===i&&(i=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=c.formatToParts(e);if(1===t.length)return t[0].value;var i=t.reduce((function(e,t){return e.length&&t.type===be.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return i.length<=1?i[0]||"":i},this.formatToParts=function(e){return Se(c.ast,c.locales,c.formatters,c.formats,e,void 0,c.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=c.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(c.locales)[0]}},this.getAst=function(){return c.ast},this.locales=i,this.resolvedLocale=e.resolveLocale(i),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var d=r||{},h=(d.formatters,o(d,["formatters"]));this.ast=e.__parse(t,s(s({},h),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=je(e.formats,n),this.formatters=r&&r.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:de((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,a([void 0],t,!1)))}),{cache:Ce(l.number),strategy:ye.variadic}),getDateTimeFormat:de((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,a([void 0],t,!1)))}),{cache:Ce(l.dateTime),strategy:ye.variadic}),getPluralRules:de((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,a([void 0],t,!1)))}),{cache:Ce(l.pluralRules),strategy:ye.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=ce,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const Le=Ae},9755:function(e,t){var i;!function(t,i){"use strict";"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var s=[],o=Object.getPrototypeOf,a=s.slice,l=s.flat?function(e){return s.flat.call(e)}:function(e){return s.concat.apply([],e)},c=s.push,d=s.indexOf,h={},u=h.toString,f=h.hasOwnProperty,p=f.toString,g=p.call(Object),m={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},_=function(e){return null!=e&&e===e.window},y=n.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,i){var n,r,s=(i=i||y).createElement("script");if(s.text=e,t)for(n in b)(r=t[n]||t.getAttribute&&t.getAttribute(n))&&s.setAttribute(n,r);i.head.appendChild(s).parentNode.removeChild(s)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[u.call(e)]||"object":typeof e}var k="3.7.1",E=/HTML$/i,T=function(e,t){return new T.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,i=x(e);return!v(e)&&!_(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}T.fn=T.prototype={jquery:k,constructor:T,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:s.sort,splice:s.splice},T.extend=T.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||v(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(c&&n&&(T.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[t],s=r&&!Array.isArray(i)?[]:r||T.isPlainObject(i)?i:{},r=!1,o[t]=T.extend(c,s,n)):void 0!==n&&(o[t]=n));return o},T.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==u.call(e))&&(!(t=o(e))||"function"==typeof(i=f.call(t,"constructor")&&t.constructor)&&p.call(i)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){w(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(S(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,i="",n=0,r=e.nodeType;if(!r)for(;t=e[n++];)i+=T.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:i},makeArray:function(e,t){var i=t||[];return null!=e&&(S(Object(e))?T.merge(i,"string"==typeof e?[e]:e):c.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:d.call(t,e,i)},isXMLDoc:function(e){var t=e&&e.namespaceURI,i=e&&(e.ownerDocument||e).documentElement;return!E.test(t||i&&i.nodeName||"HTML")},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,s=e.length,o=!i;r<s;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,i){var n,r,s=0,o=[];if(S(e))for(n=e.length;s<n;s++)null!=(r=t(e[s],s,i))&&o.push(r);else for(s in e)null!=(r=t(e[s],s,i))&&o.push(r);return l(o)},guid:1,support:m}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=s[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var C=s.pop,A=s.sort,L=s.splice,D="[\\x20\\t\\r\\n\\f]",O=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");T.contains=function(e,t){var i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(e.contains?e.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))};var N=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function I(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}T.escapeSelector=function(e){return(e+"").replace(N,I)};var P=y,M=c;!function(){var e,t,i,r,o,l,c,h,u,p,g=M,v=T.expando,_=0,y=0,b=ee(),w=ee(),x=ee(),k=ee(),E=function(e,t){return e===t&&(o=!0),0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",I="\\["+D+"*("+N+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+D+"*\\]",H=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",R=new RegExp(D+"+","g"),B=new RegExp("^"+D+"*,"+D+"*"),q=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),$=new RegExp(D+"|>"),U=new RegExp(H),F=new RegExp("^"+N+"$"),z={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,W=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),V=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},J=function(){le()},Z=ue((function(e){return!0===e.disabled&&j(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(s=a.call(P.childNodes),P.childNodes),s[P.childNodes.length].nodeType}catch(e){g={apply:function(e,t){M.apply(e,a.call(t))},call:function(e){M.apply(e,a.call(arguments,1))}}}function Q(e,t,i,n){var r,s,o,a,c,d,f,p=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!n&&(le(t),t=t||l,h)){if(11!==_&&(c=K.exec(e)))if(r=c[1]){if(9===_){if(!(o=t.getElementById(r)))return i;if(o.id===r)return g.call(i,o),i}else if(p&&(o=p.getElementById(r))&&Q.contains(t,o)&&o.id===r)return g.call(i,o),i}else{if(c[2])return g.apply(i,t.getElementsByTagName(e)),i;if((r=c[3])&&t.getElementsByClassName)return g.apply(i,t.getElementsByClassName(r)),i}if(!(k[e+" "]||u&&u.test(e))){if(f=e,p=t,1===_&&($.test(e)||q.test(e))){for((p=Y.test(e)&&ae(t.parentNode)||t)==t&&m.scope||((a=t.getAttribute("id"))?a=T.escapeSelector(a):t.setAttribute("id",a=v)),s=(d=de(e)).length;s--;)d[s]=(a?"#"+a:":scope")+" "+he(d[s]);f=d.join(",")}try{return g.apply(i,p.querySelectorAll(f)),i}catch(t){k(e,!0)}finally{a===v&&t.removeAttribute("id")}}}return _e(e.replace(O,"$1"),t,i,n)}function ee(){var e=[];return function i(n,r){return e.push(n+" ")>t.cacheLength&&delete i[e.shift()],i[n+" "]=r}}function te(e){return e[v]=!0,e}function ie(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ne(e){return function(t){return j(t,"input")&&t.type===e}}function re(e){return function(t){return(j(t,"input")||j(t,"button"))&&t.type===e}}function se(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function oe(e){return te((function(t){return t=+t,te((function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var i,n=e?e.ownerDocument||e:P;return n!=l&&9===n.nodeType&&n.documentElement?(c=(l=n).documentElement,h=!T.isXMLDoc(l),p=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&P!=l&&(i=l.defaultView)&&i.top!==i&&i.addEventListener("unload",J),m.getById=ie((function(e){return c.appendChild(e).id=T.expando,!l.getElementsByName||!l.getElementsByName(T.expando).length})),m.disconnectedMatch=ie((function(e){return p.call(e,"*")})),m.scope=ie((function(){return l.querySelectorAll(":scope")})),m.cssHas=ie((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),m.getById?(t.filter.ID=function(e){var t=e.replace(W,V);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var i=t.getElementById(e);return i?[i]:[]}}):(t.filter.ID=function(e){var t=e.replace(W,V);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var i,n,r,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(r=t.getElementsByName(e),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},u=[],ie((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||u.push("\\["+D+"*(?:value|"+S+")"),e.querySelectorAll("[id~="+v+"-]").length||u.push("~="),e.querySelectorAll("a#"+v+"+*").length||u.push(".#.+[+~]"),e.querySelectorAll(":checked").length||u.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&u.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||u.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")})),m.cssHas||u.push(":has"),u=u.length&&new RegExp(u.join("|")),E=function(e,t){if(e===t)return o=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===i?e===l||e.ownerDocument==P&&Q.contains(P,e)?-1:t===l||t.ownerDocument==P&&Q.contains(P,t)?1:r?d.call(r,e)-d.call(r,t):0:4&i?-1:1)},l):l}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(le(e),h&&!k[t+" "]&&(!u||!u.test(t)))try{var i=p.call(e,t);if(i||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){k(t,!0)}return Q(t,l,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),T.contains(e,t)},Q.attr=function(e,i){(e.ownerDocument||e)!=l&&le(e);var n=t.attrHandle[i.toLowerCase()],r=n&&f.call(t.attrHandle,i.toLowerCase())?n(e,i,!h):void 0;return void 0!==r?r:e.getAttribute(i)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},T.uniqueSort=function(e){var t,i=[],n=0,s=0;if(o=!m.sortStable,r=!m.sortStable&&a.call(e,0),A.call(e,E),o){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)L.call(e,i[n],1)}return r=null,e},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(a.apply(this)))},t=T.expr={cacheLength:50,createPseudo:te,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(W,V),e[3]=(e[3]||e[4]||e[5]||"").replace(W,V),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&U.test(i)&&(t=de(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(W,V).toLowerCase();return"*"===e?function(){return!0}:function(e){return j(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var r=Q.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(R," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,d,h,u,f,p=s!==o?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(s){for(;p;){for(h=t;h=h[p];)if(a?j(h,m):1===h.nodeType)return!1;f=p="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(b=(u=(c=(d=g[v]||(g[v]={}))[e]||[])[0]===_&&c[1])&&c[2],h=u&&g.childNodes[u];h=++u&&h&&h[p]||(b=u=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){d[e]=[_,u,b];break}}else if(y&&(b=u=(c=(d=t[v]||(t[v]={}))[e]||[])[0]===_&&c[1]),!1===b)for(;(h=++u&&h&&h[p]||(b=u=0)||f.pop())&&(!(a?j(h,m):1===h.nodeType)||!++b||(y&&((d=h[v]||(h[v]={}))[e]=[_,b]),h!==t)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,i){var n,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return r[v]?r(i):r.length>1?(n=[e,e,"",i],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var n,s=r(e,i),o=s.length;o--;)e[n=d.call(e,s[o])]=!(t[n]=s[o])})):function(e){return r(e,0,n)}):r}},pseudos:{not:te((function(e){var t=[],i=[],n=ve(e.replace(O,"$1"));return n[v]?te((function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,r,s){return t[0]=e,n(t,null,s,i),t[0]=null,!i.pop()}})),has:te((function(e){return function(t){return Q(e,t).length>0}})),contains:te((function(e){return e=e.replace(W,V),function(t){return(t.textContent||T.text(t)).indexOf(e)>-1}})),lang:te((function(e){return F.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(W,V).toLowerCase(),function(t){var i;do{if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:se(!1),disabled:se(!0),checked:function(e){return j(e,"input")&&!!e.checked||j(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){return j(e,"input")&&"button"===e.type||j(e,"button")},text:function(e){var t;return j(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:oe((function(){return[0]})),last:oe((function(e,t){return[t-1]})),eq:oe((function(e,t,i){return[i<0?i+t:i]})),even:oe((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:oe((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:oe((function(e,t,i){var n;for(n=i<0?i+t:i>t?t:i;--n>=0;)e.push(n);return e})),gt:oe((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ne(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ce(){}function de(e,i){var n,r,s,o,a,l,c,d=w[e+" "];if(d)return i?0:d.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(o in n&&!(r=B.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=q.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(O," ")}),a=a.slice(n.length)),t.filter)!(r=z[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?Q.error(e):w(e,l).slice(0)}function he(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ue(e,t,i){var n=t.dir,r=t.next,s=r||n,o=i&&"parentNode"===s,a=y++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r);return!1}:function(t,i,l){var c,d,h=[_,a];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(d=t[v]||(t[v]={}),r&&j(t,r))t=t[n]||t;else{if((c=d[s])&&c[0]===_&&c[1]===a)return h[2]=c[2];if(d[s]=h,h[2]=e(t,i,l))return!0}return!1}}function fe(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function pe(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),c&&t.push(a)));return o}function ge(e,t,i,n,r,s){return n&&!n[v]&&(n=ge(n)),r&&!r[v]&&(r=ge(r,s)),te((function(s,o,a,l){var c,h,u,f,p=[],m=[],v=o.length,_=s||function(e,t,i){for(var n=0,r=t.length;n<r;n++)Q(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),y=!e||!s&&t?_:pe(_,p,e,a,l);if(i?i(y,f=r||(s?e:v||n)?[]:o,a,l):f=y,n)for(c=pe(f,m),n(c,[],a,l),h=c.length;h--;)(u=c[h])&&(f[m[h]]=!(y[m[h]]=u));if(s){if(r||e){if(r){for(c=[],h=f.length;h--;)(u=f[h])&&c.push(y[h]=u);r(null,f=[],c,l)}for(h=f.length;h--;)(u=f[h])&&(c=r?d.call(s,u):p[h])>-1&&(s[c]=!(o[c]=u))}}else f=pe(f===o?f.splice(v,f.length):f),r?r(null,o,f,l):g.apply(o,f)}))}function me(e){for(var n,r,s,o=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,h=ue((function(e){return e===n}),l,!0),u=ue((function(e){return d.call(n,e)>-1}),l,!0),f=[function(e,t,r){var s=!a&&(r||t!=i)||((n=t).nodeType?h(e,t,r):u(e,t,r));return n=null,s}];c<o;c++)if(r=t.relative[e[c].type])f=[ue(fe(f),r)];else{if((r=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(s=++c;s<o&&!t.relative[e[s].type];s++);return ge(c>1&&fe(f),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(O,"$1"),r,c<s&&me(e.slice(c,s)),s<o&&me(e=e.slice(s)),s<o&&he(e))}f.push(r)}return fe(f)}function ve(e,n){var r,s=[],o=[],a=x[e+" "];if(!a){for(n||(n=de(e)),r=n.length;r--;)(a=me(n[r]))[v]?s.push(a):o.push(a);a=x(e,function(e,n){var r=n.length>0,s=e.length>0,o=function(o,a,c,d,u){var f,p,m,v=0,y="0",b=o&&[],w=[],x=i,k=o||s&&t.find.TAG("*",u),E=_+=null==x?1:Math.random()||.1,S=k.length;for(u&&(i=a==l||a||u);y!==S&&null!=(f=k[y]);y++){if(s&&f){for(p=0,a||f.ownerDocument==l||(le(f),c=!h);m=e[p++];)if(m(f,a||l,c)){g.call(d,f);break}u&&(_=E)}r&&((f=!m&&f)&&v--,o&&b.push(f))}if(v+=y,r&&y!==v){for(p=0;m=n[p++];)m(b,w,a,c);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=C.call(d));w=pe(w)}g.apply(d,w),u&&!o&&w.length>0&&v+n.length>1&&T.uniqueSort(d)}return u&&(_=E,i=x),b};return r?te(o):o}(o,s)),a.selector=e}return a}function _e(e,i,n,r){var s,o,a,l,c,d="function"==typeof e&&e,u=!r&&de(e=d.selector||e);if(n=n||[],1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===i.nodeType&&h&&t.relative[o[1].type]){if(!(i=(t.find.ID(a.matches[0].replace(W,V),i)||[])[0]))return n;d&&(i=i.parentNode),e=e.slice(o.shift().value.length)}for(s=z.needsContext.test(e)?0:o.length;s--&&(a=o[s],!t.relative[l=a.type]);)if((c=t.find[l])&&(r=c(a.matches[0].replace(W,V),Y.test(o[0].type)&&ae(i.parentNode)||i))){if(o.splice(s,1),!(e=r.length&&he(o)))return g.apply(n,r),n;break}}return(d||ve(e,u))(r,i,!h,n,!i||Y.test(e)&&ae(i.parentNode)||i),n}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,m.sortStable=v.split("").sort(E).join("")===v,le(),m.sortDetached=ie((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),T.find=Q,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,Q.compile=ve,Q.select=_e,Q.setDocument=le,Q.tokenize=de,Q.escape=T.escapeSelector,Q.getText=T.text,Q.isXML=T.isXMLDoc,Q.selectors=T.expr,Q.support=T.support,Q.uniqueSort=T.uniqueSort}();var H=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&T(e).is(i))break;n.push(e)}return n},R=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},B=T.expr.match.needsContext,q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(e,t,i){return v(t)?T.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?T.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?T.grep(e,(function(e){return d.call(t,e)>-1!==i})):T.filter(t,e,i)}T.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?T.find.matchesSelector(n,e)?[n]:[]:T.find.matches(e,T.grep(t,(function(e){return 1===e.nodeType})))},T.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(T(e).filter((function(){for(t=0;t<n;t++)if(T.contains(r[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)T.find(e,r[t],i);return n>1?T.uniqueSort(i):i},filter:function(e){return this.pushStack($(this,e||[],!1))},not:function(e){return this.pushStack($(this,e||[],!0))},is:function(e){return!!$(this,"string"==typeof e&&B.test(e)?T(e):e||[],!1).length}});var U,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||U,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:F.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),q.test(n[1])&&T.isPlainObject(t))for(n in t)v(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=y.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==i.ready?i.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,U=T(y);var z=/^(?:parents|prev(?:Until|All))/,X={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(T.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,r=this.length,s=[],o="string"!=typeof e&&T(e);if(!B.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&T.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?T.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?d.call(T(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return H(e,"parentNode")},parentsUntil:function(e,t,i){return H(e,"parentNode",i)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return H(e,"nextSibling")},prevAll:function(e){return H(e,"previousSibling")},nextUntil:function(e,t,i){return H(e,"nextSibling",i)},prevUntil:function(e,t,i){return H(e,"previousSibling",i)},siblings:function(e){return R((e.parentNode||{}).firstChild,e)},children:function(e){return R(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},(function(e,t){T.fn[e]=function(i,n){var r=T.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=T.filter(n,r)),this.length>1&&(X[e]||T.uniqueSort(r),z.test(e)&&r.reverse()),this.pushStack(r)}}));var K=/[^\x20\t\r\n\f]+/g;function Y(e){return e}function W(e){throw e}function V(e,t,i,n){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(i):e&&v(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}T.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return T.each(e.match(K)||[],(function(e,i){t[i]=!0})),t}(e):T.extend({},e);var t,i,n,r,s=[],o=[],a=-1,l=function(){for(r=r||e.once,n=t=!0;o.length;a=-1)for(i=o.shift();++a<s.length;)!1===s[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=s.length,i=!1);e.memory||(i=!1),t=!1,r&&(s=i?[]:"")},c={add:function(){return s&&(i&&!t&&(a=s.length-1,o.push(i)),function t(i){T.each(i,(function(i,n){v(n)?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==x(n)&&t(n)}))}(arguments),i&&!t&&l()),this},remove:function(){return T.each(arguments,(function(e,t){for(var i;(i=T.inArray(t,s,i))>-1;)s.splice(i,1),i<=a&&a--})),this},has:function(e){return e?T.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||t||(s=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],o.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return T.Deferred((function(i){T.each(t,(function(t,n){var r=v(e[n[4]])&&e[n[4]];s[n[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,r){var s=0;function o(e,t,i,r){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(e<s)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?r?c.call(n,o(s,t,Y,r),o(s,t,W,r)):(s++,c.call(n,o(s,t,Y,r),o(s,t,W,r),o(s,t,Y,t.notifyWith))):(i!==Y&&(a=void 0,l=[n]),(r||t.resolveWith)(a,l))}},d=r?c:function(){try{c()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,d.error),e+1>=s&&(i!==W&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?d():(T.Deferred.getErrorHook?d.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(d.error=T.Deferred.getStackHook()),n.setTimeout(d))}}return T.Deferred((function(n){t[0][3].add(o(0,n,v(r)?r:Y,n.notifyWith)),t[1][3].add(o(0,n,v(e)?e:Y)),t[2][3].add(o(0,n,v(i)?i:W))})).promise()},promise:function(e){return null!=e?T.extend(e,r):r}},s={};return T.each(t,(function(e,n){var o=n[2],a=n[5];r[n[1]]=o.add,a&&o.add((function(){i=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(n[3].fire),s[n[0]]=function(){return s[n[0]+"With"](this===s?void 0:this,arguments),this},s[n[0]+"With"]=o.fireWith})),r.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,i=t,n=Array(i),r=a.call(arguments),s=T.Deferred(),o=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?a.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(V(e,s.done(o(i)).resolve,s.reject,!t),"pending"===s.state()||v(r[i]&&r[i].then)))return s.then();for(;i--;)V(r[i],o(i),s.reject);return s.promise()}});var J=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&J.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){n.setTimeout((function(){throw e}))};var Z=T.Deferred();function Q(){y.removeEventListener("DOMContentLoaded",Q),n.removeEventListener("load",Q),T.ready()}T.fn.ready=function(e){return Z.then(e).catch((function(e){T.readyException(e)})),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||Z.resolveWith(y,[T]))}}),T.ready.then=Z.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?n.setTimeout(T.ready):(y.addEventListener("DOMContentLoaded",Q),n.addEventListener("load",Q));var ee=function(e,t,i,n,r,s,o){var a=0,l=e.length,c=null==i;if("object"===x(i))for(a in r=!0,i)ee(e,t,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,v(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(T(e),i)})),t))for(;a<l;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:c?t.call(e):l?t(e[0],i):s},te=/^-ms-/,ie=/-([a-z])/g;function ne(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ie,ne)}var se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function oe(){this.expando=T.expando+oe.uid++}oe.uid=1,oe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[re(t)]=i;else for(n in t)r[re(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(re):(t=re(t))in n?[t]:t.match(K)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||T.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var ae=new oe,le=new oe,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,de=/[A-Z]/g;function he(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(de,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(i)}catch(e){}le.set(e,t,i)}else i=void 0;return i}T.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,i){return le.access(e,t,i)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,i){return ae.access(e,t,i)},_removeData:function(e,t){ae.remove(e,t)}}),T.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=le.get(s),1===s.nodeType&&!ae.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=re(n.slice(5)),he(s,n,r[n]));ae.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var i;if(s&&void 0===t)return void 0!==(i=le.get(s,e))||void 0!==(i=he(s,e))?i:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),T.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ae.get(e,t),i&&(!n||Array.isArray(i)?n=ae.access(e,t,T.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=T.queue(e,t),n=i.length,r=i.shift(),s=T._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,(function(){T.dequeue(e,t)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ae.get(e,i)||ae.access(e,i,{empty:T.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",i])}))})}}),T.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?T.queue(this[0],e):void 0===t?this:this.each((function(){var i=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&T.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){T.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=T.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=ae.get(s[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],ge=y.documentElement,me=function(e){return T.contains(e.ownerDocument,e)},ve={composed:!0};ge.getRootNode&&(me=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var _e=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===T.css(e,"display")};function ye(e,t,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return T.css(e,t,"")},l=a(),c=i&&i[3]||(T.cssNumber[t]?"":"px"),d=e.nodeType&&(T.cssNumber[t]||"px"!==c&&+l)&&fe.exec(T.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;o--;)T.style(e,t,d+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),d/=s;d*=2,T.style(e,t,d+c),i=i||[]}return i&&(d=+d||+l||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=r)),r}var be={};function we(e){var t,i=e.ownerDocument,n=e.nodeName,r=be[n];return r||(t=i.body.appendChild(i.createElement(n)),r=T.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),be[n]=r,r)}function xe(e,t){for(var i,n,r=[],s=0,o=e.length;s<o;s++)(n=e[s]).style&&(i=n.style.display,t?("none"===i&&(r[s]=ae.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&_e(n)&&(r[s]=we(n))):"none"!==i&&(r[s]="none",ae.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}T.fn.extend({show:function(){return xe(this,!0)},hide:function(){return xe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){_e(this)?T(this).show():T(this).hide()}))}});var ke,Ee,Te=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,je=/^$|^module$|\/(?:java|ecma)script/i;ke=y.createDocumentFragment().appendChild(y.createElement("div")),(Ee=y.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),ke.appendChild(Ee),m.checkClone=ke.cloneNode(!0).cloneNode(!0).lastChild.checked,ke.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ke.cloneNode(!0).lastChild.defaultValue,ke.innerHTML="<option></option>",m.option=!!ke.lastChild;var Ce={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ae(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?T.merge([e],i):i}function Le(e,t){for(var i=0,n=e.length;i<n;i++)ae.set(e[i],"globalEval",!t||ae.get(t[i],"globalEval"))}Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead,Ce.th=Ce.td,m.option||(Ce.optgroup=Ce.option=[1,"<select multiple='multiple'>","</select>"]);var De=/<|&#?\w+;/;function Oe(e,t,i,n,r){for(var s,o,a,l,c,d,h=t.createDocumentFragment(),u=[],f=0,p=e.length;f<p;f++)if((s=e[f])||0===s)if("object"===x(s))T.merge(u,s.nodeType?[s]:s);else if(De.test(s)){for(o=o||h.appendChild(t.createElement("div")),a=(Se.exec(s)||["",""])[1].toLowerCase(),l=Ce[a]||Ce._default,o.innerHTML=l[1]+T.htmlPrefilter(s)+l[2],d=l[0];d--;)o=o.lastChild;T.merge(u,o.childNodes),(o=h.firstChild).textContent=""}else u.push(t.createTextNode(s));for(h.textContent="",f=0;s=u[f++];)if(n&&T.inArray(s,n)>-1)r&&r.push(s);else if(c=me(s),o=Ae(h.appendChild(s),"script"),c&&Le(o),i)for(d=0;s=o[d++];)je.test(s.type||"")&&i.push(s);return h}var Ne=/^([^.]*)(?:\.(.+)|)/;function Ie(){return!0}function Pe(){return!1}function Me(e,t,i,n,r,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)Me(e,a,i,n,t[a],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Pe;else if(!r)return e;return 1===s&&(o=r,r=function(e){return T().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=T.guid++)),e.each((function(){T.event.add(this,t,r,n,i)}))}function He(e,t,i){i?(ae.set(e,t,!1),T.event.add(e,t,{namespace:!1,handler:function(e){var i,n=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(n)(T.event.special[t]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),ae.set(this,t,n),this[t](),i=ae.get(this,t),ae.set(this,t,!1),n!==i)return e.stopImmediatePropagation(),e.preventDefault(),i}else n&&(ae.set(this,t,T.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ie)}})):void 0===ae.get(e,t)&&T.event.add(e,t,Ie)}T.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,c,d,h,u,f,p,g,m=ae.get(e);if(se(e))for(i.handler&&(i=(s=i).handler,r=s.selector),r&&T.find.matchesSelector(ge,r),i.guid||(i.guid=T.guid++),(l=m.events)||(l=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(K)||[""]).length;c--;)f=g=(a=Ne.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=T.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=T.event.special[f]||{},d=T.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:p.join(".")},s),(u=l[f])||((u=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,p,o)||e.addEventListener&&e.addEventListener(f,o)),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),r?u.splice(u.delegateCount++,0,d):u.push(d),T.event.global[f]=!0)},remove:function(e,t,i,n,r){var s,o,a,l,c,d,h,u,f,p,g,m=ae.hasData(e)&&ae.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(K)||[""]).length;c--;)if(f=g=(a=Ne.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=T.event.special[f]||{},u=l[f=(n?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=u.length;s--;)d=u[s],!r&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(e,d));o&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||T.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)T.event.remove(e,f+t[c],i,n,!0);T.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,s,o,a=new Array(arguments.length),l=T.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],d=T.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(o=T.event.handlers.call(this,l,c),t=0;(r=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(n=((T.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,r,s,o,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[r=(n=t[i]).selector+" "]&&(o[r]=n.needsContext?T(r,this).index(c)>-1:T.find(r,this,null,[c]).length),o[r]&&s.push(n);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Te.test(t.type)&&t.click&&j(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return Te.test(t.type)&&t.click&&j(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return Te.test(t.type)&&t.click&&j(t,"input")&&ae.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ie:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ie,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ie,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ie,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(e,t){function i(e){if(y.documentMode){var i=ae.get(this,"handle"),n=T.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,i(e),n.target===n.currentTarget&&i(n)}else T.event.simulate(t,e.target,T.event.fix(e))}T.event.special[e]={setup:function(){var n;if(He(this,e,!0),!y.documentMode)return!1;(n=ae.get(this,t))||this.addEventListener(t,i),ae.set(this,t,(n||0)+1)},trigger:function(){return He(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,i),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},T.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,r=y.documentMode?this:n,s=ae.get(r,t);s||(y.documentMode?this.addEventListener(t,i):n.addEventListener(e,i,!0)),ae.set(r,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=y.documentMode?this:n,s=ae.get(r,t)-1;s?ae.set(r,t,s):(y.documentMode?this.removeEventListener(t,i):n.removeEventListener(e,i,!0),ae.remove(r,t))}}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||T.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}})),T.fn.extend({on:function(e,t,i,n){return Me(this,e,t,i,n)},one:function(e,t,i,n){return Me(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,T(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Pe),this.each((function(){T.event.remove(this,e,i,t)}))}});var Re=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $e(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var i,n,r,s,o,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(r in ae.remove(t,"handle events"),a)for(i=0,n=a[r].length;i<n;i++)T.event.add(t,r,a[r][i]);le.hasData(e)&&(s=le.access(e),o=T.extend({},s),le.set(t,o))}}function Xe(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Te.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Ge(e,t,i,n){t=l(t);var r,s,o,a,c,d,h=0,u=e.length,f=u-1,p=t[0],g=v(p);if(g||u>1&&"string"==typeof p&&!m.checkClone&&Be.test(p))return e.each((function(r){var s=e.eq(r);g&&(t[0]=p.call(this,r,s.html())),Ge(s,t,i,n)}));if(u&&(s=(r=Oe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(a=(o=T.map(Ae(r,"script"),Ue)).length;h<u;h++)c=r,h!==f&&(c=T.clone(c,!0,!0),a&&T.merge(o,Ae(c,"script"))),i.call(e[h],c,h);if(a)for(d=o[o.length-1].ownerDocument,T.map(o,Fe),h=0;h<a;h++)c=o[h],je.test(c.type||"")&&!ae.access(c,"globalEval")&&T.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):w(c.textContent.replace(qe,""),c,d))}return e}function Ke(e,t,i){for(var n,r=t?T.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||T.cleanData(Ae(n)),n.parentNode&&(i&&me(n)&&Le(Ae(n,"script")),n.parentNode.removeChild(n));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=me(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||T.isXMLDoc(e)))for(o=Ae(a),n=0,r=(s=Ae(e)).length;n<r;n++)Xe(s[n],o[n]);if(t)if(i)for(s=s||Ae(e),o=o||Ae(a),n=0,r=s.length;n<r;n++)ze(s[n],o[n]);else ze(e,a);return(o=Ae(a,"script")).length>0&&Le(o,!l&&Ae(e,"script")),a},cleanData:function(e){for(var t,i,n,r=T.event.special,s=0;void 0!==(i=e[s]);s++)if(se(i)){if(t=i[ae.expando]){if(t.events)for(n in t.events)r[n]?T.event.remove(i,n):T.removeEvent(i,n,t.handle);i[ae.expando]=void 0}i[le.expando]&&(i[le.expando]=void 0)}}}),T.fn.extend({detach:function(e){return Ke(this,e,!0)},remove:function(e){return Ke(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ge(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||$e(this,e).appendChild(e)}))},prepend:function(){return Ge(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=$e(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(Ae(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return T.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!Ce[(Se.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(T.cleanData(Ae(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,(function(t){var i=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(Ae(this)),i&&i.replaceChild(t,this))}),e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){T.fn[e]=function(e){for(var i,n=[],r=T(e),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),T(r[o])[t](i),c.apply(n,i.get());return this.pushStack(n)}}));var Ye=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),We=/^--/,Ve=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Je=function(e,t,i){var n,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in n=i.call(e),t)e.style[r]=s[r];return n},Ze=new RegExp(pe.join("|"),"i");function Qe(e,t,i){var n,r,s,o,a=We.test(t),l=e.style;return(i=i||Ve(e))&&(o=i.getPropertyValue(t)||i[t],a&&o&&(o=o.replace(O,"$1")||void 0),""!==o||me(e)||(o=T.style(e,t)),!m.pixelBoxStyles()&&Ye.test(o)&&Ze.test(t)&&(n=l.width,r=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=i.width,l.width=n,l.minWidth=r,l.maxWidth=s)),void 0!==o?o+"":o}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(c).appendChild(d);var e=n.getComputedStyle(d);i="1%"!==e.top,l=12===t(e.marginLeft),d.style.right="60%",o=36===t(e.right),r=36===t(e.width),d.style.position="absolute",s=12===t(d.offsetWidth/3),ge.removeChild(c),d=null}}function t(e){return Math.round(parseFloat(e))}var i,r,s,o,a,l,c=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===d.style.backgroundClip,T.extend(m,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,t,i,r;return null==a&&(e=y.createElement("table"),t=y.createElement("tr"),i=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",ge.appendChild(e).appendChild(t).appendChild(i),r=n.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],it=y.createElement("div").style,nt={};function rt(e){var t=T.cssProps[e]||nt[e];return t||(e in it?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=tt.length;i--;)if((e=tt[i]+t)in it)return e}(e)||e)}var st=/^(none|table(?!-c[ea]).+)/,ot={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,i){var n=fe.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function ct(e,t,i,n,r,s){var o="width"===t?1:0,a=0,l=0,c=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(c+=T.css(e,i+pe[o],!0,r)),n?("content"===i&&(l-=T.css(e,"padding"+pe[o],!0,r)),"margin"!==i&&(l-=T.css(e,"border"+pe[o]+"Width",!0,r))):(l+=T.css(e,"padding"+pe[o],!0,r),"padding"!==i?l+=T.css(e,"border"+pe[o]+"Width",!0,r):a+=T.css(e,"border"+pe[o]+"Width",!0,r));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))||0),l+c}function dt(e,t,i){var n=Ve(e),r=(!m.boxSizingReliable()||i)&&"border-box"===T.css(e,"boxSizing",!1,n),s=r,o=Qe(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(o)){if(!i)return o;o="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&j(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===T.css(e,"display",!1,n))&&e.getClientRects().length&&(r="border-box"===T.css(e,"boxSizing",!1,n),(s=a in e)&&(o=e[a])),(o=parseFloat(o)||0)+ct(e,t,i||(r?"border":"content"),s,n,o)+"px"}function ht(e,t,i,n,r){return new ht.prototype.init(e,t,i,n,r)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Qe(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=re(t),l=We.test(t),c=e.style;if(l||(t=rt(a)),o=T.cssHooks[t]||T.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:c[t];"string"===(s=typeof i)&&(r=fe.exec(i))&&r[1]&&(i=ye(e,t,r),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=r&&r[3]||(T.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var r,s,o,a=re(t);return We.test(t)||(t=rt(a)),(o=T.cssHooks[t]||T.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=Qe(e,t,n)),"normal"===r&&t in at&&(r=at[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),T.each(["height","width"],(function(e,t){T.cssHooks[t]={get:function(e,i,n){if(i)return!st.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?dt(e,t,n):Je(e,ot,(function(){return dt(e,t,n)}))},set:function(e,i,n){var r,s=Ve(e),o=!m.scrollboxSize()&&"absolute"===s.position,a=(o||n)&&"border-box"===T.css(e,"boxSizing",!1,s),l=n?ct(e,t,n,a,s):0;return a&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-ct(e,t,"border",!1,s)-.5)),l&&(r=fe.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=T.css(e,t)),lt(0,i,l)}}})),T.cssHooks.marginLeft=et(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(e,t){T.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+pe[n]+t]=s[n]||s[n-2]||s[0];return r}},"margin"!==e&&(T.cssHooks[e+t].set=lt)})),T.fn.extend({css:function(e,t){return ee(this,(function(e,t,i){var n,r,s={},o=0;if(Array.isArray(t)){for(n=Ve(e),r=t.length;o<r;o++)s[t[o]]=T.css(e,t[o],!1,n);return s}return void 0!==i?T.style(e,t,i):T.css(e,t)}),e,t,arguments.length>1)}}),T.Tween=ht,ht.prototype={constructor:ht,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(T.cssNumber[i]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,i=ht.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||!T.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=ht.prototype.init,T.fx.step={};var ut,ft,pt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function mt(){ft&&(!1===y.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(mt):n.setTimeout(mt,T.fx.interval),T.fx.tick())}function vt(){return n.setTimeout((function(){ut=void 0})),ut=Date.now()}function _t(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=pe[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,i){for(var n,r=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,t,e))return n}function bt(e,t,i){var n,r,s=0,o=bt.prefilters.length,a=T.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=ut||vt(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),s=0,o=c.tweens.length;s<o;s++)c.tweens[s].run(n);return a.notifyWith(e,[c,n,i]),n<1&&o?i:(o||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},i),originalProperties:t,originalOptions:i,startTime:ut||vt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=T.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),d=c.props;for(!function(e,t){var i,n,r,s,o;for(i in e)if(r=t[n=re(i)],s=e[i],Array.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(o=T.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=r);else t[n]=r}(d,c.opts.specialEasing);s<o;s++)if(n=bt.prefilters[s].call(c,e,d,c.opts))return v(n.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return T.map(d,yt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(bt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ye(i.elem,e,fe.exec(t),i),i}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(K);for(var i,n=0,r=e.length;n<r;n++)i=e[n],bt.tweeners[i]=bt.tweeners[i]||[],bt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,s,o,a,l,c,d,h="width"in t||"height"in t,u=this,f={},p=e.style,g=e.nodeType&&_e(e),m=ae.get(e,"fxshow");for(n in i.queue||(null==(o=T._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,u.always((function(){u.always((function(){o.unqueued--,T.queue(e,"fx").length||o.empty.fire()}))}))),t)if(r=t[n],pt.test(r)){if(delete t[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||T.style(e,n)}if((l=!T.isEmptyObject(t))||!T.isEmptyObject(f))for(n in h&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=ae.get(e,"display")),"none"===(d=T.css(e,"display"))&&(c?d=c:(xe([e],!0),c=e.style.display||c,d=T.css(e,"display"),xe([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===T.css(e,"float")&&(l||(u.done((function(){p.display=c})),null==c&&(d=p.display,c="none"===d?"":d)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",u.always((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=ae.access(e,"fxshow",{display:c}),s&&(m.hidden=!g),g&&xe([e],!0),u.done((function(){for(n in g||xe([e]),ae.remove(e,"fxshow"),f)T.style(e,n,f[n])}))),l=yt(g?m[n]:0,n,u),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),T.speed=function(e,t,i){var n=e&&"object"==typeof e?T.extend({},e):{complete:i||!i&&t||v(e)&&e,duration:e,easing:i&&t||t&&!v(t)&&t};return T.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in T.fx.speeds?n.duration=T.fx.speeds[n.duration]:n.duration=T.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&T.dequeue(this,n.queue)},n},T.fn.extend({fadeTo:function(e,t,i,n){return this.filter(_e).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=T.isEmptyObject(e),s=T.speed(t,i,n),o=function(){var t=bt(this,T.extend({},e),s);(r||ae.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",s=T.timers,o=ae.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&gt.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));!t&&i||T.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=ae.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=T.timers,o=n?n.length:0;for(i.finish=!0,T.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),T.each(["toggle","show","hide"],(function(e,t){var i=T.fn[t];T.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(_t(t,!0),e,n,r)}})),T.each({slideDown:_t("show"),slideUp:_t("hide"),slideToggle:_t("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){T.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),T.timers=[],T.fx.tick=function(){var e,t=0,i=T.timers;for(ut=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||T.fx.stop(),ut=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ft||(ft=!0,mt())},T.fx.stop=function(){ft=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var wt,xt=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return ee(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){T.removeAttr(this,e)}))}}),T.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?T.prop(e,t,i):(1===s&&T.isXMLDoc(e)||(r=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?wt:void 0)),void 0!==i?null===i?void T.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=T.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&j(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(K);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),wt={set:function(e,t,i){return!1===t?T.removeAttr(e,i):e.setAttribute(i,i),i}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=xt[t]||T.find.attr;xt[t]=function(e,t,n){var r,s,o=t.toLowerCase();return n||(s=xt[o],xt[o]=r,r=null!=i(e,t,n)?o:null,xt[o]=s),r}}));var kt=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;function Tt(e){return(e.match(K)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function jt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(K)||[]}T.fn.extend({prop:function(e,t){return ee(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[T.propFix[e]||e]}))}}),T.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&T.isXMLDoc(e)||(t=T.propFix[t]||t,r=T.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(e){var t,i,n,r,s,o;return v(e)?this.each((function(t){T(this).addClass(e.call(this,t,St(this)))})):(t=jt(e)).length?this.each((function(){if(n=St(this),i=1===this.nodeType&&" "+Tt(n)+" "){for(s=0;s<t.length;s++)r=t[s],i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=Tt(i),n!==o&&this.setAttribute("class",o)}})):this},removeClass:function(e){var t,i,n,r,s,o;return v(e)?this.each((function(t){T(this).removeClass(e.call(this,t,St(this)))})):arguments.length?(t=jt(e)).length?this.each((function(){if(n=St(this),i=1===this.nodeType&&" "+Tt(n)+" "){for(s=0;s<t.length;s++)for(r=t[s];i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o=Tt(i),n!==o&&this.setAttribute("class",o)}})):this:this.attr("class","")},toggleClass:function(e,t){var i,n,r,s,o=typeof e,a="string"===o||Array.isArray(e);return v(e)?this.each((function(i){T(this).toggleClass(e.call(this,i,St(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(i=jt(e),this.each((function(){if(a)for(s=T(this),r=0;r<i.length;r++)n=i[r],s.hasClass(n)?s.removeClass(n):s.addClass(n);else void 0!==e&&"boolean"!==o||((n=St(this))&&ae.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+Tt(St(i))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;T.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=v(e),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,T(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=T.map(r,(function(e){return null==e?"":e+""}))),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Ct,""):null==i?"":i:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:Tt(T.text(e))}},select:{get:function(e){var t,i,n,r=e.options,s=e.selectedIndex,o="select-one"===e.type,a=o?null:[],l=o?s+1:r.length;for(n=s<0?l:o?s:0;n<l;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!j(i.parentNode,"optgroup"))){if(t=T(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,s=T.makeArray(t),o=r.length;o--;)((n=r[o]).selected=T.inArray(T.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},m.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var At=n.location,Lt={guid:Date.now()},Dt=/\?/;T.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||T.error("Invalid XML: "+(i?T.map(i.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Ot=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,i,r){var s,o,a,l,c,d,h,u,p=[i||y],g=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(o=u=a=i=i||y,3!==i.nodeType&&8!==i.nodeType&&!Ot.test(g+T.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[T.expando]?e:new T.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:T.makeArray(t,[e]),h=T.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,t))){if(!r&&!h.noBubble&&!_(i)){for(l=h.delegateType||g,Ot.test(l+g)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(i.ownerDocument||y)&&p.push(a.defaultView||a.parentWindow||n)}for(s=0;(o=p[s++])&&!e.isPropagationStopped();)u=o,e.type=s>1?l:h.bindType||g,(d=(ae.get(o,"events")||Object.create(null))[e.type]&&ae.get(o,"handle"))&&d.apply(o,t),(d=c&&o[c])&&d.apply&&se(o)&&(e.result=d.apply(o,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!se(i)||c&&v(i[g])&&!_(i)&&((a=i[c])&&(i[c]=null),T.event.triggered=g,e.isPropagationStopped()&&u.addEventListener(g,Nt),i[g](),e.isPropagationStopped()&&u.removeEventListener(g,Nt),T.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(e,t,i){var n=T.extend(new T.Event,i,{type:e,isSimulated:!0});T.event.trigger(n,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each((function(){T.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return T.event.trigger(e,t,i,!0)}});var It=/\[\]$/,Pt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,i,n){var r;if(Array.isArray(t))T.each(t,(function(t,r){i||It.test(e)?n(e,r):Rt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)}));else if(i||"object"!==x(t))n(e,t);else for(r in t)Rt(e+"["+r+"]",t[r],i,n)}T.param=function(e,t){var i,n=[],r=function(e,t){var i=v(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,(function(){r(this.name,this.value)}));else for(i in e)Rt(i,e[i],t,r);return n.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&Ht.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!Te.test(e))})).map((function(e,t){var i=T(this).val();return null==i?null:Array.isArray(i)?T.map(i,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:i.replace(Pt,"\r\n")}})).get()}});var Bt=/%20/g,qt=/#.*$/,$t=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,zt=/^\/\//,Xt={},Gt={},Kt="*/".concat("*"),Yt=y.createElement("a");function Wt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(K)||[];if(v(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Vt(e,t,i,n){var r={},s=e===Gt;function o(a){var l;return r[a]=!0,T.each(e[a]||[],(function(e,a){var c=a(t,i,n);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)})),l}return o(t.dataTypes[0])||!r["*"]&&o("*")}function Jt(e,t){var i,n,r=T.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&T.extend(!0,e,n),e}Yt.href=At.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,T.ajaxSettings),t):Jt(T.ajaxSettings,e)},ajaxPrefilter:Wt(Xt),ajaxTransport:Wt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,s,o,a,l,c,d,h,u,f=T.ajaxSetup({},t),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?T(p):T.event,m=T.Deferred(),v=T.Callbacks("once memory"),_=f.statusCode||{},b={},w={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!o)for(o={};t=Ut.exec(s);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),E(0,t),this}};if(m.promise(k),f.url=((e||f.url||At.href)+"").replace(zt,At.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(K)||[""],null==f.crossDomain){l=y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Yt.protocol+"//"+Yt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=T.param(f.data,f.traditional)),Vt(Xt,f,t,k),c)return k;for(h in(d=T.event&&f.global)&&0==T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ft.test(f.type),r=f.url.replace(qt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Bt,"+")):(u=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Dt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace($t,"$1"),u=(Dt.test(r)?"&":"?")+"_="+Lt.guid+++u),f.url=r+u),f.ifModified&&(T.lastModified[r]&&k.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&k.setRequestHeader("If-None-Match",T.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Kt+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,k,f)||c))return k.abort();if(x="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),i=Vt(Gt,f,t,k)){if(k.readyState=1,d&&g.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(a=n.setTimeout((function(){k.abort("timeout")}),f.timeout));try{c=!1,i.send(b,E)}catch(e){if(c)throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,o,l){var h,u,y,b,w,x=t;c||(c=!0,a&&n.clearTimeout(a),i=void 0,s=l||"",k.readyState=e>0?4:0,h=e>=200&&e<300||304===e,o&&(b=function(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(f,k,o)),!h&&T.inArray("script",f.dataTypes)>-1&&T.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(e,t,i,n){var r,s,o,a,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(s=d.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],d.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,b,k,h),h?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(T.lastModified[r]=w),(w=k.getResponseHeader("etag"))&&(T.etag[r]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=b.state,u=b.data,h=!(y=b.error))):(y=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(t||x)+"",h?m.resolveWith(p,[u,x,k]):m.rejectWith(p,[k,x,y]),k.statusCode(_),_=void 0,d&&g.trigger(h?"ajaxSuccess":"ajaxError",[k,f,h?u:y]),v.fireWith(p,[k,x]),d&&(g.trigger("ajaxComplete",[k,f]),--T.active||T.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,i){return T.get(e,t,i,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],(function(e,t){T[t]=function(e,i,n,r){return v(i)&&(r=r||n,n=i,i=void 0),T.ajax(T.extend({url:e,type:t,dataType:r,data:i,success:n},T.isPlainObject(e)&&e))}})),T.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),T._evalUrl=function(e,t,i){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,i)}})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){T(this).wrapInner(e.call(this,t))})):this.each((function(){var t=T(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(i){T(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},Qt=T.ajaxSettings.xhr();m.cors=!!Qt&&"withCredentials"in Qt,m.ajax=Qt=!!Qt,T.ajaxTransport((function(e){var t,i;if(m.cors||Qt&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),T.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),T.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,r){t=T("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){i&&i()}}}));var ei,ti=[],ii=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||T.expando+"_"+Lt.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",(function(e,t,i){var r,s,o,a=!1!==e.jsonp&&(ii.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ii,"$1"+r):!1!==e.jsonp&&(e.url+=(Dt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||T.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=n[r],n[r]=function(){o=arguments},i.always((function(){void 0===s?T(n).removeProp(r):n[r]=s,e[r]&&(e.jsonpCallback=t.jsonpCallback,ti.push(r)),o&&v(s)&&s(o[0]),o=s=void 0})),"script"})),m.createHTMLDocument=((ei=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ei.childNodes.length),T.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(m.createHTMLDocument?((n=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(n)):t=y),s=!i&&[],(r=q.exec(e))?[t.createElement(r[1])]:(r=Oe([e],t,s),s&&s.length&&T(s).remove(),T.merge([],r.childNodes)));var n,r,s},T.fn.load=function(e,t,i){var n,r,s,o=this,a=e.indexOf(" ");return a>-1&&(n=Tt(e.slice(a)),e=e.slice(0,a)),v(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&T.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){s=arguments,o.html(n?T("<div>").append(T.parseHTML(e)).find(n):e)})).always(i&&function(e,t){o.each((function(){i.apply(this,s||[e.responseText,t,e])}))}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,(function(t){return e===t.elem})).length},T.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,c=T.css(e,"position"),d=T(e),h={};"static"===c&&(e.style.position="relative"),a=d.offset(),s=T.css(e,"top"),l=T.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(o=(n=d.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),v(t)&&(t=t.call(e,i,T.extend({},a))),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):d.css(h)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){T.offset.setOffset(this,e,t)}));var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===T.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),r.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-T.css(n,"marginTop",!0),left:t.left-r.left-T.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||ge}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;T.fn[e]=function(n){return ee(this,(function(e,n,r){var s;if(_(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):e[n]=r}),e,n,arguments.length)}})),T.each(["top","left"],(function(e,t){T.cssHooks[t]=et(m.pixelPosition,(function(e,i){if(i)return i=Qe(e,t),Ye.test(i)?T(e).position()[t]+"px":i}))})),T.each({Height:"height",Width:"width"},(function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){T.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return ee(this,(function(t,i,r){var s;return _(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?T.css(t,i,a):T.style(t,i,r,a)}),t,o?r:void 0,o)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){T.fn[t]=function(e){return this.on(t,e)}})),T.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){T.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var ni=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),v(e))return n=a.call(arguments,2),r=function(){return e.apply(t||this,n.concat(a.call(arguments)))},r.guid=e.guid=e.guid||T.guid++,r},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=j,T.isFunction=v,T.isWindow=_,T.camelCase=re,T.type=x,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},T.trim=function(e){return null==e?"":(e+"").replace(ni,"$1")},void 0===(i=function(){return T}.apply(t,[]))||(e.exports=i);var ri=n.jQuery,si=n.$;return T.noConflict=function(e){return n.$===T&&(n.$=si),e&&n.jQuery===T&&(n.jQuery=ri),T},void 0===r&&(n.jQuery=n.$=T),T}))},7568:(e,t,i)=>{var n,r,s;!function(o){"use strict";r=[i(9755)],n=function(e,t){if(e.jstree)return;var i=0,n=!1,r=!1,s=!1,o=[],a=e("script:last").attr("src"),l=window.document,c=window.setImmediate,d=window.Promise;!c&&d&&(c=function(e,t){d.resolve(t).then(e)});e.jstree={version:"3.3.16",defaults:{plugins:[]},plugins:{},path:a&&-1!==a.indexOf("/")?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,n){var r=new e.jstree.core(++i),s=n;return n=e.extend(!0,{},e.jstree.defaults,n),s&&s.plugins&&(n.plugins=s.plugins),e.each(n.plugins,(function(e,t){"core"!==e&&(r=r.plugin(t,n[t]))})),e(t).data("jstree",r),r.init(t,n),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var i=null,n=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!n||!n.length)try{n=e(t)}catch(e){}if(!n||!n.length)try{n=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return n&&n.length&&(n=n.closest(".jstree")).length&&(n=n.data("jstree"))?i=n:e(".jstree").each((function(){var n=e(this).data("jstree");if(n&&n._model.data[t])return i=n,!1})),i},e.fn.jstree=function(i){var n="string"==typeof i,r=Array.prototype.slice.call(arguments,1),s=null;return!(!0===i&&!this.length)&&(this.each((function(){var o=e.jstree.reference(this),a=n&&o?o[i]:null;if(s=n&&a?a.apply(o,r):null,o||n||i!==t&&!e.isPlainObject(i)||e.jstree.create(this,i),(o&&!n||!0===i)&&(s=o||!1),null!==s&&s!==t)return!1})),null!==s&&s!==t?s:this)},e.expr.pseudos.jstree=e.expr.createPseudo((function(i){return function(i){return e(i).hasClass("jstree")&&e(i).data("jstree")!==t}})),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var i=this.get_parent(t.currentTarget);i&&i.id!==e.jstree.root&&this.get_node(i,!0).children(".jstree-anchor").trigger("focus")}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").trigger("focus")},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,(function(e){this.get_node(e,!0).children(".jstree-anchor").trigger("focus")}));else if(this.is_open(t.currentTarget)){var i=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];i&&e(this._firstChild(i)).children(".jstree-anchor").trigger("focus")}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").trigger("focus")},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var i=this._firstChild(this.get_container_ul()[0]);i&&e(i).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}},allow_reselect:!1},e.jstree.core.prototype={plugin:function(t,i){var n=e.jstree.plugins[t];return n?(this._data[t]={},n.prototype=this,new n(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=i,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter((function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))})).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,i=l.createElement("LI");return i.setAttribute("role","none"),(e=l.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),i.appendChild(e),(e=l.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),e.setAttribute("role","treeitem"),(t=l.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),i.appendChild(e),e=t=null,i},_kbevent_to_func:function(e){var t={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},i=[];if(e.ctrlKey&&i.push("ctrl"),e.altKey&&i.push("alt"),e.shiftKey&&i.push("shift"),i.push(t[e.which]?t[e.which].toLowerCase():e.which),"shift-shift"===(i=i.sort().join("-").toLowerCase())||"ctrl-ctrl"===i||"alt-alt"===i)return null;var n,r,s=this.settings.core.keyboard;for(n in s)if(s.hasOwnProperty(n)&&("-"!==(r=n)&&"+"!==r&&(r=(r=r.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),r===i))return s[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",(function(){return this.className.replace(/jstree[^ ]*|$/gi,"")})),this.element=null},bind:function(){var t="",i=null,n=0;this.element.on("dblclick.jstree",(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}})).on("mousedown.jstree",function(e){e.target===this.element[0]&&(e.preventDefault(),n=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",(function(e){e.preventDefault()})).on("click.jstree",".jstree-ocl",function(e){this.toggle_node(e.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).trigger("focus"),this.activate_node(t.currentTarget,t)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var i=t.call(this,e);if(!1===i||!0===i)return i}}.bind(this)).on("load_node.jstree",function(t,i){i.status&&(i.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,i,n=[];for(t=0,i=this._data.core.selected.length;t<i;t++)n=n.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,i=(n=e.vakata.array_unique(n)).length;t<i;t++)this.open_node(n[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;i&&clearTimeout(i),i=setTimeout((function(){t=""}),500);var r=String.fromCharCode(n.which).toLowerCase(),s=this.element.find(".jstree-anchor").filter(":visible"),o=s.index(l.activeElement)||0,a=!1;if((t+=r).length>1){if(s.slice(o).each(function(i,n){if(0===e(n).text().toLowerCase().indexOf(t))return e(n).trigger("focus"),a=!0,!1}.bind(this)),a)return;if(s.slice(0,o).each(function(i,n){if(0===e(n).text().toLowerCase().indexOf(t))return e(n).trigger("focus"),a=!0,!1}.bind(this)),a)return}if(new RegExp("^"+r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(s.slice(o+1).each(function(t,i){if(e(i).text().toLowerCase().charAt(0)===r)return e(i).trigger("focus"),a=!0,!1}.bind(this)),a)return;if(s.slice(0,o+1).each(function(t,i){if(e(i).text().toLowerCase().charAt(0)===r)return e(i).trigger("focus"),a=!0,!1}.bind(this)),a)return}}.bind(this)).on("init.jstree",function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),e(t.currentTarget).attr("tabindex","-1")}.bind(this)).on("focus.jstree",".jstree-anchor",function(t){var i=this.get_node(t.currentTarget);i&&(i.id||0===i.id)&&(this._data.core.focused=i.id),this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave"),e(t.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),e(t.currentTarget).attr("tabindex","0")}.bind(this)).on("focus.jstree",function(){if(+new Date-n>500&&!this._data.core.focused&&this.settings.core.restore_focus){n=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").trigger("focus")}}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(e){this.hover_node(e.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(e){this.dehover_node(e.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return e.vakata.is_function(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,i){var n;t&&(t.id||0===t.id)&&(t=t.id),t instanceof e&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(n=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])t=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=this.element.find(t)).length&&this._model.data[n.closest(".jstree-node").attr("id")])t=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=this.element.find(t)).length||!n.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return i&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,i,n){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var r,s,o=[];for(o.push(n?t.id:t.text),r=0,s=t.parents.length;r<s;r++)o.push(n?t.parents[r]:this.get_text(t.parents[r]));return o=o.reverse().slice(1),i?o.join(i):o},get_next_dom:function(t,i){var n;if((t=this.get_node(t,!0))[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return!!n&&e(n)}if(!t||!t.length)return!1;if(i){n=t[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return!!n&&e(n)}if(t.hasClass("jstree-open")){for(n=this._firstChild(t.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return e(n)}n=t[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return null!==n?e(n):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var n;if((t=this.get_node(t,!0))[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return!!n&&e(n)}if(!t||!t.length)return!1;if(i){n=t[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);return!!n&&e(n)}n=t[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);if(null!==n){for(t=e(n);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(n=t[0].parentNode.parentNode)||!n.className||-1===n.className.indexOf("jstree-node"))&&e(n)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,i){var n,r,s,o,a,l=this.get_node(t,!0);if(e.vakata.is_array(t))return this._load_nodes(t.slice(),i),!0;if(!(t=this.get_node(t)))return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,s=0,o=t.parents.length;s<o;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,(function(i){return-1===e.inArray(i,t.children_d)}));for(n=0,r=t.children_d.length;n<r;n++)this._model.data[t.children_d[n]].state.selected&&(a=!0),delete this._model.data[t.children_d[n]];a&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(i){return-1===e.inArray(i,t.children_d)}))),t.children=[],t.children_d=[],a&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,t.id!==e.jstree.root?l.children(".jstree-anchor").attr("aria-busy",!0):l.attr("aria-busy",!0),l.addClass("jstree-loading"),this._load_node(t,function(n){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=n,t.state.failed=!t.state.loaded;var r=this.get_node(t,!0),s=0,o=0,a=this._model.data,l=!1;for(s=0,o=t.children.length;s<o;s++)if(a[t.children[s]]&&!a[t.children[s]].state.hidden){l=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),l?"#"!==t.id&&r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),t.id!==e.jstree.root?r.children(".jstree-anchor").attr("aria-busy",!1):r.attr("aria-busy",!1),r.removeClass("jstree-loading"),this.trigger("load_node",{node:t,status:n}),i&&i.call(this,t,n)}.bind(this)),!0},_load_nodes:function(e,t,i,n){var r,s,o=!0,a=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(r=0,s=e.length;r<s;r++)l[e[r]]&&(!l[e[r]].state.loaded&&!l[e[r]].state.failed||!i&&n)&&(this.is_loading(e[r])||this.load_node(e[r],a),o=!1);if(o){for(r=0,s=e.length;r<s;r++)l[e[r]]&&l[e[r]].state.loaded&&c.push(e[r]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var n,r,s=[],o=this._model.data,a=o[t.id].children_d;for(t.state&&!t.state.loaded&&s.push(t.id),n=0,r=a.length;n<r;n++)o[a[n]]&&o[a[n]].state&&!o[a[n]].state.loaded&&s.push(a[n]);s.length?this._load_nodes(s,(function(){this.load_all(t,i)})):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var n,r=this.settings.core.data,s=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?e.vakata.is_function(r)?r.call(this,t,function(n){!1===n?i.call(this,!1):this["string"==typeof n?"_append_html_data":"_append_json_data"](t,"string"==typeof n?e(e.parseHTML(n)).filter(s):n,(function(e){i.call(this,e)}))}.bind(this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.vakata.is_function(r.url)&&(r.url=r.url.call(this,t)),e.vakata.is_function(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(function(n,r,o){var a=o.getResponseHeader("Content-Type");return a&&-1!==a.indexOf("json")||"object"==typeof n?this._append_json_data(t,n,(function(e){i.call(this,e)})):a&&-1!==a.indexOf("html")||"string"==typeof n?this._append_html_data(t,e(e.parseHTML(n)).filter(s),(function(e){i.call(this,e)})):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))}.bind(this)).fail(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},i.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(n=e.vakata.is_array(r)?e.extend(!0,[],r):e.isPlainObject(r)?e.extend(!0,{},r):r,t.id===e.jstree.root?this._append_json_data(t,n,(function(e){i.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof r?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(r)).filter(s),(function(e){i.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),(function(e){i.call(this,e)})):i.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,i,n){(t=this.get_node(t)).children=[],t.children_d=[];var r,s,o,a=i.is("ul")?i.children():i,l=t.id,c=[],d=[],h=this._model.data,u=h[l],f=this._data.core.selected.length;for(a.each(function(t,i){(r=this._parse_model_from_html(e(i),l,u.parents.concat()))&&(c.push(r),d.push(r),h[r].children_d.length&&(d=d.concat(h[r].children_d)))}.bind(this)),u.children=c,u.children_d=d,s=0,o=u.parents.length;s<o;s++)h[u.parents[s]].children_d=h[u.parents[s]].children_d.concat(d);this.trigger("model",{nodes:d,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(t,i,n,r){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],i.d&&"string"==typeof(i=i.d)&&(i=JSON.parse(i)),e.vakata.is_array(i)||(i=[i]);var s=null,o={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=this,l=function(e,t){e.data&&(e=e.data);var i,n,r,s,o=e.dat,l=e.par,c=[],d=[],h=[],u=e.df,f=e.t_id,p=e.t_cnt,g=e.m,m=g[l],v=e.sel,_=function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var r,s,o,a,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in u)u.hasOwnProperty(r)&&(c.state[r]=u[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(c.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(c.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(c.li_attr[r]=e.li_attr[r]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(c.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),g[c.id]=c,r=0,s=c.children.length;r<s;r++)o=_(g[c.children[r]],c.id,n),a=g[o],c.children_d.push(o),a.children_d.length&&(c.children_d=c.children_d.concat(a.children_d));return delete e.data,delete e.children,g[c.id].original=e,c.state.selected&&h.push(c.id),c.id},y=function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var r,s,o,a,l,c=!1;do{c="j"+f+"_"+ ++p}while(g[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(r)&&(l.state[r]=u[r]);if(e&&(e.id||0===e.id)&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&0!==l.id&&(l.id=l.li_attr.id.toString()),l.id||0===l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,s=e.children.length;r<s;r++)o=y(e.children[r],l.id,n),a=g[o],l.children.push(o),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,g[l.id]=l,l.state.selected&&h.push(l.id),l.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(n=0,r=o.length;n<r;n++)o[n].children||(o[n].children=[]),o[n].state||(o[n].state={}),g[o[n].id.toString()]=o[n];for(n=0,r=o.length;n<r;n++)g[o[n].parent.toString()]?(g[o[n].parent.toString()].children.push(o[n].id.toString()),m.children_d.push(o[n].id.toString())):void 0!==a&&(a._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:o[n].id.toString(),parent:o[n].parent.toString()})},a.settings.core.error.call(a,a._data.core.last_error));for(n=0,r=m.children.length;n<r;n++)i=_(g[m.children[n]],l,m.parents.concat()),d.push(i),g[i].children_d.length&&(d=d.concat(g[i].children_d));for(n=0,r=m.parents.length;n<r;n++)g[m.parents[n]].children_d=g[m.parents[n]].children_d.concat(d);s={cnt:p,mod:g,sel:v,par:l,dpc:d,add:h}}else{for(n=0,r=o.length;n<r;n++)(i=y(o[n],l,m.parents.concat()))&&(c.push(i),d.push(i),g[i].children_d.length&&(d=d.concat(g[i].children_d)));for(m.children=c,m.children_d=d,n=0,r=m.parents.length;n<r;n++)g[m.parents[n]].children_d=g[m.parents[n]].children_d.concat(d);s={cnt:p,mod:g,sel:v,par:l,dpc:d,add:h}}if("undefined"!=typeof window&&void 0!==window.document)return s;postMessage(s)},d=function(t,i){if(null!==this.element){this._cnt=t.cnt;var r,s=this._model.data;for(r in s)s.hasOwnProperty(r)&&s[r].state&&s[r].state.loading&&t.mod[r]&&(t.mod[r].state.loading=!0);if(this._model.data=t.mod,i){var o,l=t.add,d=t.sel,h=this._data.core.selected.slice();if(s=this._model.data,d.length!==h.length||e.vakata.array_unique(d.concat(h)).length!==d.length){for(r=0,o=d.length;r<o;r++)-1===e.inArray(d[r],l)&&-1===e.inArray(d[r],h)&&(s[d[r]].state.selected=!1);for(r=0,o=h.length;r<o;r++)-1===e.inArray(h[r],d)&&(s[h[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!i&&c?c((function(){n.call(a,!0)})):n.call(a,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||r?(this._data.core.working=!0,(s=new window.Worker(this._wrk)).onmessage=function(e){d.call(this,e.data,!0);try{s.terminate(),s=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),s.onerror=function(e){d.call(this,l(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),o.par?s.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,n,!0])}catch(e){d.call(this,l(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else d.call(this,l(o),!1)}},_parse_model_from_html:function(i,n,r){r=r?[].concat(r):[],n&&r.unshift(n);var s,o,a,l,c,d=this._model.data,h={id:!1,text:!1,icon:!0,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in this._model.default_state)this._model.default_state.hasOwnProperty(a)&&(h.state[a]=this._model.default_state[a]);if(l=e.vakata.attributes(i,!0),e.each(l,(function(t,i){if(!(i=e.vakata.trim(i)).length)return!0;h.li_attr[t]=i,"id"===t&&(h.id=i.toString())})),(l=i.children("a").first()).length&&(l=e.vakata.attributes(l,!0),e.each(l,(function(t,i){(i=e.vakata.trim(i)).length&&(h.a_attr[t]=i)}))),(l=i.children("a").first().length?i.children("a").first().clone():i.clone()).children("ins, i, ul").remove(),l=l.html(),l=e("<div></div>").html(l),h.text=this.settings.core.force_text?l.text():l.html(),l=i.data(),h.data=l?e.extend(!0,{},l):null,h.state.opened=i.hasClass("jstree-open"),h.state.selected=i.children("a").hasClass("jstree-clicked"),h.state.disabled=i.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(a in h.data.jstree)h.data.jstree.hasOwnProperty(a)&&(h.state[a]=h.data.jstree[a]);(l=i.children("a").children(".jstree-themeicon")).length&&(h.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),l=i.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);return h.id=h.li_attr.id?h.li_attr.id.toString():c,l.length?(l.each(function(t,i){s=this._parse_model_from_html(e(i),h.id,r),o=this._model.data[s],h.children.push(s),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d))}.bind(this)),h.children_d=h.children_d.concat(h.children)):i.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),d[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var r,s,o,a,l=e.id.toString(),c=this._model.data,d=this._model.default_state,h={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(h.state[r]=d[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(h.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(h.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(h.li_attr[r]=e.li_attr[r]);if(h.li_attr.id||(h.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(h.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),c[h.id]=h,r=0,s=h.children.length;r<s;r++)a=c[o=this._parse_model_from_flat_json(c[h.children[r]],h.id,n)],h.children_d.push(o),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d));return delete e.data,delete e.children,c[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,i,n){n=n?n.concat():[],i&&n.unshift(i);var r,s,o,a,l,c=!1,d=this._model.data,h=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(r)&&(l.state[r]=h[r]);if(e&&(e.id||0===e.id)&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&0!==l.id&&(l.id=l.li_attr.id.toString()),l.id||0===l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,s=e.children.length;r<s;r++)a=d[o=this._parse_model_from_json(e.children[r],l.id,n)],l.children.push(o),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children.concat(l.children_d)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,d[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,i,n,r=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),s=l.createElement("UL"),o=this._data.core.focused;for(i=0,n=r.length;i<n;i++)(t=this.redraw_node(r[i],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&s.appendChild(t);this._model.force_full_redraw&&(s.className=this.get_container_ul()[0].className,s.setAttribute("role","presentation"),this.element.empty().append(s)),null!==o&&this.settings.core.restore_focus&&((t=this.get_node(o,!0))&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:r})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var i=this.get_node(t),n=!1,r=!1,s=!1,o=l;if(!i)return!1;if(i.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],i.children.length&&i.state.loaded){for((s=o.createElement("UL")).setAttribute("role","group"),s.className="jstree-children",n=0,r=i.children.length;n<r;n++)s.appendChild(this.redraw_node(i.children[n],!0,!0));t.appendChild(s)}},redraw_node:function(t,i,n,r){var s=this.get_node(t),o=!1,a=!1,c=!1,d=!1,h=!1,u=!1,f="",p=l,g=this._model.data,m=!1,v=null,_=0,y=0,b=!1,w=!1;if(!s)return!1;if(s.id===e.jstree.root)return this.redraw(!0);if(i=i||0===s.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(s.id[0])?"\\3"+s.id[0]+" "+s.id.substr(1).replace(e.jstree.idregex,"\\$&"):s.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(s.id))t=e(t),n||((o=t.parent().parent()[0])===this.element[0]&&(o=null),a=t.index()),i||!s.children.length||t.children(".jstree-children").length||(i=!0),i||(c=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(i=!0,!n){if(!(null===(o=s.parent!==e.jstree.root?e("#"+s.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||o&&g[s.parent].state.opened))return!1;a=e.inArray(s.id,null===o?g[e.jstree.root].children:g[s.parent].children)}for(d in t=this._data.core.node.cloneNode(!0),f="jstree-node ",s.li_attr)if(s.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,s.li_attr[d]):f+=s.li_attr[d]}for(s.a_attr.id||(s.a_attr.id=s.id+"_anchor"),t.childNodes[1].setAttribute("aria-selected",!!s.state.selected),t.childNodes[1].setAttribute("aria-level",s.parents.length),this.settings.core.compute_elements_positions&&(t.childNodes[1].setAttribute("aria-setsize",g[s.parent].children.length),t.childNodes[1].setAttribute("aria-posinset",g[s.parent].children.indexOf(s.id)+1)),s.state.disabled&&t.childNodes[1].setAttribute("aria-disabled",!0),d=0,h=s.children.length;d<h;d++)if(!g[s.children[d]].state.hidden){b=!0;break}if(null!==s.parent&&g[s.parent]&&!s.state.hidden&&(d=e.inArray(s.id,g[s.parent].children),w=s.id,-1!==d))for(d++,h=g[s.parent].children.length;d<h&&(g[g[s.parent].children[d]].state.hidden||(w=g[s.parent].children[d]),w===s.id);d++);for(h in s.state.hidden&&(f+=" jstree-hidden"),s.state.loading&&(f+=" jstree-loading"),s.state.loaded&&!b?f+=" jstree-leaf":(f+=s.state.opened&&s.state.loaded?" jstree-open":" jstree-closed",t.childNodes[1].setAttribute("aria-expanded",s.state.opened&&s.state.loaded)),w===s.id&&(f+=" jstree-last"),t.id=s.id,t.className=f,f=(s.state.selected?" jstree-clicked":"")+(s.state.disabled?" jstree-disabled":""),s.a_attr)if(s.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===s.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,s.a_attr[h]):f+=" "+s.a_attr[h]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(s.icon&&!0!==s.icon||!1===s.icon)&&(!1===s.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===s.icon.indexOf("/")&&-1===s.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+s.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+s.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(s.text)):t.childNodes[1].innerHTML+=s.text,i&&s.children.length&&(s.state.opened||r)&&s.state.loaded){for((u=p.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",d=0,h=s.children.length;d<h;d++)u.appendChild(this.redraw_node(s.children[d],i,!0));t.appendChild(u)}if(c&&t.appendChild(c),!n){for(o||(o=this.element[0]),d=0,h=o.childNodes.length;d<h;d++)if(o.childNodes[d]&&o.childNodes[d].className&&-1!==o.childNodes[d].className.indexOf("jstree-children")){v=o.childNodes[d];break}v||((v=p.createElement("UL")).setAttribute("role","group"),v.className="jstree-children",o.appendChild(v)),a<(o=v).childNodes.length?o.insertBefore(t,o.childNodes[a]):o.appendChild(t),m&&(_=this.element[0].scrollTop,y=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=_,this.element[0].scrollLeft=y)}return s.state.opened&&!s.state.loaded&&(s.state.opened=!1,setTimeout(function(){this.open_node(s.id,!1,0)}.bind(this),0)),t},open_node:function(i,n,r){var s,o,a,l;if(e.vakata.is_array(i)){for(s=0,o=(i=i.slice()).length;s<o;s++)this.open_node(i[s],n,r);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(r=r===t?this.settings.core.animation:r,this.is_closed(i)?this.is_loaded(i)?(a=this.get_node(i,!0),l=this,a.length&&(r&&a.children(".jstree-children").length&&a.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(a.children(".jstree-children")[0])&&this.draw_children(i),r?(this.trigger("before_open",{node:i}),a.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(r,(function(){this.style.display="",l.element&&l.trigger("after_open",{node:i})}))):(this.trigger("before_open",{node:i}),a[0].className=a[0].className.replace("jstree-closed","jstree-open"),a[0].childNodes[1].setAttribute("aria-expanded",!0))),i.state.opened=!0,n&&n.call(this,i,!0),a.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),r&&a.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(function(){this.open_node(i,n,r)}.bind(this),500):void this.load_node(i,(function(e,t){return t?this.open_node(e,n,r):!!n&&n.call(this,e,!1)})):(n&&n.call(this,i,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i,n,r=t.parents;for(i=0,n=r.length;i<n;i+=1)i!==e.jstree.root&&this.open_node(r[i],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(i,n){var r,s,o,a;if(e.vakata.is_array(i)){for(r=0,s=(i=i.slice()).length;r<s;r++)this.close_node(i[r],n);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(!this.is_closed(i)&&(n=n===t?this.settings.core.animation:n,o=this,a=this.get_node(i,!0),i.state.opened=!1,this.trigger("close_node",{node:i}),void(a.length?n?a.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(n,(function(){this.style.display="",a.children(".jstree-children").remove(),o.element&&o.trigger("after_close",{node:i})})):(a[0].className=a[0].className.replace("jstree-open","jstree-closed"),a.children(".jstree-anchor").attr("aria-expanded",!1),a.children(".jstree-children").remove(),this.trigger("after_close",{node:i})):this.trigger("after_close",{node:i}))))},toggle_node:function(t){var i,n;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,s,o,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!a.length){for(r=0,s=t.children_d.length;r<s;r++)this.is_closed(this._model.data[t.children_d[r]])&&(this._model.data[t.children_d[r]].state.opened=!0);return this.trigger("open_all",{node:t})}n=n||a,o=this,(a=this.is_closed(t)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each((function(){o.open_node(this,(function(e,t){t&&this.is_parent(e)&&this.open_all(e,i,n)}),i||0)})),0===n.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(n)})},close_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var n,r,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),o=this;for(s.length&&(s=this.is_open(t)?s.find(".jstree-open").addBack():s.find(".jstree-open"),e(s.get().reverse()).each((function(){o.close_node(this,i||0)}))),n=0,r=t.children_d.length;n<r;n++)this._model.data[t.children_d[n]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var i,n;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.enable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var i,n;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.disable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,i){var n,r;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.hide_node(t[n],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,i){var n,r;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.show_node(t[n],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var i,n=this._model.data,r=[];for(i in n)n.hasOwnProperty(i)&&i!==e.jstree.root&&!n[i].state.hidden&&(n[i].state.hidden=!0,r.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(t){var i,n=this._model.data,r=[];for(i in n)n.hasOwnProperty(i)&&i!==e.jstree.root&&n[i].state.hidden&&(n[i].state.hidden=!1,r.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,i){if(this.is_disabled(e))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(i.shiftKey){var n,r,s=this.get_node(e).id,o=this._data.core.last_clicked.id,a=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(n=0,r=a.length;n<r;n+=1)a[n]===s&&(l=!l),a[n]===o&&(l=!l),this.is_disabled(a[n])||!l&&a[n]!==s&&a[n]!==o?i.ctrlKey||this.deselect_node(a[n],!0,i):this.is_hidden(a[n])||this.select_node(a[n],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:i})}else this.is_selected(e)?this.deselect_node(e,!1,i):(i.ctrlKey&&(this._data.core.last_clicked=this.get_node(e)),this.select_node(e,!1,!1,i));else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,i):(!this.settings.core.allow_reselect&&this.is_selected(e)&&1===this._data.core.selected.length||(this.deselect_all(!0),this.select_node(e,!1,!1,i)),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:i})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout((function(){i.attr("aria-activedescendant",e[0].id)}),0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,i,n,r){var s,o,a;if(e.vakata.is_array(t)){for(o=0,a=(t=t.slice()).length;o<a;o++)this.select_node(t[o],i,n,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),n||(s=this._open_to(t)),s&&s.length&&s.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r}))},deselect_node:function(t,i,n){var r,s,o;if(e.vakata.is_array(t)){for(r=0,s=(t=t.slice()).length;r<s;r++)this.deselect_node(t[r],i,n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:n}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:n}))},select_all:function(t){var i,n,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),i=0,n=this._data.core.selected.length;i<n;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){var t,i,n=this._data.core.selected.concat([]);for(t=0,i=this._data.core.selected.length;t<i;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:n}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:n})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,function(e){return this.get_node(e)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(t){var i,n,r,s,o=this.get_selected(!0),a={};for(i=0,n=o.length;i<n;i++)a[o[i].id]=o[i];for(i=0,n=o.length;i<n;i++)for(r=0,s=o[i].children_d.length;r<s;r++)a[o[i].children_d[r]]&&delete a[o[i].children_d[r]];for(i in o=[],a)a.hasOwnProperty(i)&&o.push(i);return t?e.map(o,function(e){return this.get_node(e)}.bind(this)):o},get_bottom_selected:function(t){var i,n,r=this.get_selected(!0),s=[];for(i=0,n=r.length;i<n;i++)r[i].children.length||s.push(r[i].id);return t?e.map(s,function(e){return this.get_node(e)}.bind(this)):s},get_state:function(){var t,i={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&i.core.loaded.push(t),this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,n){if(i){if(i.core&&i.core.selected&&i.core.initial_selection===t&&(i.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),i.core){var r,s;if(i.core.loaded)return this.settings.core.loaded_state&&e.vakata.is_array(i.core.loaded)&&i.core.loaded.length?this._load_nodes(i.core.loaded,(function(e){delete i.core.loaded,this.set_state(i,n)})):(delete i.core.loaded,this.set_state(i,n)),!1;if(i.core.open)return e.vakata.is_array(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,(function(e){this.open_node(e,!1,0),delete i.core.open,this.set_state(i,n)})):(delete i.core.open,this.set_state(i,n)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,n),!1;if(i.core.selected)return r=this,i.core.initial_selection!==t&&i.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(i.core.selected,(function(e,t){r.select_node(t,!1,!0)}))),delete i.core.initial_selection,delete i.core.selected,this.set_state(i,n),!1;for(s in i)i.hasOwnProperty(s)&&"core"!==s&&-1===e.inArray(s,this.settings.plugins)&&delete i[s];if(e.isEmptyObject(i.core))return delete i.core,this.set_state(i,n),!1}return!e.isEmptyObject(i)||(i=null,n&&n.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,i){this._data.core.state=!0===i?{}:this.get_state(),i&&e.vakata.is_function(i)&&(this._data.core.state=i.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var n=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,(function(t,i){i&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),(function(){this.trigger("refresh")}))),this._data.core.state=null}))},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i=[],n=[],r=this._data.core.selected.concat([]);n.push(t.id),!0===t.state.opened&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each((function(){n.push(this.id),i.push(this.id)})),this._load_nodes(n,function(e){this.open_node(i,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})}.bind(this),!1,!0)},set_id:function(t,i){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,r,s=this._model.data,o=t.id;for(i=i.toString(),s[t.parent].children[e.inArray(t.id,s[t.parent].children)]=i,n=0,r=t.parents.length;n<r;n++)s[t.parents[n]].children_d[e.inArray(t.id,s[t.parents[n]].children_d)]=i;for(n=0,r=t.children.length;n<r;n++)s[t.children[n]].parent=i;for(n=0,r=t.children_d.length;n<r;n++)s[t.children_d[n]].parents[e.inArray(t.id,s[t.children_d[n]].parents)]=i;return-1!==(n=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[n]=i),(n=this.get_node(t.id,!0))&&(n.attr("id",i),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete s[t.id],t.id=i,t.li_attr.id=i,s[i]=t,this.trigger("set_id",{node:t,new:t.id,old:o}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,i){var n,r;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.set_text(t[n],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0)},get_json:function(t,i,n){if(!(t=this.get_node(t||e.jstree.root)))return!1;i&&i.flat&&!n&&(n=[]);var r,s,o={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!i||!i.no_data)&&e.extend(!0,e.vakata.is_array(t.data)?[]:{},t.data)};if(i&&i.flat?o.parent=t.parent:o.children=[],i&&i.no_state)delete o.state;else for(r in t.state)t.state.hasOwnProperty(r)&&(o.state[r]=t.state[r]);if(i&&i.no_li_attr&&delete o.li_attr,i&&i.no_a_attr&&delete o.a_attr,i&&i.no_id&&(delete o.id,o.li_attr&&o.li_attr.id&&delete o.li_attr.id,o.a_attr&&o.a_attr.id&&delete o.a_attr.id),i&&i.flat&&t.id!==e.jstree.root&&n.push(o),!i||!i.no_children)for(r=0,s=t.children.length;r<s;r++)i&&i.flat?this.get_json(t.children[r],i,n):o.children.push(this.get_json(t.children[r],i));return i&&i.flat?n:t.id===e.jstree.root?o.children:o},create_node:function(i,n,r,s,o){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return!1;if(!(r=r===t?"last":r).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i))return this.load_node(i,(function(){this.create_node(i,n,r,s,!0)}));var a,l,c,d;switch(n||(n={text:this.get_string("New node")}),(n="string"==typeof n?{text:n}:e.extend(!0,{},n)).text===t&&(n.text=this.get_string("New node")),i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":a=this.get_node(i.parent),r=e.inArray(i.id,a.children),i=a;break;case"after":a=this.get_node(i.parent),r=e.inArray(i.id,a.children)+1,i=a;break;case"inside":case"first":r=0;break;case"last":r=i.children.length;break;default:r||(r=0)}if(r>i.children.length&&(r=i.children.length),n.id===t&&(n.id=!0),!this.check("create_node",n,i,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===n.id&&delete n.id,!(n=this._parse_model_from_json(n,i.id,i.parents.concat())))return!1;for(a=this.get_node(n),(l=[]).push(n),l=l.concat(a.children_d),this.trigger("model",{nodes:l,parent:i.id}),i.children_d=i.children_d.concat(l),c=0,d=i.parents.length;c<d;c++)this._model.data[i.parents[c]].children_d=this._model.data[i.parents[c]].children_d.concat(l);for(n=a,a=[],c=0,d=i.children.length;c<d;c++)a[c>=r?c+1:c]=i.children[c];return a[r]=n.id,i.children=a,this.redraw_node(i,!0),this.trigger("create_node",{node:this.get_node(n),parent:i.id,position:r}),s&&s.call(this,this.get_node(n)),n.id},rename_node:function(t,i){var n,r,s;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.rename_node(t[n],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(s=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:s}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var i,n,r,s,o,a,l,c,d,h,u,f;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.delete_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(r=this.get_node(t.parent),s=e.inArray(t.id,r.children),h=!1,!this.check("delete_node",t,r,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==s&&(r.children=e.vakata.array_remove(r.children,s)),(o=t.children_d.concat([])).push(t.id),a=0,l=t.parents.length;a<l;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,(function(t){return-1===e.inArray(t,o)}));for(c=0,d=o.length;c<d;c++)if(this._model.data[o[c]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(t){return-1===e.inArray(t,o)}))),this.trigger("delete_node",{node:t,parent:r.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),c=0,d=o.length;c<d;c++)delete this._model.data[o[c]];return-1!==e.inArray(this._data.core.focused,o)&&(this._data.core.focused=null,u=this.element[0].scrollTop,f=this.element[0].scrollLeft,r.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(r,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=u,this.element[0].scrollLeft=f),this.redraw_node(r,!0),!0},check:function(t,i,n,r,s){i=i&&i.id?i:this.get_node(i),n=n&&n.id?n:this.get_node(n);var o=t.match(/^(move_node|copy_node|create_node)$/i)?n:i,a=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(s&&s.is_multi||"move_node"!==t||e.inArray(i.id,n.children)!==r))return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})},!1;if(!(s&&s.is_multi||i.id!==n.id&&("move_node"!==t||e.inArray(i.id,n.children)!==r)&&-1===e.inArray(n.id,i.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})},!1}return o&&o.data&&(o=o.data),o&&o.functions&&(!1===o.functions[t]||!0===o.functions[t])?(!1===o.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})}),o.functions[t]):!(!1===a||e.vakata.is_function(a)&&!1===a.call(this,t,i,n,r,s)||a&&!1===a[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,n,r,s,o,a,l){var c,d,h,u,f,p,g,m,v,_,y,b,w,x;if(n=this.get_node(n),r=r===t?0:r,!n)return!1;if(!r.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return this.load_node(n,(function(){this.move_node(i,n,r,s,!0,!1,l)}));if(e.vakata.is_array(i)){if(1!==i.length){for(c=0,d=i.length;c<d;c++)(v=this.move_node(i[c],n,r,s,o,!1,l))&&(n=v,r="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===e.jstree.root)return!1;if(h=(i.parent||e.jstree.root).toString(),f=r.toString().match(/^(before|after)$/)&&n.id!==e.jstree.root?this.get_node(n.parent):n,g=!(p=l||(this._model.data[i.id]?this:e.jstree.reference(i.id)))||!p._id||this._id!==p._id,u=p&&p._id&&h&&p._model.data[h]&&p._model.data[h].children?e.inArray(i.id,p._model.data[h].children):-1,p&&p._id&&(i=p._model.data[i.id]),g)return!!(v=this.copy_node(i,n,r,s,o,!1,l))&&(p&&p.delete_node(i),v);switch(n.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(n.id,f.children);break;case"after":r=e.inArray(n.id,f.children)+1;break;case"inside":case"first":r=0;break;case"last":r=f.children.length;break;default:r||(r=0)}if(r>f.children.length&&(r=f.children.length),!this.check("move_node",i,f,r,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===f.id){for(m=f.children.concat(),-1!==(v=e.inArray(i.id,m))&&(m=e.vakata.array_remove(m,v),r>v&&r--),v=[],_=0,y=m.length;_<y;_++)v[_>=r?_+1:_]=m[_];v[r]=i.id,f.children=v,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for((v=i.children_d.concat()).push(i.id),_=0,y=i.parents.length;_<y;_++){for(m=[],b=0,w=(x=p._model.data[i.parents[_]].children_d).length;b<w;b++)-1===e.inArray(x[b],v)&&m.push(x[b]);p._model.data[i.parents[_]].children_d=m}for(p._model.data[h].children=e.vakata.array_remove_item(p._model.data[h].children,i.id),_=0,y=f.parents.length;_<y;_++)this._model.data[f.parents[_]].children_d=this._model.data[f.parents[_]].children_d.concat(v);for(m=[],_=0,y=f.children.length;_<y;_++)m[_>=r?_+1:_]=f.children[_];for(m[r]=i.id,f.children=m,f.children_d.push(i.id),f.children_d=f.children_d.concat(i.children_d),i.parent=f.id,(v=f.parents.concat()).unshift(f.id),x=i.parents.length,i.parents=v,v=v.concat(),_=0,y=i.children_d.length;_<y;_++)this._model.data[i.children_d[_]].parents=this._model.data[i.children_d[_]].parents.slice(0,-1*x),Array.prototype.push.apply(this._model.data[i.children_d[_]].parents,v);h!==e.jstree.root&&f.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(f.id)),a||this.redraw()}return s&&s.call(this,i,f,r),this.trigger("move_node",{node:i,parent:f.id,position:r,old_parent:h,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),i.id},copy_node:function(i,n,r,s,o,a,l){var c,d,h,u,f,p,g,m,v,_;if(n=this.get_node(n),r=r===t?0:r,!n)return!1;if(!r.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return this.load_node(n,(function(){this.copy_node(i,n,r,s,!0,!1,l)}));if(e.vakata.is_array(i)){if(1!==i.length){for(c=0,d=i.length;c<d;c++)(u=this.copy_node(i[c],n,r,s,o,!0,l))&&(n=u,r="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===e.jstree.root)return!1;switch(m=(i.parent||e.jstree.root).toString(),v=r.toString().match(/^(before|after)$/)&&n.id!==e.jstree.root?this.get_node(n.parent):n,!(_=l||(this._model.data[i.id]?this:e.jstree.reference(i.id)))||!_._id||this._id!==_._id,_&&_._id&&(i=_._model.data[i.id]),n.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(n.id,v.children);break;case"after":r=e.inArray(n.id,v.children)+1;break;case"inside":case"first":r=0;break;case"last":r=v.children.length;break;default:r||(r=0)}if(r>v.children.length&&(r=v.children.length),!this.check("copy_node",i,v,r,{core:!0,origin:l,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=_?_.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,v.id,v.parents.concat())))return!1;for(u=this.get_node(g),i&&i.state&&!1===i.state.loaded&&(u.state.loaded=!1),(h=[]).push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:v.id}),f=0,p=v.parents.length;f<p;f++)this._model.data[v.parents[f]].children_d=this._model.data[v.parents[f]].children_d.concat(h);for(h=[],f=0,p=v.children.length;f<p;f++)h[f>=r?f+1:f]=v.children[f];return h[r]=u.id,v.children=h,v.children_d.push(u.id),v.children_d=v.children_d.concat(u.children_d),v.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(v.id),a||this.redraw(v.id===e.jstree.root),s&&s.call(this,u,v,r),this.trigger("copy_node",{node:u,original:i,parent:v.id,position:r,old_parent:m,old_position:_&&_._id&&m&&_._model.data[m]&&_._model.data[m].children?e.inArray(i.id,_._model.data[m].children):-1,is_multi:_&&_._id&&_._id!==this._id,is_foreign:!_||!_._id,old_instance:_,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.vakata.is_array(t)||(t=[t]),!t.length)return!1;var i,o,a,l=[];for(o=0,a=t.length;o<a;o++)(i=this.get_node(t[o]))&&(i.id||0===i.id)&&i.id!==e.jstree.root&&l.push(i);if(!l.length)return!1;n=l,s=this,r="move_node",this.trigger("cut",{node:t})},copy:function(i){if(i||(i=this._data.core.selected.concat()),e.vakata.is_array(i)||(i=[i]),!i.length)return!1;var o,a,l,c=[];for(a=0,l=i.length;a<l;a++)(o=this.get_node(i[a]))&&o.id!==t&&o.id!==e.jstree.root&&c.push(o);if(!c.length)return!1;n=c,s=this,r="copy_node",this.trigger("copy",{node:i})},get_buffer:function(){return{mode:r,node:n,inst:s}},can_paste:function(){return!1!==r&&!1!==n},paste:function(e,t){if(!((e=this.get_node(e))&&r&&r.match(/^(copy_node|move_node)$/)&&n))return!1;this[r](n,e,t,!1,!1,!1,s)&&this.trigger("paste",{parent:e.id,node:n,mode:r}),n=!1,r=!1,s=!1},clear_buffer:function(){n=!1,r=!1,s=!1,this.trigger("clear_buffer")},edit:function(t,i,n){var r,s,o,a,c,d,h,u,f,p=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),f.text=i,r=this._data.core.rtl,s=this.element.width(),this._data.core.focused=f.id,o=t.children(".jstree-anchor").trigger("focus"),a=e("<span></span>"),c=i,d=e("<div></div>",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),h=e("<input />",{value:c,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:function(i){i.stopImmediatePropagation(),i.preventDefault();var r,s=a.children(".jstree-rename-input").val(),l=this.settings.core.force_text;""===s&&(s=c),d.remove(),a.replaceWith(o),a.remove(),c=l?c:e("<div></div>").append(e.parseHTML(c)).html(),t=this.get_node(t),this.set_text(t,c),(r=!!this.rename_node(t,l?e("<div></div>").text(s).text():e("<div></div>").append(e.parseHTML(s)).html()))||this.set_text(t,c),this._data.core.focused=f.id,setTimeout(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").trigger("focus"))}.bind(this),0),n&&n.call(this,f,r,p,s),h=null}.bind(this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=c),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(d.text("pW"+this.value).width(),s))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""},a.attr("class",o.attr("class")).append(o.contents().clone()).append(h),o.replaceWith(a),d.css(u),h.css(u).width(Math.min(d.text("pW"+h[0].value).width(),s))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",(function(t){h&&t.target!==h&&e(h).trigger("blur")}))):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,i){if(!t)return!1;if(!0===i){var n=this.settings.core.themes.dir;n||(n=e.jstree.path+"/themes"),i=n+"/"+t+"/style.css"}i&&-1===e.inArray(i,o)&&(e("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),o.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(i,n){var r,s,o,a;if(e.vakata.is_array(i)){for(r=0,s=(i=i.slice()).length;r<s;r++)this.set_icon(i[r],n);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(a=i.icon,i.icon=!0===n||null===n||n===t||""===n||n,o=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===n?(o.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),this.hide_icon(i)):!0===n||null===n||n===t||""===n?(o.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),!1===a&&this.show_icon(i)):-1===n.indexOf("/")&&-1===n.indexOf(".")?(o.removeClass(a).css("background",""),o.addClass(n+" jstree-themeicon-custom").attr("rel",n),!1===a&&this.show_icon(i)):(o.removeClass(a).css("background",""),o.addClass("jstree-themeicon-custom").css("background","url('"+n+"') center center no-repeat").attr("rel",n),!1===a&&this.show_icon(i)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var i,n;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.hide_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var i,n,r;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.show_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,i){t=e(t)[0];var n=i?{}:[];return t&&t.attributes&&e.each(t.attributes,(function(t,r){-1===e.inArray(r.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.value&&""!==e.vakata.trim(r.value)&&(i?n[r.name]=r.value:n.push(r.name))})),n},e.vakata.array_unique=function(e){var i,n,r=[],s={};for(i=0,n=e.length;i<n;i++)s[e[i]]===t&&(r.push(e[i]),s[e[i]]=!0);return r},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,i){var n=e.inArray(i,t);return-1!==n?e.vakata.array_remove(t,n):t},e.vakata.array_filter=function(e,t,i,n,r){if(e.filter)return e.filter(t,i);for(r in n=[],e)~~r+""==r+""&&r>=0&&t.call(i,e[r],+r,e)&&n.push(e[r]);return n},e.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.vakata.is_function=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},e.vakata.is_array=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=arguments[0],i=Array.prototype.slice.call(arguments,1);if("function"!=typeof e)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var n=i.concat(Array.prototype.slice.call(arguments));return e.apply(t,n)}});e.jstree.plugins.changed=function(e,t){var i=[];this.trigger=function(e,n){var r,s;if(n||(n={}),"changed"===e.replace(".jstree","")){n.changed={selected:[],deselected:[]};var o={};for(r=0,s=i.length;r<s;r++)o[i[r]]=1;for(r=0,s=n.selected.length;r<s;r++)o[n.selected[r]]?o[n.selected[r]]=2:n.changed.selected.push(n.selected[r]);for(r=0,s=i.length;r<s;r++)1===o[i[r]]&&n.changed.deselected.push(i[r]);i=n.selected.slice()}t.trigger.call(this,e,n)},this.refresh=function(e,n){return i=[],t.refresh.apply(this,arguments)}};var h,u,f=l.createElement("I");f.className="jstree-icon jstree-checkbox",f.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(i,n){this.bind=function(){n.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(e,t){var i,n,r=this._model.data,s=(r[t.parent],t.nodes);for(i=0,n=s.length;i<n;i++)r[s[i]].state.checked=r[s[i]].state.checked||r[s[i]].original&&r[s[i]].original.state&&r[s[i]].original.state.checked,r[s[i]].state.checked&&this._data.checkbox.selected.push(s[i])}.bind(this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(t,i){var n,r,s,o,a,l,c=this._model.data,d=c[i.parent],h=i.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(d.state[p?"selected":"checked"]){for(r=0,s=h.length;r<s;r++)c[h[r]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h)}else for(r=0,s=h.length;r<s;r++)if(c[h[r]].state[p?"selected":"checked"]){for(o=0,a=c[h[r]].children_d.length;o<a;o++)c[c[h[r]].children_d[o]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[h[r]].children_d)}if(-1!==f.indexOf("up")){for(r=0,s=d.children_d.length;r<s;r++)c[d.children_d[r]].children.length||u.push(c[d.children_d[r]].parent);for(o=0,a=(u=e.vakata.array_unique(u)).length;o<a;o++)for(d=c[u[o]];d&&d.id!==e.jstree.root;){for(n=0,r=0,s=d.children.length;r<s;r++)n+=c[d.children[r]].state[p?"selected":"checked"];if(n!==s)break;d.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(d.id),(l=this.get_node(d,!0))&&l.length&&l.children(".jstree-anchor").attr("aria-selected",!0).addClass(p?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(t,i){var n,r,s,o,a=i.node,l=this._model.data,c=this.get_node(a.parent),d=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},f=this._data[h?"core":"checkbox"].selected;for(n=0,r=f.length;n<r;n++)u[f[n]]=!0;if(-1!==d.indexOf("down")){var p=this._cascade_new_checked_state(a.id,!0),g=a.children_d.concat(a.id);for(n=0,r=g.length;n<r;n++)p.indexOf(g[n])>-1?u[g[n]]=!0:delete u[g[n]]}if(-1!==d.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(s=0,n=0,r=c.children.length;n<r;n++)s+=l[c.children[n]].state[h?"selected":"checked"];if(s!==r)break;c.state[h?"selected":"checked"]=!0,u[c.id]=!0,(o=this.get_node(c,!0))&&o.length&&o.children(".jstree-anchor").attr("aria-selected",!0).addClass(h?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}for(n in f=[],u)u.hasOwnProperty(n)&&f.push(n);this._data[h?"core":"checkbox"].selected=f}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(t,i){var n,r,s,o=this.get_node(e.jstree.root),a=this._model.data;for(n=0,r=o.children_d.length;n<r;n++)(s=a[o.children_d[n]])&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(t,i){var n,r,s,o=i.node,a=(this.get_node(o,!0),this.settings.checkbox.cascade),l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,d=o.children_d.concat(o.id);if(-1!==a.indexOf("down")){var h=this._cascade_new_checked_state(o.id,!1);c=e.vakata.array_filter(c,(function(e){return-1===d.indexOf(e)||h.indexOf(e)>-1}))}if(-1!==a.indexOf("up")&&-1===c.indexOf(o.id)){for(n=0,r=o.parents.length;n<r;n++)(s=this._model.data[o.parents[n]]).state[l?"selected":"checked"]=!1,s&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1),(s=this.get_node(o.parents[n],!0))&&s.length&&s.children(".jstree-anchor").attr("aria-selected",!1).removeClass(l?"jstree-clicked":"jstree-checked");c=e.vakata.array_filter(c,(function(e){return-1===o.parents.indexOf(e)}))}this._data[l?"core":"checkbox"].selected=c}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(t,i){for(var n,r,s,o,a=this.get_node(i.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;a&&a.id!==e.jstree.root&&!a.state[c?"selected":"checked"];){for(s=0,n=0,r=a.children.length;n<r;n++)s+=l[a.children[n]].state[c?"selected":"checked"];if(!(r>0&&s===r))break;a.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(a.id),(o=this.get_node(a,!0))&&o.length&&o.children(".jstree-anchor").attr("aria-selected",!0).addClass(c?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}}.bind(this)).on("move_node.jstree",function(t,i){var n,r,s,o,a,l=i.is_multi,c=i.old_parent,d=this.get_node(i.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!l)for(n=this.get_node(c);n&&n.id!==e.jstree.root&&!n.state[u?"selected":"checked"];){for(r=0,s=0,o=n.children.length;s<o;s++)r+=h[n.children[s]].state[u?"selected":"checked"];if(!(o>0&&r===o))break;n.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked"),n=this.get_node(n.parent)}for(n=d;n&&n.id!==e.jstree.root;){for(r=0,s=0,o=n.children.length;s<o;s++)r+=h[n.children[s]].state[u?"selected":"checked"];if(r===o)n.state[u?"selected":"checked"]||(n.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked"));else{if(!n.state[u?"selected":"checked"])break;n.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,n.id),(a=this.get_node(n,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!1).removeClass(u?"jstree-clicked":"jstree-checked")}n=this.get_node(n.parent)}}.bind(this))},this.get_undetermined=function(i){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var n,r,s,o,a={},l=this._model.data,c=this.settings.checkbox.tie_selection,d=this._data[c?"core":"checkbox"].selected,h=[],u=this,f=[];for(n=0,r=d.length;n<r;n++)if(l[d[n]]&&l[d[n]].parents)for(s=0,o=l[d[n]].parents.length;s<o&&a[l[d[n]].parents[s]]===t;s++)l[d[n]].parents[s]!==e.jstree.root&&(a[l[d[n]].parents[s]]=!0,h.push(l[d[n]].parents[s]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each((function(){var i,c=u.get_node(this);if(c)if(c.state.loaded){for(n=0,r=c.children_d.length;n<r;n++)if(!(i=l[c.children_d[n]]).state.loaded&&i.original&&i.original.state&&i.original.state.undetermined&&!0===i.original.state.undetermined)for(a[i.id]===t&&i.id!==e.jstree.root&&(a[i.id]=!0,h.push(i.id)),s=0,o=i.parents.length;s<o;s++)a[i.parents[s]]===t&&i.parents[s]!==e.jstree.root&&(a[i.parents[s]]=!0,h.push(i.parents[s]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(a[c.id]===t&&c.id!==e.jstree.root&&(a[c.id]=!0,h.push(c.id)),s=0,o=c.parents.length;s<o;s++)a[c.parents[s]]===t&&c.parents[s]!==e.jstree.root&&(a[c.parents[s]]=!0,h.push(c.parents[s]))})),n=0,r=h.length;n<r;n++)l[h[n]].state[c?"selected":"checked"]||f.push(i?l[h[n]]:h[n]);return f},this._undetermined=function(){if(null!==this.element){var e,t,i,n=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=n.length;e<t;e++)(i=this.get_node(n[e],!0))&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,t,i,r){if(e=n.redraw_node.apply(this,arguments)){var s,o,a=null,l=null;for(s=0,o=e.childNodes.length;s<o;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){a=e.childNodes[s];break}a&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(a.className+=" jstree-checked"),l=f.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(l.className+=" jstree-checkbox-disabled"),a.insertBefore(l,a.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var i,n,r=this.settings.checkbox.cascade,s=this.settings.checkbox.tie_selection,o=this._data[s?"core":"checkbox"].selected,a=this._model.data;if(!t||!0===t.state[s?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(i=0,n=t.children_d.length;i<n;i++)if(-1!==e.inArray(t.children_d[i],o)||!a[t.children_d[i]].state.loaded&&a[t.children_d[i]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var i,n,r;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.disable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var i,n,r;if(e.vakata.is_array(t)){for(i=0,n=(t=t.slice()).length;i<n;i++)this.enable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,i){return!e(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(i.target).hasClass("jstree-checkbox")?n.activate_node.call(this,t,i):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))},this.delete_node=function(t){if(this.settings.checkbox.tie_selection||e.vakata.is_array(t))return n.delete_node.call(this,t);var i,r,s,o=!1;if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;for((i=t.children_d.concat([])).push(t.id),r=0,s=i.length;r<s;r++)if(this._model.data[i[r]].state.checked){o=!0;break}return o&&(this._data.checkbox.selected=e.vakata.array_filter(this._data.checkbox.selected,(function(t){return-1===e.inArray(t,i)}))),n.delete_node.call(this,t)},this._cascade_new_checked_state=function(e,t){var i,n,r,s=this,o=this.settings.checkbox.tie_selection,a=this._model.data[e],l=[],c=[];if(!this.settings.checkbox.cascade_to_disabled&&a.state.disabled||!this.settings.checkbox.cascade_to_hidden&&a.state.hidden)r=this.get_checked_descendants(e),a.state[o?"selected":"checked"]&&r.push(a.id),l=l.concat(r);else{if(a.children)for(i=0,n=a.children.length;i<n;i++){var d=a.children[i];r=s._cascade_new_checked_state(d,t),l=l.concat(r),r.indexOf(d)>-1&&c.push(d)}var h=s.get_node(a,!0),u=c.length>0&&c.length<a.children.length;a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=u),u?(a.state[o?"selected":"checked"]=!1,h.children(".jstree-anchor").attr("aria-selected",!1).removeClass(o?"jstree-clicked":"jstree-checked")):t&&c.length===a.children.length?(a.state[o?"selected":"checked"]=t,l.push(a.id),h.children(".jstree-anchor").attr("aria-selected",!0).addClass(o?"jstree-clicked":"jstree-checked")):(a.state[o?"selected":"checked"]=!1,h.children(".jstree-anchor").attr("aria-selected",!1).removeClass(o?"jstree-clicked":"jstree-checked"))}return l},this.get_checked_descendants=function(t){var i=this,n=i.settings.checkbox.tie_selection,r=i._model.data[t];return e.vakata.array_filter(r.children_d,(function(e){return i._model.data[e].state[n?"selected":"checked"]}))},this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var n,r,s;if(e.vakata.is_array(t)){for(r=0,s=(t=t.slice()).length;r<s;r++)this.check_node(t[r],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;n=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var n,r,s;if(e.vakata.is_array(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.uncheck_node(t[n],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),s.length&&s.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,i;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,i=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,function(e){return this.get_node(e)}.bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var i,n,r,s,o=this.get_checked(!0),a={};for(i=0,n=o.length;i<n;i++)a[o[i].id]=o[i];for(i=0,n=o.length;i<n;i++)for(r=0,s=o[i].children_d.length;r<s;r++)a[o[i].children_d[r]]&&delete a[o[i].children_d[r]];for(i in o=[],a)a.hasOwnProperty(i)&&o.push(i);return t?e.map(o,function(e){return this.get_node(e)}.bind(this)):o},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var i,n,r=this.get_checked(!0),s=[];for(i=0,n=r.length;i<n;i++)r[i].children.length||s.push(r[i].id);return t?e.map(s,function(e){return this.get_node(e)}.bind(this)):s},this.load_node=function(t,i){var r,s,o;if(!e.vakata.is_array(t)&&!this.settings.checkbox.tie_selection&&(o=this.get_node(t))&&o.state.loaded)for(r=0,s=o.children_d.length;r<s;r++)this._model.data[o.children_d[r]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,o.children_d[r]));return n.load_node.apply(this,arguments)},this.get_state=function(){var e=n.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(t,i){var r=n.set_state.apply(this,arguments);if(r&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var s=this;e.each(t.checkbox,(function(e,t){s.check_node(t)}))}return delete t.checkbox,this.set_state(t,i),!1}return r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),n.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,i){if(this.settings.conditionalselect.call(this,this.get_node(e),i))return t.activate_node.call(this,e,i)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,i){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.create_node(n,{},"last",(function(e){try{i.edit(e)}catch(t){setTimeout((function(){i.edit(e)}),0)}}))}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.edit(n)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.is_selected(n)?i.delete_node(i.get_selected()):i.delete_node(n)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.is_selected(n)?i.cut(i.get_top_selected()):i.cut(n)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.is_selected(n)?i.copy(i.get_top_selected()):i.copy(n)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=e.jstree.reference(t.reference),n=i.get_node(t.reference);i.paste(n)}}}}}}},e.jstree.plugins.contextmenu=function(i,n){this.bind=function(){n.bind.call(this);var t,i,r=0,s=null;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||s)&&(r=+new Date+1e4),s&&clearTimeout(s),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))}.bind(this)).on("click.jstree",".jstree-anchor",function(t){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&e.vakata.context.hide(),r=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",(function(n){n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(t=n.originalEvent.changedTouches[0].clientX,i=n.originalEvent.changedTouches[0].clientY,s=setTimeout((function(){e(n.currentTarget).trigger("contextmenu",!0)}),750))})).on("touchmove.vakata.jstree",(function(n){s&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(Math.abs(t-n.originalEvent.changedTouches[0].clientX)>10||Math.abs(i-n.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(s),e.vakata.context.hide())})).on("touchend.vakata.jstree",(function(e){s&&clearTimeout(s)})),e(l).on("context_hide.vakata.jstree",function(t,i){this._data.contextmenu.visible=!1,e(i.reference).removeClass("jstree-context")}.bind(this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),e(l).off("context_hide.vakata.jstree"),n.teardown.call(this)},this.show_contextmenu=function(i,n,r,s){if(!(i=this.get_node(i))||i.id===e.jstree.root)return!1;var o=this.settings.contextmenu,a=this.get_node(i,!0).children(".jstree-anchor"),l=!1,c=!1;(o.show_at_node||n===t||r===t)&&(l=a.offset(),n=l.left,r=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,s),c=o.items,e.vakata.is_function(c)&&(c=c.call(this,i,function(e){this._show_contextmenu(i,n,r,e)}.bind(this))),e.isPlainObject(c)&&this._show_contextmenu(i,n,r,c)},this._show_contextmenu=function(t,i,n,r){var s=this.get_node(t,!0).children(".jstree-anchor");e(l).one("context_show.vakata.jstree",function(t,i){var n="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(i.element).addClass(n),s.addClass("jstree-context")}.bind(this)),this._data.contextmenu.visible=!0,e.vakata.context.show(s,{x:i,y:n},r),this.trigger("show_contextmenu",{node:t,x:i,y:n})}},function(e){var t=!1,i={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_execute:function(t){return!(!(t=i.items[t])||t._disabled&&(!e.vakata.is_function(t._disabled)||t._disabled({item:t,reference:i.reference,element:i.element}))||!t.action)&&t.action.call(null,{item:t,reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_parse:function(t,n){if(!t)return!1;n||(i.html="",i.items=[]);var r,s="",o=!1;return n&&(s+="<ul>"),e.each(t,(function(t,n){if(!n)return!0;i.items.push(n),!o&&n.separator_before&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),o=!1,s+="<li class='"+(n._class||"")+(!0===n._disabled||e.vakata.is_function(n._disabled)&&n._disabled({item:n,reference:i.reference,element:i.element})?" vakata-contextmenu-disabled ":"")+"' "+(n.shortcut?" data-shortcut='"+n.shortcut+"' ":"")+">",s+="<a href='#' rel='"+(i.items.length-1)+"' "+(n.title?"title='"+n.title+"'":"")+">",e.vakata.context.settings.icons&&(s+="<i ",n.icon&&(-1!==n.icon.indexOf("/")||-1!==n.icon.indexOf(".")?s+=" style='background:url(\""+n.icon+"\") center center no-repeat' ":s+=" class='"+n.icon+"' "),s+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),s+=(e.vakata.is_function(n.label)?n.label({item:t,reference:i.reference,element:i.element}):n.label)+(n.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+n.shortcut+'">'+(n.shortcut_label||"")+"</span>":"")+"</a>",n.submenu&&(r=e.vakata.context._parse(n.submenu,!0))&&(s+=r),s+="</li>",n.separator_after&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",o=!0)})),s=s.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),n&&(s+="</ul>"),n||(i.html=s,e.vakata.context._trigger("parse")),s.length>10&&s},_show_submenu:function(i){if((i=e(i)).length&&i.children("ul").length){var n=i.children("ul"),r=i.offset().left,s=r+i.outerWidth(),o=i.offset().top,a=n.width(),l=n.height(),c=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?i[s-(a+10+i.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):i[s+a>c&&r>c-s?"addClass":"removeClass"]("vakata-context-right"),o+l+10>d&&n.css("bottom","-1px"),i.hasClass("vakata-context-right")?r<a&&n.css("margin-right",r-a):c-s<a&&n.css("margin-left",c-s-a),n.show()}},show:function(n,r,s){var o,a,c,d,h,u,f,p,g=!0;switch(i.element&&i.element.length&&i.element.width(""),g){case!r&&!n:return!1;case!!r&&!!n:i.reference=n,i.position_x=r.x,i.position_y=r.y;break;case!r&&!!n:i.reference=n,o=n.offset(),i.position_x=o.left+n.outerHeight(),i.position_y=o.top;break;case!!r&&!n:i.position_x=r.x,i.position_y=r.y}n&&!s&&e(n).data("vakata_contextmenu")&&(s=e(n).data("vakata_contextmenu")),e.vakata.context._parse(s)&&i.element.html(i.html),i.items.length&&(i.element.appendTo(l.body),a=i.element,c=i.position_x,d=i.position_y,h=a.width(),u=a.height(),f=e(window).width()+e(window).scrollLeft(),p=e(window).height()+e(window).scrollTop(),t&&(c-=a.outerWidth()-e(n).outerWidth())<e(window).scrollLeft()+20&&(c=e(window).scrollLeft()+20),c+h+20>f&&(c=f-(h+20)),d+u+20>p&&(d=p-(u+20)),i.element.css({left:c,top:d}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),i.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){i.is_visible&&(i.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),i.is_visible=!1,e.vakata.context._trigger("hide"))}},e((function(){t="rtl"===e(l.body).css("direction");var n=!1;i.element=e("<ul class='vakata-context'></ul>"),i.element.on("mouseenter","li",(function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(n&&clearTimeout(n),i.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))})).on("mouseleave","li",(function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")})).on("mouseleave",(function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(n=setTimeout((function(){e.vakata.context.hide()}),e.vakata.context.settings.hide_onmouseleave))})).on("click","a",(function(t){t.preventDefault(),e(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()})).on("keydown","a",(function(t){var n=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:i.is_visible&&(i.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 38:i.is_visible&&((n=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(n=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),n.addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 39:i.is_visible&&(i.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 40:i.is_visible&&((n=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(n=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),n.addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}})).on("keydown",(function(e){e.preventDefault();var t=i.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.trigger("click")})),e(l).on("mousedown.vakata.jstree",(function(t){i.is_visible&&i.element[0]!==t.target&&!e.contains(i.element[0],t.target)&&e.vakata.context.hide()})).on("context_show.vakata.jstree",(function(e,n){i.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&i.element.addClass("vakata-context-rtl").css("direction","rtl"),i.element.find("ul").hide().end()}))}))}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1},e.jstree.plugins.dnd=function(t,i){this.init=function(e,t){i.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){i.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),n=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=n>1?n+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(r=e.vakata.html.escape(r)),i&&(i.id||0===i.id)&&i.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,n>1?this.get_top_selected(!0):[i],t))){if(h={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:n>1?this.get_top_selected():[i.id]},u=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,h,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:u,data:h})}}.bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",(function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:u,data:h}),!1})).on("drop.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:u,data:h}),!1}.bind(this))},this.redraw_node=function(e,t,n,r){if((e=i.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var s,o,a=null;for(s=0,o=e.childNodes.length;s<o;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){a=e.childNodes[s];break}a&&a.setAttribute("draggable",!0)}return e}},e((function(){var i=!1,n=!1,r=!1,s=!1,o=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dragover.vakata.jstree",(function(t){u&&e.vakata.dnd._trigger("move",t,{helper:e(),element:u,data:h})})).on("drop.vakata.jstree",(function(t){u&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:u,data:h}),u=null,h=null)})).on("dnd_start.vakata.jstree",(function(e,t){i=!1,r=!1,t&&t.data&&t.data.jstree&&o.appendTo(l.body)})).on("dnd_move.vakata.jstree",(function(a,l){var c=l.event.target!==r.target;if(s&&(l.event&&"dragover"===l.event.type&&!c||clearTimeout(s)),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){r=l.event;var d,h,u,f,p,g,m,v,_,y,b,w,x,k,E,T,S,j=e.jstree.reference(l.event.target),C=!1,A=!1,L=!1;if(j&&j._data&&j._data.dnd)if(o.attr("class","jstree-"+j.get_theme()+(j.settings.core.themes.responsive?" jstree-dnd-responsive":"")),E=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+j.get_theme()+" jstree-"+j.get_theme()+"-"+j.get_theme_variant()+" "+(j.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[E?"show":"hide"](),l.event.target!==j.element[0]&&l.event.target!==j.get_container_ul()[0]||0!==j.get_container_ul().children().length&&!j.settings.dnd.blank_space_drop){if((C=j.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&C.length&&C.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(A=C.offset(),L=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-A.top,u=C.outerHeight(),g=L<u/3?["b","i","a"]:L>u-u/3?["a","i","b"]:L>u/2?["i","a","b"]:["i","b","a"],e.each(g,(function(t,r){switch(r){case"b":d=A.left-6,h=A.top,f=j.get_parent(C),p=C.parent().index(),S="jstree-below";break;case"i":x=j.settings.dnd.inside_pos,k=j.get_node(C.parent()),d=A.left-2,h=A.top+u/2+1,f=k.id,p="first"===x?0:"last"===x?k.children.length:Math.min(x,k.children.length),S="jstree-inside";break;case"a":d=A.left-6,h=A.top+u,f=j.get_parent(C),p=C.parent().index()+1,S="jstree-above"}for(m=!0,v=0,_=l.data.nodes.length;v<_;v++)if(y=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===y&&"a"===r&&l.data.origin&&l.data.origin===j&&f===j.get_parent(l.data.nodes[v])&&(w=j.get_node(f),b>e.inArray(l.data.nodes[v],w.children)&&(b-=1)),!(m=m&&(j&&j.settings&&j.settings.dnd&&!1===j.settings.dnd.check_while_dragging||j.check(y,l.data.origin&&l.data.origin!==j?l.data.origin.get_node(l.data.nodes[v]):l.data.nodes[v],f,b,{dnd:!0,ref:j.get_node(C.parent()),pos:r,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==j,is_foreign:!l.data.origin})))){j&&j.last_error&&(n=j.last_error());break}var a,L;if("i"===r&&C.parent().is(".jstree-closed")&&j.settings.dnd.open_timeout&&(l.event&&"dragover"===l.event.type&&!c||(s&&clearTimeout(s),s=setTimeout((a=j,L=C,function(){a.open_node(L)}),j.settings.dnd.open_timeout))),m)return(T=j.get_node(f,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T.addClass("jstree-dnd-parent")),i={ins:j,par:f,pos:"i"!==r||"last"!==x||0!==p||j.is_loaded(k)?p:"last"},o.css({left:d+"px",top:h+"px"}).show(),o.removeClass("jstree-above jstree-inside jstree-below").addClass(S),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=E?"copy":"move"),n={},g=!0,!1})),!0===g))return}else{for(m=!0,v=0,_=l.data.nodes.length;v<_&&(m=m&&j.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==j?l.data.origin.get_node(l.data.nodes[v]):l.data.nodes[v],e.jstree.root,"last",{dnd:!0,ref:j.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==j,is_foreign:!l.data.origin}));v++);if(m)return i={ins:j,par:e.jstree.root,pos:"last"},o.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=E?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,o.hide()}})).on("dnd_scroll.vakata.jstree",(function(e,t){t&&t.data&&t.data.jstree&&(o.hide(),i=!1,r=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))})).on("dnd_stop.vakata.jstree",(function(t,a){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),s&&clearTimeout(s),a&&a.data&&a.data.jstree){o.hide().detach();var l,c,d=[];if(i){for(l=0,c=a.data.nodes.length;l<c;l++)d[l]=a.data.origin?a.data.origin.get_node(a.data.nodes[l]):a.data.nodes[l];i.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](d,i.par,i.pos,!1,!1,!1,a.data.origin)}else(l=e(a.event.target).closest(".jstree")).length&&n&&n.error&&"check"===n.error&&(l=l.jstree(!0))&&l.settings.core.error.call(this,n);r=!1,i=!1}})).on("keyup.jstree keydown.jstree",(function(t,a){(a=e.vakata.dnd._get())&&a.data&&a.data.jstree&&("keyup"===t.type&&27===t.which?(s&&clearTimeout(s),i=!1,n=!1,r=!1,s=!1,o.hide().detach(),e.vakata.dnd._clean()):(a.helper.find(".jstree-copy").first()[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",r))))}))})),function(e){e.vakata.html={div:e("<div></div>"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(i,n,r){r===t&&(r=e.vakata.dnd._get()),r.event=n,e(l).triggerHandler("dnd_"+i+".vakata",r)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove(),i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},u=null,e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var n=i.scroll_e.scrollTop(),r=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(n+i.scroll_t*e.vakata.dnd.settings.scroll_speed),i.scroll_e.scrollLeft(r+i.scroll_l*e.vakata.dnd.settings.scroll_speed),n===i.scroll_e.scrollTop()&&r===i.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",i.scroll_e)},start:function(t,n,r){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return i.init_x=t.pageX,i.init_y=t.pageY,i.data=n,i.is_down=!0,i.element=t.currentTarget,i.target=t.target,i.is_touch="touchstart"===t.type,!1!==r&&(i.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(t.pageX-i.init_x)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-i.init_y)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;i.helper&&(i.helper.appendTo(l.body),i.helper_w=i.helper.outerWidth()),i.is_drag=!0,e(i.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var n=!1,r=!1,s=!1,o=!1,a=!1,c=!1,d=!1,h=!1,u=!1,f=!1;return i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter((function(){return this.ownerDocument&&/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)})).each((function(){var n=e(this),r=n.offset();if(this.scrollHeight>this.offsetHeight&&(r.top+n.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),t.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+n.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),t.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l)return i.scroll_e=e(this),!1})),i.scroll_e||(n=e(l),r=e(window),s=n.height(),o=r.height(),a=n.width(),c=r.width(),d=n.scrollTop(),h=n.scrollLeft(),s>o&&t.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),s>o&&o-(t.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),a>c&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),a>c&&c-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=n)),i.scroll_e&&e.vakata.dnd._scroll(!0),i.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),s&&u+25>s&&(u=s-50),a&&f+i.helper_w>a&&(f=a-(i.helper_w+2)),i.helper.css({left:f+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag)t.target!==i.target&&e(i.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===i.target){var n=setTimeout((function(){e(t.target).trigger("click")}),100);e(t.target).one("click",(function(){n&&clearTimeout(n)}))}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,i){this.init=function(e,t){this._data.massload={},i.init.call(this,e,t)},this._load_nodes=function(t,n,r,s){var o,a,l,c=this.settings.massload,d=[],h=this._model.data;if(!r){for(o=0,a=t.length;o<a;o++)h[t[o]]&&(h[t[o]].state.loaded||h[t[o]].state.failed)&&!s||(d.push(t[o]),(l=this.get_node(t[o],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},d.length){if(e.vakata.is_function(c))return c.call(this,d,function(e){var o,a;if(e)for(o in e)e.hasOwnProperty(o)&&(this._data.massload[o]=e[o]);for(o=0,a=t.length;o<a;o++)(l=this.get_node(t[o],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,n,r,s)}.bind(this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.vakata.is_function(c.url)&&(c.url=c.url.call(this,d)),e.vakata.is_function(c.data)&&(c.data=c.data.call(this,d)),e.ajax(c).done(function(e,o,a){var c,d;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,d=t.length;c<d;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,n,r,s)}.bind(this)).fail(function(e){i._load_nodes.call(this,t,n,r,s)}.bind(this))}}return i._load_nodes.call(this,t,n,r,s)},this._load_node=function(t,n){var r,s=this._data.massload[t.id],o=null;return s?(o=this["string"==typeof s?"_append_html_data":"_append_json_data"](t,"string"==typeof s?e(e.parseHTML(s)).filter((function(){return 3!==this.nodeType})):s,(function(e){n.call(this,e)})),(r=this.get_node(t.id,!0))&&r.length&&r.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],o):i._load_node.call(this,t,n)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(i,n){this.bind=function(){n.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",function(t,i){if(this._data.search.som&&i.res.length){var n,r,s,o,a=this._model.data,l=[];for(n=0,r=i.res.length;n<r;n++)if(a[i.res[n]]&&!a[i.res[n]].state.hidden&&(l.push(i.res[n]),l=l.concat(a[i.res[n]].parents),this._data.search.smc))for(s=0,o=a[i.res[n]].children_d.length;s<o;s++)a[a[i.res[n]].children_d[s]]&&!a[a[i.res[n]].children_d[s]].state.hidden&&l.push(a[i.res[n]].children_d[s]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))},this.search=function(i,n,r,s,o,a){if(!1===i||""===e.vakata.trim(i.toString()))return this.clear_search();s=(s=this.get_node(s))&&(s.id||0===s.id)?s.id:null,i=i.toString();var l,c,d=this.settings.search,h=!!d.ajax&&d.ajax,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!o&&this.clear_search(),r===t&&(r=d.show_only_matches),a===t&&(a=d.show_only_matches_children),!n&&!1!==h)return e.vakata.is_function(h)?h.call(this,i,function(t){t&&t.d&&(t=t.d),this._load_nodes(e.vakata.is_array(t)?e.vakata.array_unique(t):[],(function(){this.search(i,!0,r,s,o,a)}))}.bind(this),s):((h=e.extend({},h)).data||(h.data={}),h.data.str=i,s&&(h.data.inside=s),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.vakata.is_array(t)?e.vakata.array_unique(t):[],(function(){this.search(i,!0,r,s,o,a)}))}.bind(this)),this._data.search.lastRequest);if(o||(this._data.search.str=i,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=a),f=new e.vakata.search(i,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(u[s||e.jstree.root].children_d,(function(e,t){var n=u[t];n.text&&!n.state.hidden&&(!d.search_leaves_only||n.state.loaded&&0===n.children.length)&&(d.search_callback&&d.search_callback.call(this,i,n)||!d.search_callback&&f.search(n.text).isMatch)&&(p.push(t),g=g.concat(n.parents))})),p.length){for(l=0,c=(g=e.vakata.array_unique(g)).length;l<c;l++)g[l]!==e.jstree.root&&u[g[l]]&&!0===this.open_node(g[l],null,0)&&this._data.search.opn.push(g[l]);o?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,i,r,s){if((t=n.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var o,a,l=null;for(o=0,a=t.childNodes.length;o<a;o++)if(t.childNodes[o]&&t.childNodes[o].className&&-1!==t.childNodes[o].className.indexOf("jstree-anchor")){l=t.childNodes[o];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,i,n){n=n||{},!1!==(n=e.extend({},e.vakata.search.defaults,n)).fuzzy&&(n.fuzzy=!0),t=n.caseSensitive?t:t.toLowerCase();var r,s,o,a,l=n.location,c=n.distance,d=n.threshold,h=t.length;return h>32&&(n.fuzzy=!1),n.fuzzy&&(r=1<<h-1,s=function(){var e={},i=0;for(i=0;i<h;i++)e[t.charAt(i)]=0;for(i=0;i<h;i++)e[t.charAt(i)]|=1<<h-i-1;return e}(),o=function(e,t){var i=e/h,n=Math.abs(l-t);return c?i+n/c:n?1:i}),a=function(e){if(e=n.caseSensitive?e.toString():e.toString().toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!n.fuzzy)return{isMatch:!1,score:1};var i,a,c,u,f,p,g,m,v,_=e.length,y=d,b=e.indexOf(t,l),w=h+_,x=1,k=[];for(-1!==b&&(y=Math.min(o(0,b),y),-1!==(b=e.lastIndexOf(t,l+h))&&(y=Math.min(o(0,b),y))),b=-1,i=0;i<h;i++){for(c=0,u=w;c<u;)o(i,l+u)<=y?c=u:w=u,u=Math.floor((w-c)/2+c);for(w=u,p=Math.max(1,l-u+1),g=Math.min(l+u,_)+h,(m=new Array(g+2))[g+1]=(1<<i)-1,a=g;a>=p;a--)if(v=s[e.charAt(a-1)],m[a]=0===i?(m[a+1]<<1|1)&v:(m[a+1]<<1|1)&v|(f[a+1]|f[a])<<1|1|f[a+1],m[a]&r&&(x=o(i,a-1))<=y){if(y=x,b=a-1,k.push(b),!(b>l))break;p=Math.max(1,2*l-b)}if(o(i+1,l)>y)break;f=m}return{isMatch:b>=0,score:x}},!0===i?{search:a}:a(i)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("model.jstree",function(e,t){this.sort(t.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)}.bind(this))},this.sort=function(e,t){var i,n;if((e=this.get_node(e))&&e.children&&e.children.length&&(e.children.sort(this.settings.sort.bind(this)),t))for(i=0,n=e.children_d.length;i<n;i++)this.sort(e.children_d[i],!1)}};var p=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var e=function(){this.element.on(this.settings.state.events,function(){p&&clearTimeout(p),p=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this)),this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(t,i){this.element.one("restore_state.jstree",e),this.restore_state()||e()}.bind(this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var i={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(i))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.vakata.is_function(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",(function(i,n){n.instance.trigger("restore_state",{state:e.extend(!0,{},t)})})),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(i,n){this.init=function(i,r){var s,o;if(r&&r.types&&r.types.default)for(s in r.types)if("default"!==s&&s!==e.jstree.root&&r.types.hasOwnProperty(s))for(o in r.types.default)r.types.default.hasOwnProperty(o)&&r.types[s][o]===t&&(r.types[s][o]=r.types.default[o]);n.init.call(this,i,r),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,i){n.refresh.call(this,t,i),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",function(i,n){var r,s,o,a=this._model.data,l=n.nodes,c=this.settings.types,d="default";for(r=0,s=l.length;r<s;r++){if(d="default",a[l[r]].original&&a[l[r]].original.type&&c[a[l[r]].original.type]&&(d=a[l[r]].original.type),a[l[r]].data&&a[l[r]].data.jstree&&a[l[r]].data.jstree.type&&c[a[l[r]].data.jstree.type]&&(d=a[l[r]].data.jstree.type),a[l[r]].type=d,!0===a[l[r]].icon&&c[d].icon!==t&&(a[l[r]].icon=c[d].icon),c[d].li_attr!==t&&"object"==typeof c[d].li_attr)for(o in c[d].li_attr)if(c[d].li_attr.hasOwnProperty(o)){if("id"===o)continue;a[l[r]].li_attr[o]===t?a[l[r]].li_attr[o]=c[d].li_attr[o]:"class"===o&&(a[l[r]].li_attr.class=c[d].li_attr.class+" "+a[l[r]].li_attr.class)}if(c[d].a_attr!==t&&"object"==typeof c[d].a_attr)for(o in c[d].a_attr)if(c[d].a_attr.hasOwnProperty(o)){if("id"===o)continue;a[l[r]].a_attr[o]===t?a[l[r]].a_attr[o]=c[d].a_attr[o]:"href"===o&&"#"===a[l[r]].a_attr[o]?a[l[r]].a_attr.href=c[d].a_attr.href:"class"===o&&(a[l[r]].a_attr.class=c[d].a_attr.class+" "+a[l[r]].a_attr.class)}}a[e.jstree.root].type=e.jstree.root}.bind(this)),n.bind.call(this)},this.get_json=function(t,i,r){var s,o,a=this._model.data,l=i?e.extend(!0,{},i,{no_id:!1}):{},c=n.get_json.call(this,t,l,r);if(!1===c)return!1;if(e.vakata.is_array(c))for(s=0,o=c.length;s<o;s++)c[s].type=(c[s].id||0===c[s].id)&&a[c[s].id]&&a[c[s].id].type?a[c[s].id].type:"default",i&&i.no_id&&(delete c[s].id,c[s].li_attr&&c[s].li_attr.id&&delete c[s].li_attr.id,c[s].a_attr&&c[s].a_attr.id&&delete c[s].a_attr.id);else c.type=(c.id||0===c.id)&&a[c.id]&&a[c.id].type?a[c.id].type:"default",i&&i.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.vakata.is_array(t)){for(var i=0,n=t.length;i<n;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.vakata.is_array(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(i,r,s,o,a){if(!1===n.check.call(this,i,r,s,o,a))return!1;r=r&&(r.id||0===r.id)?r:this.get_node(r),s=s&&(s.id||0===s.id)?s:this.get_node(s);var l,c,d,h,u=r&&(r.id||0===r.id)?a&&a.origin?a.origin:e.jstree.reference(r.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===e.inArray(r.id,s.children)){if((l=this.get_rules(s)).max_children!==t&&-1!==l.max_children&&l.max_children===s.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!r||!r.id&&0!==r.id)&&r.id,par:!(!s||!s.id&&0!==s.id)&&s.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(r.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!r||!r.id&&0!==r.id)&&r.id,par:!(!s||!s.id&&0!==s.id)&&s.id})},!1;if(u&&r.children_d&&r.parents){for(c=0,d=0,h=r.children_d.length;d<h;d++)c=Math.max(c,u[r.children_d[d]].parents.length);c=c-r.parents.length+1}(c<=0||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!r||!r.id&&0!==r.id)&&r.id,par:!(!s||!s.id&&0!==s.id)&&s.id})},!1;s=this.get_node(s.parent),l=this.get_rules(s),c++}while(s)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var i=this.get_type(e,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i},this.get_type=function(t,i){return!!(t=this.get_node(t))&&(i?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(i,n){var r,s,o,a,l,c,d,h,u=this._model.data;if(e.vakata.is_array(i)){for(s=0,o=(i=i.slice()).length;s<o;s++)this.set_type(i[s],n);return!0}if(r=this.settings.types,i=this.get_node(i),!r[n]||!i)return!1;if((d=this.get_node(i,!0))&&d.length&&(h=d.children(".jstree-anchor")),a=i.type,l=this.get_icon(i),i.type=n,(!0===l||!r[a]||r[a].icon!==t&&l===r[a].icon)&&this.set_icon(i,r[n].icon===t||r[n].icon),r[a]&&r[a].li_attr!==t&&"object"==typeof r[a].li_attr)for(c in r[a].li_attr)if(r[a].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[i.id].li_attr.class=(u[i.id].li_attr.class||"").replace(r[a].li_attr[c],""),d&&d.removeClass(r[a].li_attr[c])):u[i.id].li_attr[c]===r[a].li_attr[c]&&(u[i.id].li_attr[c]=null,d&&d.removeAttr(c))}if(r[a]&&r[a].a_attr!==t&&"object"==typeof r[a].a_attr)for(c in r[a].a_attr)if(r[a].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[i.id].a_attr.class=(u[i.id].a_attr.class||"").replace(r[a].a_attr[c],""),h&&h.removeClass(r[a].a_attr[c])):u[i.id].a_attr[c]===r[a].a_attr[c]&&("href"===c?(u[i.id].a_attr[c]="#",h&&h.attr("href","#")):(delete u[i.id].a_attr[c],h&&h.removeAttr(c)))}if(r[n].li_attr!==t&&"object"==typeof r[n].li_attr)for(c in r[n].li_attr)if(r[n].li_attr.hasOwnProperty(c)){if("id"===c)continue;u[i.id].li_attr[c]===t?(u[i.id].li_attr[c]=r[n].li_attr[c],d&&("class"===c?d.addClass(r[n].li_attr[c]):d.attr(c,r[n].li_attr[c]))):"class"===c&&(u[i.id].li_attr.class=r[n].li_attr[c]+" "+u[i.id].li_attr.class,d&&d.addClass(r[n].li_attr[c]))}if(r[n].a_attr!==t&&"object"==typeof r[n].a_attr)for(c in r[n].a_attr)if(r[n].a_attr.hasOwnProperty(c)){if("id"===c)continue;u[i.id].a_attr[c]===t?(u[i.id].a_attr[c]=r[n].a_attr[c],h&&("class"===c?h.addClass(r[n].a_attr[c]):h.attr(c,r[n].a_attr[c]))):"href"===c&&"#"===u[i.id].a_attr[c]?(u[i.id].a_attr.href=r[n].a_attr.href,h&&h.attr("href",r[n].a_attr.href)):"class"===c&&(u[i.id].a_attr.class=r[n].a_attr.class+" "+u[i.id].a_attr.class,h&&h.addClass(r[n].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(i,n){this.check=function(t,i,r,s,o){if(!1===n.check.call(this,t,i,r,s,o))return!1;if(i=i&&(i.id||0===i.id)?i:this.get_node(i),!(r=r&&(r.id||0===r.id)?r:this.get_node(r))||!r.children)return!0;var a,l,c,d="rename_node"===t?s:i.text,h=[],u=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(a=0,l=r.children.length;a<l;a++)c=p[r.children[a]].text,u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(c);switch(u||(d=d.toLowerCase()),f&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return c=i.text||"",u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(a=-1===e.inArray(d,h)||i.text&&c===d)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!r||!r.id&&0!==r.id)&&r.id})}),a;case"create_node":return(a=-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!r||!r.id&&0!==r.id)&&r.id})}),a;case"copy_node":return(a=-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!r||!r.id&&0!==r.id)&&r.id})}),a;case"move_node":return(a=i.parent===r.id&&(!o||!o.is_multi)||-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!r||!r.id&&0!==r.id)&&r.id})}),a}return!0},this.create_node=function(i,r,s,o,a){if(!r||"object"==typeof r&&r.text===t){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return n.create_node.call(this,i,r,s,o,a);if(!(s=s===t?"last":s).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return n.create_node.call(this,i,r,s,o,a);r||(r={});var l,c,d,h,u,f,p=this._model.data,g=this.settings.unique.case_sensitive,m=this.settings.unique.trim_whitespace,v=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),d=[],h=0,u=i.children.length;h<u;h++)f=p[i.children[h]].text,g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),d.push(f);for(h=1,f=c,g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(f,d);)f=c=v.call(this,l,++h).toString(),g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));r.text=c}return n.create_node.call(this,i,r,s,o,a)}};var g=l.createElement("DIV");if(g.setAttribute("unselectable","on"),g.setAttribute("role","presentation"),g.className="jstree-wholerow",g.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i,n,r=!1;for(i=0,n=t.selected.length;i<n;i++)(r=this.get_node(t.selected[i],!0))&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(t){if(this._data.contextmenu){t.preventDefault();var i=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)}}.bind(this)).on("click.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")})).on("dblclick.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var i=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")})).on("click.jstree",".jstree-leaf > .jstree-ocl",function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(e){this.dehover_node(e.currentTarget)}.bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(t,n,r,s){if(t=i.redraw_node.apply(this,arguments)){var o=g.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(o.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(o.className+=" jstree-wholerow-hovered"),t.insertBefore(o,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var m=Object.create(HTMLElement.prototype);m.createdCallback=function(){var t,i={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(i)};try{window.customElements.define("vakata-jstree",(function(){}),{prototype:m})}catch(e){}}},void 0===(s="function"==typeof n?n.apply(t,r):n)||(e.exports=s)}()},686:(e,t,i)=>{var n,r,s,o=i(9755);r=[i(9755)],n=function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var i,n,r;return t&&t.requirejs||(t?n=t:t={},function(e){var t,s,o,a,l={},c={},d={},h={},u=Object.prototype.hasOwnProperty,f=[].slice,p=/\.js$/;function g(e,t){return u.call(e,t)}function m(e,t){var i,n,r,s,o,a,l,c,h,u,f,g=t&&t.split("/"),m=d.map,v=m&&m["*"]||{};if(e){for(o=(e=e.split("/")).length-1,d.nodeIdCompat&&p.test(e[o])&&(e[o]=e[o].replace(p,"")),"."===e[0].charAt(0)&&g&&(e=g.slice(0,g.length-1).concat(e)),h=0;h<e.length;h++)if("."===(f=e[h]))e.splice(h,1),h-=1;else if(".."===f){if(0===h||1===h&&".."===e[2]||".."===e[h-1])continue;h>0&&(e.splice(h-1,2),h-=2)}e=e.join("/")}if((g||v)&&m){for(h=(i=e.split("/")).length;h>0;h-=1){if(n=i.slice(0,h).join("/"),g)for(u=g.length;u>0;u-=1)if((r=m[g.slice(0,u).join("/")])&&(r=r[n])){s=r,a=h;break}if(s)break;!l&&v&&v[n]&&(l=v[n],c=h)}!s&&l&&(s=l,a=c),s&&(i.splice(0,a,s),e=i.join("/"))}return e}function v(t,i){return function(){var n=f.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),s.apply(e,n.concat([t,i]))}}function _(e){return function(t){return m(t,e)}}function y(e){return function(t){l[e]=t}}function b(i){if(g(c,i)){var n=c[i];delete c[i],h[i]=!0,t.apply(e,n)}if(!g(l,i)&&!g(h,i))throw new Error("No "+i);return l[i]}function w(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function x(e){return e?w(e):[]}function k(e){return function(){return d&&d.config&&d.config[e]||{}}}o=function(e,t){var i,n=w(e),r=n[0],s=t[1];return e=n[1],r&&(i=b(r=m(r,s))),r?e=i&&i.normalize?i.normalize(e,_(s)):m(e,s):(r=(n=w(e=m(e,s)))[0],e=n[1],r&&(i=b(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:i}},a={require:function(e){return v(e)},exports:function(e){var t=l[e];return void 0!==t?t:l[e]={}},module:function(e){return{id:e,uri:"",exports:l[e],config:k(e)}}},t=function(t,i,n,r){var s,d,u,f,p,m,_,w=[],k=typeof n;if(m=x(r=r||t),"undefined"===k||"function"===k){for(i=!i.length&&n.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if("require"===(d=(f=o(i[p],m)).f))w[p]=a.require(t);else if("exports"===d)w[p]=a.exports(t),_=!0;else if("module"===d)s=w[p]=a.module(t);else if(g(l,d)||g(c,d)||g(h,d))w[p]=b(d);else{if(!f.p)throw new Error(t+" missing "+d);f.p.load(f.n,v(r,!0),y(d),{}),w[p]=l[d]}u=n?n.apply(l[t],w):void 0,t&&(s&&s.exports!==e&&s.exports!==l[t]?l[t]=s.exports:u===e&&_||(l[t]=u))}else t&&(l[t]=n)},i=n=s=function(i,n,r,l,c){if("string"==typeof i)return a[i]?a[i](n):b(o(i,x(n)).f);if(!i.splice){if((d=i).deps&&s(d.deps,d.callback),!n)return;n.splice?(i=n,n=r,r=null):i=e}return n=n||function(){},"function"==typeof r&&(r=l,l=c),l?t(e,i,n,r):setTimeout((function(){t(e,i,n,r)}),4),s},s.config=function(e){return s(e)},i._defined=l,(r=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),g(l,e)||g(c,e)||(c[e]=[e,t,i])}).amd={jQuery:!0}}(),t.requirejs=i,t.require=n,t.define=r),t.define("almond",(function(){})),t.define("jquery",[],(function(){var t=e||o;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t})),t.define("select2/utils",["jquery"],(function(e){var t={};function i(e){var t=e.prototype,i=[];for(var n in t)"function"==typeof t[n]&&"constructor"!==n&&i.push(n);return i}t.Extend=function(e,t){var i={}.hasOwnProperty;function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},t.Decorate=function(e,t){var n=i(t),r=i(e);function s(){var i=Array.prototype.unshift,n=t.prototype.constructor.length,r=e.prototype.constructor;n>0&&(i.call(arguments,e.prototype.constructor),r=t.prototype.constructor),r.apply(this,arguments)}function o(){this.constructor=s}t.displayName=e.displayName,s.prototype=new o;for(var a=0;a<r.length;a++){var l=r[a];s.prototype[l]=e.prototype[l]}for(var c=function(e){var i=function(){};e in s.prototype&&(i=s.prototype[e]);var n=t.prototype[e];return function(){return Array.prototype.unshift.call(arguments,i),n.apply(this,arguments)}},d=0;d<n.length;d++){var h=n[d];s.prototype[h]=c(h)}return s};var n=function(){this.listeners={}};n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},t.Observable=n,t.generateChars=function(e){for(var t="",i=0;i<e;i++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var r=0;r<i.length;r++){var s=i[r];(s=s.substring(0,1).toLowerCase()+s.substring(1))in n||(n[s]={}),r==i.length-1&&(n[s]=e[t]),n=n[s]}delete e[t]}}return e},t.hasScroll=function(t,i){var n=e(i),r=i.style.overflowX,s=i.style.overflowY;return(r!==s||"hidden"!==s&&"visible"!==s)&&("scroll"===r||"scroll"===s||n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,(function(e){return t[e]}))},t.__cache={};var r=0;return t.GetUniqueElementId=function(e){var i=e.getAttribute("data-select2-id");return null!=i||(i=e.id?"select2-data-"+e.id:"select2-data-"+(++r).toString()+"-"+t.generateChars(4),e.setAttribute("data-select2-id",i)),i},t.StoreData=function(e,i,n){var r=t.GetUniqueElementId(e);t.__cache[r]||(t.__cache[r]={}),t.__cache[r][i]=n},t.GetData=function(i,n){var r=t.GetUniqueElementId(i);return n?t.__cache[r]&&null!=t.__cache[r][n]?t.__cache[r][n]:e(i).data(n):t.__cache[r]},t.RemoveData=function(e){var i=t.GetUniqueElementId(e);null!=t.__cache[i]&&delete t.__cache[i],e.removeAttribute("data-select2-id")},t.copyNonInternalCssClasses=function(e,t){var i=e.getAttribute("class").trim().split(/\s+/);i=i.filter((function(e){return 0===e.indexOf("select2-")}));var n=t.getAttribute("class").trim().split(/\s+/);n=n.filter((function(e){return 0!==e.indexOf("select2-")}));var r=i.concat(n);e.setAttribute("class",r.join(" "))},t})),t.define("select2/results",["jquery","./utils"],(function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);n.append(i(r(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],r=this.option(n);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option--selectable"),t=e.filter(".select2-results__option--selected");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current((function(n){var r=n.map((function(e){return e.id.toString()}));i.$results.find(".select2-results__option--selectable").each((function(){var i=e(this),n=t.GetData(this,"data"),s=""+n.id;null!=n.element&&n.element.selected||null==n.element&&r.indexOf(s)>-1?(this.classList.add("select2-results__option--selected"),i.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),i.attr("aria-selected","false"))}))}))},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},i=this.option(t);i.className+=" loading-results",this.$results.prepend(i)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var n=document.createElement("li");n.classList.add("select2-results__option"),n.classList.add("select2-results__option--selectable");var r={role:"option"},s=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var o in(null!=i.element&&s.call(i.element,":disabled")||null==i.element&&i.disabled)&&(r["aria-disabled"]="true",n.classList.remove("select2-results__option--selectable"),n.classList.add("select2-results__option--disabled")),null==i.id&&n.classList.remove("select2-results__option--selectable"),null!=i._resultId&&(n.id=i._resultId),i.title&&(n.title=i.title),i.children&&(r.role="group",r["aria-label"]=i.text,n.classList.remove("select2-results__option--selectable"),n.classList.add("select2-results__option--group")),r){var a=r[o];n.setAttribute(o,a)}if(i.children){var l=e(n),c=document.createElement("strong");c.className="select2-results__group",this.template(i,c);for(var d=[],h=0;h<i.children.length;h++){var u=i.children[h],f=this.option(u);d.push(f)}var p=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});p.append(d),l.append(c),l.append(p)}else this.template(i,n);return t.StoreData(n,"data",i),n},i.prototype.bind=function(i,n){var r=this,s=i.id+"-results";this.$results.attr("id",s),i.on("results:all",(function(e){r.clear(),r.append(e.data),i.isOpen()&&(r.setClasses(),r.highlightFirstItem())})),i.on("results:append",(function(e){r.append(e.data),i.isOpen()&&r.setClasses()})),i.on("query",(function(e){r.hideMessages(),r.showLoading(e)})),i.on("select",(function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),i.on("unselect",(function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())})),i.on("open",(function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()})),i.on("close",(function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")})),i.on("results:toggle",(function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")})),i.on("results:select",(function(){var e=r.getHighlightedResults();if(0!==e.length){var i=t.GetData(e[0],"data");e.hasClass("select2-results__option--selected")?r.trigger("close",{}):r.trigger("select",{data:i})}})),i.on("results:previous",(function(){var e=r.getHighlightedResults(),t=r.$results.find(".select2-results__option--selectable"),i=t.index(e);if(!(i<=0)){var n=i-1;0===e.length&&(n=0);var s=t.eq(n);s.trigger("mouseenter");var o=r.$results.offset().top,a=s.offset().top,l=r.$results.scrollTop()+(a-o);0===n?r.$results.scrollTop(0):a-o<0&&r.$results.scrollTop(l)}})),i.on("results:next",(function(){var e=r.getHighlightedResults(),t=r.$results.find(".select2-results__option--selectable"),i=t.index(e)+1;if(!(i>=t.length)){var n=t.eq(i);n.trigger("mouseenter");var s=r.$results.offset().top+r.$results.outerHeight(!1),o=n.offset().top+n.outerHeight(!1),a=r.$results.scrollTop()+o-s;0===i?r.$results.scrollTop(0):o>s&&r.$results.scrollTop(a)}})),i.on("results:focus",(function(e){e.element[0].classList.add("select2-results__option--highlighted"),e.element[0].setAttribute("aria-selected","true")})),i.on("results:message",(function(e){r.displayMessage(e)})),e.fn.mousewheel&&this.$results.on("mousewheel",(function(e){var t=r.$results.scrollTop(),i=r.$results.get(0).scrollHeight-t+e.deltaY,n=e.deltaY>0&&t-e.deltaY<=0,s=e.deltaY<0&&i<=r.$results.height();n?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):s&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())})),this.$results.on("mouseup",".select2-results__option--selectable",(function(i){var n=e(this),s=t.GetData(this,"data");n.hasClass("select2-results__option--selected")?r.options.get("multiple")?r.trigger("unselect",{originalEvent:i,data:s}):r.trigger("close",{}):r.trigger("select",{originalEvent:i,data:s})})),this.$results.on("mouseenter",".select2-results__option--selectable",(function(i){var n=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),r.trigger("results:focus",{data:n,element:e(this)})}))},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find(".select2-results__option--selectable").index(e),i=this.$results.offset().top,n=e.offset().top,r=this.$results.scrollTop()+(n-i),s=n-i;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),s=n(t,i);null==s?i.style.display="none":"string"==typeof s?i.innerHTML=r(s):e(i).append(s)},i})),t.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),t.define("select2/selection/base",["jquery","../utils","../keys"],(function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var i=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),i.attr("aria-disabled","false"),this.$selection=i,i},n.prototype.bind=function(e,t){var n=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",(function(e){n.trigger("focus",e)})),this.$selection.on("blur",(function(e){n._handleBlur(e)})),this.$selection.on("keydown",(function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()})),e.on("results:focus",(function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)})),e.on("selection:update",(function(e){n.update(e.data)})),e.on("open",(function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(e)})),e.on("close",(function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(e)})),e.on("enable",(function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")})),e.on("disable",(function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")}))},n.prototype._handleBlur=function(t){var i=this;window.setTimeout((function(){document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)}),1)},n.prototype._attachCloseHandler=function(i){e(document.body).on("mousedown.select2."+i.id,(function(i){var n=e(i.target).closest(".select2");e(".select2.select2-container--open").each((function(){this!=n[0]&&t.GetData(this,"element").select2("close")}))}))},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){t.find(".selection").append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n.prototype.isEnabled=function(){return!this.isDisabled()},n.prototype.isDisabled=function(){return this.options.get("disabled")},n})),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(e,t,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e[0].classList.add("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.attr("aria-controls",n),this.$selection.on("mousedown",(function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})})),this.$selection.on("focus",(function(e){})),this.$selection.on("blur",(function(e){})),e.on("focus",(function(t){e.isOpen()||i.$selection.trigger("focus")}))},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(t,i);i.empty().append(n);var r=t.title||t.text;r?i.attr("title",r):i.removeAttr("title")}else this.clear()},r})),t.define("select2/selection/multiple",["jquery","./base","../utils"],(function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e[0].classList.add("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,r){var s=this;n.__super__.bind.apply(this,arguments);var o=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",o),this.$selection.on("click",(function(e){s.trigger("toggle",{originalEvent:e})})),this.$selection.on("click",".select2-selection__choice__remove",(function(t){if(!s.isDisabled()){var n=e(this).parent(),r=i.GetData(n[0],"data");s.trigger("unselect",{originalEvent:t,data:r})}})),this.$selection.on("keydown",".select2-selection__choice__remove",(function(e){s.isDisabled()||e.stopPropagation()}))},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},n.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",r=0;r<e.length;r++){var s=e[r],o=this.selectionContainer(),a=this.display(s,o),l=n+i.generateChars(4)+"-";s.id?l+=s.id:l+=i.generateChars(4),o.find(".select2-selection__choice__display").append(a).attr("id",l);var c=s.title||s.text;c&&o.attr("title",c);var d=this.options.get("translations").get("removeItem"),h=o.find(".select2-selection__choice__remove");h.attr("title",d()),h.attr("aria-label",d()),h.attr("aria-describedby",l),i.StoreData(o[0],"data",s),t.push(o)}this.$selection.find(".select2-selection__rendered").append(t)}},n})),t.define("select2/selection/placeholder",[],(function(){function e(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();i.html(this.display(t)),i[0].classList.add("select2-selection__placeholder"),i[0].classList.remove("select2-selection__choice");var n=t.title||t.text||i.text();return this.$selection.find(".select2-selection__rendered").attr("title",n),i},e.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||i)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e})),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(e,t,i){function n(){}return n.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(e){n._handleClear(e)})),t.on("keypress",(function(e){n._handleKeyboardClear(e,t)}))},n.prototype._handleClear=function(e,t){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var r=i.GetData(n[0],"data"),s=this.$element.val();this.$element.val(this.placeholder.id);var o={data:r};if(this.trigger("clear",o),o.prevented)this.$element.val(s);else{for(var a=0;a<r.length;a++)if(o={data:r[a]},this.trigger("unselect",o),o.prevented)return void this.$element.val(s);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},n.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},n.prototype.update=function(t,n){if(t.call(this,n),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var r=this.$selection.find(".select2-selection__rendered").attr("id"),s=this.options.get("translations").get("removeAllItems"),o=e('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');o.attr("title",s()),o.attr("aria-label",s()),o.attr("aria-describedby",r),i.StoreData(o[0],"data",n),this.$selection.prepend(o),this.$selection[0].classList.add("select2-selection--clearable")}},n})),t.define("select2/selection/search",["jquery","../utils","../keys"],(function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=this.options.get("translations").get("search"),n=e('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=n,this.$search=n.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",i());var r=t.call(this);return this._transferTabIndex(),r.append(this.$searchContainer),r},n.prototype.bind=function(e,n,r){var s=this,o=n.id+"-results",a=n.id+"-container";e.call(this,n,r),s.$search.attr("aria-describedby",a),n.on("open",(function(){s.$search.attr("aria-controls",o),s.$search.trigger("focus")})),n.on("close",(function(){s.$search.val(""),s.resizeSearch(),s.$search.removeAttr("aria-controls"),s.$search.removeAttr("aria-activedescendant"),s.$search.trigger("focus")})),n.on("enable",(function(){s.$search.prop("disabled",!1),s._transferTabIndex()})),n.on("disable",(function(){s.$search.prop("disabled",!0)})),n.on("focus",(function(e){s.$search.trigger("focus")})),n.on("results:focus",(function(e){e.data._resultId?s.$search.attr("aria-activedescendant",e.data._resultId):s.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(e){s.trigger("focus",e)})),this.$selection.on("focusout",".select2-search--inline",(function(e){s._handleBlur(e)})),this.$selection.on("keydown",".select2-search--inline",(function(e){if(e.stopPropagation(),s.trigger("keypress",e),s._keyUpPrevented=e.isDefaultPrevented(),e.which===i.BACKSPACE&&""===s.$search.val()){var n=s.$selection.find(".select2-selection__choice").last();if(n.length>0){var r=t.GetData(n[0],"data");s.searchRemoveChoice(r),e.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(e){s.$search.val()&&e.stopPropagation()}));var l=document.documentMode,c=l&&l<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(e){c?s.$selection.off("input.search input.searchcheck"):s.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(e){if(c&&"input"===e.type)s.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&s.handleSearch(e)}}))},n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.resizeSearch(),i&&this.$search.trigger("focus")},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="100%";""===this.$search.attr("placeholder")&&(e=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",e)},n})),t.define("select2/selection/selectionCss",["../utils"],(function(e){function t(){}return t.prototype.render=function(t){var i=t.call(this),n=this.options.get("selectionCssClass")||"";return-1!==n.indexOf(":all:")&&(n=n.replace(":all:",""),e.copyNonInternalCssClasses(i[0],this.$element[0])),i.addClass(n),i},t})),t.define("select2/selection/eventRelay",["jquery"],(function(e){function t(){}return t.prototype.bind=function(t,i,n){var r=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];t.call(this,i,n),i.on("*",(function(t,i){if(-1!==s.indexOf(t)){i=i||{};var n=e.Event("select2:"+t,{params:i});r.$element.trigger(n),-1!==o.indexOf(t)&&(i.prevented=n.isDefaultPrevented())}}))},t})),t.define("select2/translation",["jquery","require"],(function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i})),t.define("select2/diacritics",[],(function(){return{"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Œ:"OE",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",œ:"oe",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ώ:"ω",ς:"σ","’":"'"}})),t.define("select2/data/base",["../utils"],(function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return n+=e.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+e.generateChars(4),n},t})),t.define("select2/data/select",["./base","../utils","jquery"],(function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=this;e(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),(function(e){return t.item(i(e))})))},n.prototype.select=function(e){var t=this;if(e.selected=!0,null!=e.element&&"option"===e.element.tagName.toLowerCase())return e.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current((function(i){var n=[];(e=[e]).push.apply(e,i);for(var r=0;r<e.length;r++){var s=e[r].id;-1===n.indexOf(s)&&n.push(s)}t.$element.val(n),t.$element.trigger("input").trigger("change")}));else{var i=e.id;this.$element.val(i),this.$element.trigger("input").trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,null!=e.element&&"option"===e.element.tagName.toLowerCase())return e.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(i){for(var n=[],r=0;r<i.length;r++){var s=i[r].id;s!==e.id&&-1===n.indexOf(s)&&n.push(s)}t.$element.val(n),t.$element.trigger("input").trigger("change")}))}},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",(function(e){i.select(e.data)})),e.on("unselect",(function(e){i.unselect(e.data)}))},n.prototype.destroy=function(){this.$element.find("*").each((function(){t.RemoveData(this)}))},n.prototype.query=function(e,t){var n=[],r=this;this.$element.children().each((function(){if("option"===this.tagName.toLowerCase()||"optgroup"===this.tagName.toLowerCase()){var t=i(this),s=r.item(t),o=r.matches(e,s);null!==o&&n.push(o)}})),t({results:n})},n.prototype.addOptions=function(e){this.$element.append(e)},n.prototype.option=function(e){var n;e.children?(n=document.createElement("optgroup")).label=e.text:void 0!==(n=document.createElement("option")).textContent?n.textContent=e.text:n.innerText=e.text,void 0!==e.id&&(n.value=e.id),e.disabled&&(n.disabled=!0),e.selected&&(n.selected=!0),e.title&&(n.title=e.title);var r=this._normalizeItem(e);return r.element=n,t.StoreData(n,"data",r),i(n)},n.prototype.item=function(e){var n={};if(null!=(n=t.GetData(e[0],"data")))return n;var r=e[0];if("option"===r.tagName.toLowerCase())n={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if("optgroup"===r.tagName.toLowerCase()){n={text:e.prop("label"),children:[],title:e.prop("title")};for(var s=e.children("option"),o=[],a=0;a<s.length;a++){var l=i(s[a]),c=this.item(l);o.push(c)}n.children=o}return(n=this._normalizeItem(n)).element=e[0],t.StoreData(e[0],"data",n),n},n.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});var t={selected:!1,disabled:!1};return null!=(e=i.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},t,e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n})),t.define("select2/data/array",["./select","../utils","jquery"],(function(e,t,i){function n(e,t){this._dataToConvert=t.get("data")||[],n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype.bind=function(e,t){n.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(e){var t=this.$element.find("option").filter((function(t,i){return i.value==e.id.toString()}));0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){var t=this,n=this.$element.find("option"),r=n.map((function(){return t.item(i(this)).id})).get(),s=[];function o(e){return function(){return i(this).val()==e.id}}for(var a=0;a<e.length;a++){var l=this._normalizeItem(e[a]);if(r.indexOf(l.id)>=0){var c=n.filter(o(l)),d=this.item(c),h=i.extend(!0,{},l,d),u=this.option(h);c.replaceWith(u)}else{var f=this.option(l);if(l.children){var p=this.convertToOptions(l.children);f.append(p)}s.push(f)}}return s},n})),t.define("select2/data/ajax",["./array","../utils","jquery"],(function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var r=i.ajax(e);return r.then(t),r.fail(n),r}};return i.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){var n=this;null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);function s(){var i=r.transport(r,(function(i){var r=n.processResults(i,e);n.options.get("debug")&&window.console&&console.error&&(r&&r.results&&Array.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(r)}),(function(){(!("status"in i)||0!==i.status&&"0"!==i.status)&&n.trigger("results:message",{message:"errorLoading"})}));n._request=i}"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(s,this.ajaxOptions.delay)):s()},n})),t.define("select2/data/tags",["jquery"],(function(e){function t(e,t,i){var n=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,t,i),Array.isArray(n))for(var o=0;o<n.length;o++){var a=n[o],l=this._normalizeItem(a),c=this.option(l);this.$element.append(c)}}return t.prototype.query=function(e,t,i){var n=this;function r(e,s){for(var o=e.results,a=0;a<o.length;a++){var l=o[a],c=null!=l.children&&!r({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||c)return!s&&(e.data=o,void i(e))}if(s)return!0;var d=n.createTag(t);if(null!=d){var h=n.option(d);h.attr("data-select2-tag","true"),n.addOptions([h]),n.insertTag(o,d)}e.results=o,i(e)}this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,r):e.call(this,t,i)},t.prototype.createTag=function(e,t){if(null==t.term)return null;var i=t.term.trim();return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each((function(){this.selected||e(this).remove()}))},t})),t.define("select2/data/tokenizer",["jquery"],(function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,n){var r=this;function s(t){var i=r._normalizeItem(t);if(!r.$element.find("option").filter((function(){return e(this).val()===i.id})).length){var n=r.option(i);n.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([n])}o(i)}function o(e){r.trigger("select",{data:e})}i.term=i.term||"";var a=this.tokenizer(i,this.options,s);a.term!==i.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.trigger("focus")),i.term=a.term),t.call(this,i,n)},t.prototype.tokenizer=function(t,i,n,r){for(var s=n.get("tokenSeparators")||[],o=i.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<o.length;){var c=o[a];if(-1!==s.indexOf(c)){var d=o.substr(0,a),h=l(e.extend({},i,{term:d}));null!=h?(r(h),o=o.substr(a+1)||"",a=0):a++}else a++}return{term:o}},t})),t.define("select2/data/minimumInputLength",[],(function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e})),t.define("select2/data/maximumInputLength",[],(function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e})),t.define("select2/data/maximumSelectionLength",[],(function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",(function(){n._checkIfMaximumSelected()}))},e.prototype.query=function(e,t,i){var n=this;this._checkIfMaximumSelected((function(){e.call(n,t,i)}))},e.prototype._checkIfMaximumSelected=function(e,t){var i=this;this.current((function(e){var n=null!=e?e.length:0;i.maximumSelectionLength>0&&n>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t&&t()}))},e})),t.define("select2/dropdown",["jquery","./utils"],(function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i})),t.define("select2/dropdown/search",["jquery"],(function(e){function t(){}return t.prototype.render=function(t){var i=t.call(this),n=this.options.get("translations").get("search"),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",n()),i.prepend(r),i},t.prototype.bind=function(t,i,n){var r=this,s=i.id+"-results";t.call(this,i,n),this.$search.on("keydown",(function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()})),this.$search.on("input",(function(t){e(this).off("keyup")})),this.$search.on("keyup input",(function(e){r.handleSearch(e)})),i.on("open",(function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",s),r.$search.trigger("focus"),window.setTimeout((function(){r.$search.trigger("focus")}),0)})),i.on("close",(function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")})),i.on("focus",(function(){i.isOpen()||r.$search.trigger("focus")})),i.on("results:all",(function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer[0].classList.remove("select2-search--hide"):r.$searchContainer[0].classList.add("select2-search--hide"))})),i.on("results:focus",(function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")}))},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t})),t.define("select2/dropdown/hidePlaceholder",[],(function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var r=t[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},e})),t.define("select2/dropdown/infiniteScroll",["jquery"],(function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("query",(function(e){n.lastParams=e,n.loading=!0})),t.on("query:append",(function(e){n.lastParams=e,n.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t})),t.define("select2/dropdown/attachBody",["jquery","../utils"],(function(e,t){function i(t,i,n){this.$dropdownParent=e(n.get("dropdownParent")||document.body),t.call(this,i,n)}return i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("open",(function(){n._showDropdown(),n._attachPositioningHandler(t),n._bindContainerResultHandlers(t)})),t.on("close",(function(){n._hideDropdown(),n._detachPositioningHandler(t)})),this.$dropdownContainer.on("mousedown",(function(e){e.stopPropagation()}))},i.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t[0].classList.remove("select2"),t[0].classList.add("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var i=this;t.on("results:all",(function(){i._positionDropdown(),i._resizeDropdown()})),t.on("results:append",(function(){i._positionDropdown(),i._resizeDropdown()})),t.on("results:message",(function(){i._positionDropdown(),i._resizeDropdown()})),t.on("select",(function(){i._positionDropdown(),i._resizeDropdown()})),t.on("unselect",(function(){i._positionDropdown(),i._resizeDropdown()})),this._containerResultsHandlersBound=!0}},i.prototype._attachPositioningHandler=function(i,n){var r=this,s="scroll.select2."+n.id,o="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(t.hasScroll);l.each((function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})})),l.on(s,(function(i){var n=t.GetData(this,"select2-scroll-position");e(this).scrollTop(n.y)})),e(window).on(s+" "+o+" "+a,(function(e){r._positionDropdown(),r._resizeDropdown()}))},i.prototype._detachPositioningHandler=function(i,n){var r="scroll.select2."+n.id,s="resize.select2."+n.id,o="orientationchange.select2."+n.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+s+" "+o)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown[0].classList.contains("select2-dropdown--above"),n=this.$dropdown[0].classList.contains("select2-dropdown--below"),r=null,s=this.$container.offset();s.bottom=s.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=s.top,o.bottom=s.top+o.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<s.top-a.height,d=l.bottom>s.bottom+a.height,h={left:s.left,top:o.bottom},u=this.$dropdownParent;"static"===u.css("position")&&(u=u.offsetParent());var f={top:0,left:0};(e.contains(document.body,u[0])||u[0].isConnected)&&(f=u.offset()),h.top-=f.top,h.left-=f.left,i||n||(r="below"),d||!c||i?!c&&d&&i&&(r="below"):r="above",("above"==r||i&&"below"!==r)&&(h.top=o.top-f.top-a.height),null!=r&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+r),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+r)),this.$dropdownContainer.css(h)},i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i})),t.define("select2/dropdown/minimumResultsForSearch",[],(function(){function e(t){for(var i=0,n=0;n<t.length;n++){var r=t[n];r.children?i+=e(r.children):i++}return i}function t(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return t.prototype.showSearch=function(t,i){return!(e(i.data.results)<this.minimumResultsForSearch)&&t.call(this,i)},t})),t.define("select2/dropdown/selectOnClose",["../utils"],(function(e){function t(){}return t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",(function(e){n._handleSelectOnClose(e)}))},t.prototype._handleSelectOnClose=function(t,i){if(i&&null!=i.originalSelect2Event){var n=i.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var s=e.GetData(r[0],"data");null!=s.element&&s.element.selected||null==s.element&&s.selected||this.trigger("select",{data:s})}},t})),t.define("select2/dropdown/closeOnSelect",[],(function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",(function(e){n._selectTriggered(e)})),t.on("unselect",(function(e){n._selectTriggered(e)}))},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},e})),t.define("select2/dropdown/dropdownCss",["../utils"],(function(e){function t(){}return t.prototype.render=function(t){var i=t.call(this),n=this.options.get("dropdownCssClass")||"";return-1!==n.indexOf(":all:")&&(n=n.replace(":all:",""),e.copyNonInternalCssClasses(i[0],this.$element[0])),i.addClass(n),i},t})),t.define("select2/dropdown/tagsSearchHighlight",["../utils"],(function(e){function t(){}return t.prototype.highlightFirstItem=function(t){var i=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(i.length>0){var n=i.first(),r=e.GetData(n[0],"data").element;if(r&&r.getAttribute&&"true"===r.getAttribute("data-select2-tag"))return void n.trigger("mouseenter")}t.call(this)},t})),t.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}})),t.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],(function(e,t,i,n,r,s,o,a,l,c,d,h,u,f,p,g,m,v,_,y,b,w,x,k,E,T,S,j,C,A,L){function D(){this.reset()}return D.prototype.apply=function(d){if(null==(d=e.extend(!0,{},this.defaults,d)).dataAdapter&&(null!=d.ajax?d.dataAdapter=p:null!=d.data?d.dataAdapter=f:d.dataAdapter=u,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,_)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,m))),null==d.resultsAdapter&&(d.resultsAdapter=t,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,x)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,S)),d.tags&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,A))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=b;else{var h=c.Decorate(b,w);d.dropdownAdapter=h}0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,j)),null!=d.dropdownCssClass&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,C)),d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)}null==d.selectionAdapter&&(d.multiple?d.selectionAdapter=n:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,o)),null!=d.selectionCssClass&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),d.selectionAdapter=c.Decorate(d.selectionAdapter,l)),d.language=this._resolveLanguage(d.language),d.language.push("en");for(var L=[],D=0;D<d.language.length;D++){var O=d.language[D];-1===L.indexOf(O)&&L.push(O)}return d.language=L,d.translations=this._processTranslations(d.language,d.debug),d},D.prototype.reset=function(){function t(e){function t(e){return h[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function i(n,r){if(null==n.term||""===n.term.trim())return r;if(r.children&&r.children.length>0){for(var s=e.extend(!0,{},r),o=r.children.length-1;o>=0;o--)null==i(n,r.children[o])&&s.children.splice(o,1);return s.children.length>0?s:i(n,s)}var a=t(r.text).toUpperCase(),l=t(n.term).toUpperCase();return a.indexOf(l)>-1?r:null}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},D.prototype.applyFromElement=function(e,t){var i=e.language,n=this.defaults.language,r=t.prop("lang"),s=t.closest("[lang]").prop("lang"),o=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(s));return e.language=o,e},D.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var i;i=Array.isArray(t)?t:[t];for(var n=[],r=0;r<i.length;r++)if(n.push(i[r]),"string"==typeof i[r]&&i[r].indexOf("-")>0){var s=i[r].split("-")[0];n.push(s)}return n},D.prototype._processTranslations=function(t,i){for(var n=new d,r=0;r<t.length;r++){var s=new d,o=t[r];if("string"==typeof o)try{s=d.loadPath(o)}catch(e){try{o=this.defaults.amdLanguageBase+o,s=d.loadPath(o)}catch(e){i&&window.console&&console.warn&&console.warn('Select2: The language file for "'+o+'" could not be automatically loaded. A fallback will be used instead.')}}else s=e.isPlainObject(o)?new d(o):o;n.extend(s)}return n},D.prototype.set=function(t,i){var n={};n[e.camelCase(t)]=i;var r=c._convertData(n);e.extend(!0,this.defaults,r)},new D})),t.define("select2/options",["jquery","./defaults","./utils"],(function(e,t,i){function n(e,i){this.options=e,null!=i&&this.fromElement(i),null!=i&&(this.options=t.applyFromElement(this.options,i)),this.options=t.apply(this.options)}return n.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.autocomplete&&t.prop("autocomplete")&&(this.options.autocomplete=t.prop("autocomplete")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),i.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(t[0],"data",i.GetData(t[0],"select2Tags")),i.StoreData(t[0],"tags",!0)),i.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",i.GetData(t[0],"ajaxUrl")),i.StoreData(t[0],"ajax-Url",i.GetData(t[0],"ajaxUrl")));var r={};function s(e,t){return t.toUpperCase()}for(var o=0;o<t[0].attributes.length;o++){var a=t[0].attributes[o].name,l="data-";if(a.substr(0,l.length)==l){var c=a.substring(l.length),d=i.GetData(t[0],c);r[c.replace(/-([a-z])/g,s)]=d}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(r=e.extend(!0,{},t[0].dataset,r));var h=e.extend(!0,{},i.GetData(t[0]),r);for(var u in h=i._convertData(h))n.indexOf(u)>-1||(e.isPlainObject(this.options[u])?e.extend(this.options[u],h[u]):this.options[u]=h[u]);return this},n.prototype.get=function(e){return this.options[e]},n.prototype.set=function(e,t){this.options[e]=t},n})),t.define("select2/core",["jquery","./options","./utils","./keys"],(function(e,t,i,n){var r=function(e,n){null!=i.GetData(e[0],"select2")&&i.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),r.__super__.constructor.call(this);var s=e.attr("tabindex")||0;i.StoreData(e[0],"old-tabindex",s),e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var c=this.options.get("dropdownAdapter");this.dropdown=new c(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var d=this.options.get("resultsAdapter");this.results=new d(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var h=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(e){h.trigger("selection:update",{data:e})})),e[0].classList.add("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),i.StoreData(e[0],"select2",this),e.data("select2",this)};return i.Extend(r,i.Observable),r.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==t){var s=e.attr("style");if("string"!=typeof s)return null;for(var o=s.split(";"),a=0,l=o.length;a<l;a+=1){var c=o[a].replace(/\s/g,"").match(i);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==t?window.getComputedStyle(e[0]).width:t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",(function(){e.dataAdapter.current((function(t){e.trigger("selection:update",{data:t})}))})),this.$element.on("focus.select2",(function(t){e.trigger("focus",t)})),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this._observer=new window.MutationObserver((function(t){e._syncA(),e._syncS(t)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",(function(t,i){e.trigger(t,i)}))},r.prototype._registerSelectionEvents=function(){var e=this,t=["toggle","focus"];this.selection.on("toggle",(function(){e.toggleDropdown()})),this.selection.on("focus",(function(t){e.focus(t)})),this.selection.on("*",(function(i,n){-1===t.indexOf(i)&&e.trigger(i,n)}))},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",(function(t,i){e.trigger(t,i)}))},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",(function(t,i){e.trigger(t,i)}))},r.prototype._registerEvents=function(){var e=this;this.on("open",(function(){e.$container[0].classList.add("select2-container--open")})),this.on("close",(function(){e.$container[0].classList.remove("select2-container--open")})),this.on("enable",(function(){e.$container[0].classList.remove("select2-container--disabled")})),this.on("disable",(function(){e.$container[0].classList.add("select2-container--disabled")})),this.on("blur",(function(){e.$container[0].classList.remove("select2-container--focus")})),this.on("query",(function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,(function(i){e.trigger("results:all",{data:i,query:t})}))})),this.on("query:append",(function(t){this.dataAdapter.query(t,(function(i){e.trigger("results:append",{data:i,query:t})}))})),this.on("keypress",(function(t){var i=t.which;e.isOpen()?i===n.ESC||i===n.UP&&t.altKey?(e.close(t),t.preventDefault()):i===n.ENTER||i===n.TAB?(e.trigger("results:select",{}),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):i===n.UP?(e.trigger("results:previous",{}),t.preventDefault()):i===n.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey)&&(e.open(),t.preventDefault())}))},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._isChangeMutation=function(e){var t=this;if(e.addedNodes&&e.addedNodes.length>0){for(var i=0;i<e.addedNodes.length;i++)if(e.addedNodes[i].selected)return!0}else{if(e.removedNodes&&e.removedNodes.length>0)return!0;if(Array.isArray(e))return e.some((function(e){return t._isChangeMutation(e)}))}return!1},r.prototype._syncSubtree=function(e){var t=this._isChangeMutation(e),i=this;t&&this.dataAdapter.current((function(e){i.trigger("selection:update",{data:e})}))},r.prototype.trigger=function(e,t){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in n){var s=n[e],o={prevented:!1,name:e,args:t};if(i.call(this,s,o),o.prevented)return void(t.prevented=!0)}i.call(this,e,t)},r.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},r.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},r.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current((function(t){e=t})),e},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];Array.isArray(t)&&(t=t.map((function(e){return e.toString()}))),this.$element.val(t).trigger("input").trigger("change")},r.prototype.destroy=function(){i.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),i.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),i.StoreData(t[0],"element",this.$element),t},r})),t.define("jquery-mousewheel",["jquery"],(function(e){return e})),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(e,t,i,n,r){if(null==e.fn.select2){var s=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each((function(){var n=e.extend(!0,{},t);new i(e(this),n)})),this;if("string"==typeof t){var n,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var e=r.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,o)})),s.indexOf(t)>-1?this:n}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),i})),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return e.fn.select2.amd=t,i},void 0===(s="function"==typeof n?n.apply(t,r):n)||(e.exports=s)}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=i(7099),t=(i(7568),i(7727)),n=i.n(t),r=i(9755),s=i(9755),o=function(){var t,i,o=null,a=[],l=!0,c=!0,d="";const h=()=>{t||(i=document.querySelector("#tag_dialog"),t=new bootstrap.Modal(i,{height:"auto",width:650,show:!1}))},u=n=>{n.preventDefault();let r=n.target;axios.post(r.action,new FormData(r),axiosConfig).then((n=>{"application/json"===n.headers["content-type"]&&"ok"===n.data.result&&(t.hide(),e.x.createInitCmsMessageBox(n.data.status,n.data.message),y(n.data.json,n.data.objectId)),i.querySelector(".modal-content").innerHTML=n.data,i.querySelector("form").addEventListener("submit",u),e.x.initSpecialFields()})).catch((e=>{console.log(e)}))},f=()=>{CMSApp.create_xeditable(".tag_link",{toggle:"manual",url:d,name:"name",display:function(e,t){if(void 0!==t){var i=r(".jstree-icon",this);r(this).html(i).append(e)}}},(function(e,t){p(t.newValue,t.response.objectId)}),(function(e,t){if("save"===t){r(this).parent().closest("ul");const e=new URL(window.location.href);let t=e.searchParams;t.set("time",s.now()),e.search=t.toString(),history.replaceState({time:s.now()},"updated",e.toString())}}))},p=(e,t)=>{var i=r(o).jstree(!0).get_json();g(i,e,t,i.length-1),m()},g=(e,t,i,n)=>{if(n<0)return e;var r=e[n];return void 0!==r.data&&r.data.id===i&&(r.text=t,r.li_attr["data-tag-name"]=t),r.children.length>0&&g(r.children,t,i,r.children.length-1),g(e,t,i,n-1)},m=()=>{let e=["sort","types","unique"];l&&e.push("dnd"),c&&e.push("delete");let t=r(o);a=t.data("tagsJson"),d=t.data("inlineEditUrl"),t.jstree({types:{default:{icon:"fa fa-folder text-primary fs-2x"},file:{icon:"fa fa-file text-primary fs-2x"}},plugins:e,dnd:{check_while_dragging:!0,is_draggable:e=>"show_all_media"!==e[0].a_attr.class},sort:function(e,t){let i=this.get_node(e),n=this.get_node(t);return i.data.show_first?-1:n.data.show_first||i.text.toLowerCase()>n.text.toLowerCase()?1:-1},core:{themes:{variant:"large"},check_callback:function(e,t,i,n,r){return"move_node"!==e||!i.a_attr||"show_all_media"!==i.a_attr.class},data:function(e,t){t(a)}}}),t.on("refresh.jstree",(function(){f()})).on("move_node.jstree",(function(e,t){let i=t.new_instance.get_json();var n=_(i,0,0,i.length-1,[]);v(n),f()})).on("after_open.jstree",(function(){f()})).on("redraw.jstree",(function(){f()})),t.on("dragover",(function(e){}))},v=t=>{axios.post(o.dataset.updateTreeUrl,{nodes:t},axiosConfig).then((function(t){var i=t.data;e.x.createInitCmsMessageBox(i.status,i.message);const n=new URL(window.location.href);let r=n.searchParams;r.set("time",s.now()),n.search=r.toString(),history.replaceState({time:s.now()},"updated",n.toString())}))},_=(e,t,i,n,r)=>{if(n<0)return r;var s=e[n];return s.children.length>0&&r.push.apply(_(s.children,s.data.id,i+1,s.children.length-1,r)),r.push({id:s.data.id,parent_id:t,name:s.text,depth:i}),_(e,t,i,n-1,r)},y=(e,t)=>{a=e,r(o).jstree(!0).refresh()},b=e=>{e||(e=[]);let t=new FormData(document.querySelector("#search-form"));for(const i in e)t.append(i,e[i]);e=Object.fromEntries(t.entries()),axios.get(o.dataset.refreshListUrl,{...axiosConfig,params:e}).then((function(e){r("#item_list").html(e.data),r("html, body").animate({scrollTop:r("#item_list").scrollTop()},"slow"),w(),KTComponents.init()}))},w=()=>{n()({touchNavigation:!0,loop:!0,autoplayVideos:!0,selector:".light-box-items"})};return{init:function(){o=document.querySelector("#tagsContainer"),l=o.dataset.canSort,c=o.dataset.canDelete,m(),h(),w(),KTUtil.on(document.body,"a.delete_check_box","click",(function(e){e.preventDefault();let t=!1,i=document.querySelector(".batch-actions");if(document.querySelectorAll(".delete_check_box").forEach((function(e){e.checked?(e.classList.add("ui-selected"),t=!0):e.classList.remove("ui-selected")})),t)return i.classList.remove("d-none");i.classList.add("d-none")})),KTUtil.on(document.body,"a.batch","click",(function(e){e.preventDefault(),document.querySelector("input[name='action']").value=e.target.dataset.value,createBatchDialog(e)})),KTUtil.on(document.body,"a.tag-dialog-link","click",(function(e){e.preventDefault(),(e=>{e.preventDefault(),e.stopPropagation(),h();let n=e.target;n.getAttribute("href")||(n=n.closest("a")),fetch(n.getAttribute("href"),{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{document.querySelector("#tag_dialog").querySelector(".modal-content").innerHTML=e,t.show(),i.querySelector("form").addEventListener("submit",u)}))})(e)})),KTUtil.on(document.body,".tag_link","click",(function(e,t){e.preventDefault();var i=e.target.dataset.pk;void 0===t&&b({"filter[tags][value]":i})})),KTUtil.on(document.body,".show_all_media","click",(function(e,t){e.preventDefault(),b({"filter[_page]":1,"filter[tags][value]":""})})),KTUtil.on(document.body,"a.media-pager","click",(function(e){e.preventDefault();let t=e.target.dataset.page,i=e.target.dataset.sortOrder,n=e.target.dataset.sortBy,r=e.target.dataset.tags,s=e.target.dataset.name;b({"filter[_page]":t,"filter[_sort_order]":i,"filter[_sort_by]":n,"filter[tags][value]":r,"filter[name][value]":s})})),KTUtil.on(document.body,".per-page","change",(function(e){e.preventDefault();let t=e.target.value,i=e.target.dataset.page,n=e.target.dataset.sortOrder,r=e.target.dataset.sortBy,s=e.target.dataset.tags,o=e.target.dataset.name;b({"filter[_per_page]":t,"filter[_page]":i,"filter[_sort_order]":n,"filter[_sort_by]":r,"filter[tags][value]":s,"filter[name][value]":o})}))},refreshList:function(e){b(e)}}}();class a{constructor(e){this.element=e,this.context=this.element.dataset.context,this.provider=this.element.dataset.provider,this.uploadForm=this.element.querySelector("#upload-form");const t=this.element.dataset.uniqueId;let i=this.element.querySelector(".dropzone-item");i.id="";let n=i.parentNode.innerHTML;i.parentNode.removeChild(i);const r=this;let s=new Dropzone(this.element,{init:function(){this.on("success",(function(e,t){r.changeButtonRow(e,t),o.refreshList()})),this.on("error",(function(e,t){t.duplicate&&r.changeButtonRow(e,t)}))},url:this.uploadForm.action,params:{context:this.context,provider:this.provider,oneuploader:!0},thumbnailWidth:80,thumbnailHeight:80,parallelUploads:20,previewTemplate:n,previewsContainer:"#previews",clickable:".fileinput-zone"});s.on("totaluploadprogress",(function(e){document.querySelector("#total-progress .progress-bar").style.width=e+"%"})),s.on("sending",(function(e,i,n){let r=document.querySelector("#"+t+"_tags").value;n.append("tags",r),document.querySelector("#total-progress").style.opacity="1"})),s.on("queuecomplete",(function(e){document.querySelector("#total-progress").style.opacity="0"})),document.querySelector("#actions .cancel").onclick=function(){s.removeAllFiles(!0)}}changeButtonRow(e,t){console.log(e);let i=e.previewElement.querySelector("[data-dz-url]");i.href=t.url,i.classList.remove("d-none"),e.previewElement.querySelector(".progress").classList.add("d-none")}}!function(e,t){var i=document.createElement("a");i.className="delete-tag dialog-link float-end ",i.innerHTML='<i class="la la-trash fs-2 mx-3"></i>',e.jstree.defaults.delete=e.noop,e.jstree.plugins.delete=function(t,n){this.teardown=function(){this.settings.delete&&this.element.find(".delete-tag").remove(),n.teardown.call(this)},this.redraw_node=function(t,r,s,o){if(t=n.redraw_node.call(this,t,r,s,o),this.get_node(t).children&&this.get_node(t).children.length)return t;if(t&&e(t).hasClass("sortable-tag")){var a=i.cloneNode(!0),l=this.get_node(t);a.href=l.data.delete_link,t.insertBefore(a,t.childNodes[2])}return t}}}(r),KTUtil.onDOMContentLoaded((function(){o.init(),document.body.addEventListener("shown.bs.modal",(function(e){let t=e.target.querySelector("#dropzone_area");t&&new a(t)}))}))})()})();
//# sourceMappingURL=mediaAdmin.6b8c8900.js.map