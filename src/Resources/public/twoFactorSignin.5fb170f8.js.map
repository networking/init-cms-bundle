{"version":3,"file":"twoFactorSignin.5fb170f8.js","mappings":"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","sources":["webpack://init-cms-bundle/./assets/cms/authentication/sign-in/two-factor.js"],"sourcesContent":["\"use strict\";\n\n\n// Class Definition\nlet KTSigninTwoFactor = function() {\n    // Elements\n    let form;\n    let submitButton;\n    let requestCodeLink\n\n    const lang = localStorage.getItem(\"kt_auth_lang\")??document.getElementsByTagName('html')[0].getAttribute('lang');\n\n    const texts = {\n        'en': {\n            'login_success': 'You have been successfully verified!',\n            'login_error': 'Sorry, please enter valid securtiy code and try again.',\n            'ok': 'Ok, got it!',\n            'request_code_sent': 'Security code has been sent to your email address.'\n        },\n        'de': {\n            'login_success': 'Sie wurden erfolgreich verifiziert!',\n            'login_error': 'Entschuldigung, bitte geben Sie einen gültigen Sicherheitscode ein und versuchen Sie es erneut.',\n            'ok': 'Ok, verstanden!',\n            'request_code_sent': 'Sicherheitscode wurde an Ihre E-Mail-Adresse gesendet.'\n        },\n        'fr': {\n            'login_success': 'Vous avez été vérifié avec succès !',\n            'login_error': 'Désolé, veuillez saisir un code de sécurité valide et réessayer.',\n            'ok': 'Ok, compris!',\n            'request_code_sent': 'Le code de sécurité a été envoyé à votre adresse e-mail.'\n        },\n        'it': {\n            'login_success': 'Sei stato verificato con successo!',\n            'login_error': 'Spiacente, inserire un codice di sicurezza valido e riprolete.',\n            'ok': 'Ok, capito!',\n            'request_code_sent': 'Il codice di sicurezza è stato inviato al tuo indirizzo email.'\n        },\n    }\n\n    let translate = function (text) {\n\n        switch (lang) {\n            case 'German':\n            case 'de':\n                return texts['de'][text];\n            case 'Italian':\n            case 'it':\n                return texts['it'][text];\n            case 'French':\n            case 'fr':\n                return texts['fr'][text];\n            default:\n                return texts['en'][text];\n\n        }\n    }\n\n    // Handle form\n    let handleForm = async function(e) {\n        // Handle form submit\n        submitButton.addEventListener('click', function (e) {\n            e.preventDefault();\n\n            let validated = true;\n\n            let inputs = [].slice.call(form.querySelectorAll('[data-inputmask]'));\n            inputs.map(function (input) {\n                if (input.value === '' || input.value.length === 0) {\n                    validated = false;\n                }\n            });\n\n            if (validated === true) {\n                // Show loading indication\n                submitButton.setAttribute('data-kt-indicator', 'on');\n\n                // Disable button to avoid multiple click \n                submitButton.disabled = true;\n\n                let code = inputs.reduce((acc, input) => acc + input.value, '')\n\n                axios.post(CMSRouting.generate('networking_init_cms_admin_no_slash'), { _code: code }, {...axiosConfig}).then((response) => {\n                    submitButton.disabled = false;\n                    submitButton.removeAttribute('data-kt-indicator');\n                    Swal.fire({\n                        text: translate('login_success'),\n                        icon: \"success\",\n                        timer: 1000,\n                        showConfirmButton: false,\n                    }).then(function (result) {\n                       location.href = window.location.href;\n                    });\n                }).catch((error) => {\n                    submitButton.disabled = false;\n                    submitButton.removeAttribute('data-kt-indicator');\n                    inputs.forEach((input) => input.value = '')\n                    swal.fire({\n                        text: \"Please enter valid securtiy code and try again.\",\n                        icon: \"error\",\n                        buttonsStyling: false,\n                        confirmButtonText: \"Ok, got it!\",\n                        customClass: {\n                            confirmButton: \"btn fw-bold btn-light-primary\"\n                        }\n                    }).then(function() {\n                        KTUtil.scrollTop();\n                    });\n                })\n            } else {\n                swal.fire({\n                    text: translate('login_error'),\n                    icon: \"error\",\n                    buttonsStyling: false,\n                    confirmButtonText: translate('ok'),\n                    customClass: {\n                        confirmButton: \"btn fw-bold btn-light-primary\"\n                    }\n                }).then(function() {\n                    KTUtil.scrollTop();\n                });\n            }\n        });\n    }\n\n    let handleType = function() {\n        let input1 = form.querySelector(\"[name=code_1]\");\n        let input2 = form.querySelector(\"[name=code_2]\");\n        let input3 = form.querySelector(\"[name=code_3]\");\n        let input4 = form.querySelector(\"[name=code_4]\");\n        let input5 = form.querySelector(\"[name=code_5]\");\n        let input6 = form.querySelector(\"[name=code_6]\");\n\n        input1.focus();\n\n        input1.addEventListener(\"keyup\", function() {\n            if (this.value.length === 1) {\n                input2.focus();\n            }\n        });\n\n        input2.addEventListener(\"keyup\", function() {\n            if (this.value.length === 1) {\n                input3.focus();\n            }\n        });\n\n        input3.addEventListener(\"keyup\", function() {\n            if (this.value.length === 1) {\n                input4.focus();\n            }\n        });\n\n        input4.addEventListener(\"keyup\", function() {\n            if (this.value.length === 1) {\n                input5.focus();\n            }\n        });\n\n        input5.addEventListener(\"keyup\", function() {\n            if (this.value.length === 1) {\n                input6.focus();\n            }\n        });\n        \n        input6.addEventListener(\"keyup\", function() {\n            if (this.value.length === 1) {\n                input6.blur();\n            }\n        });\n\n        document.addEventListener(\"paste\", (event) => {\n            event.preventDefault();\n\n            let paste = (event.clipboardData || window.clipboardData).getData(\"text\");\n\n            let code = paste.split('').slice(0, 6);\n\n            code.forEach((value, index) => {\n                let input = form.querySelector(`[name=code_${index + 1}]`);\n                input.value = value;\n            })\n        })\n    }\n\n    let handleSendLink = function(){\n        requestCodeLink.addEventListener('click', function (e) {\n            e.preventDefault()\n            let link = e.target;\n\n            axios.get(link.attributes.href.value, {...axiosConfig}).then((response) => {\n                Swal.fire({\n                    text: translate('request_code_sent'),\n                    icon: \"success\",\n                    timer: 2000,\n                    showConfirmButton: false,\n                })\n            }).catch((error) => {\n                let message = error.message\n                if(error.response.data && error.response.data.message){\n                    message = error.response.data.message;\n                }\n                Swal.fire({\n                    text: message,\n                    icon: \"error\",\n                    timer: 4000,\n                    showConfirmButton: false,\n                })\n            })\n        })\n    }\n\n    // Public functions\n    return {\n        // Initialization\n        init: function() {\n            form = document.querySelector('#kt_sign_in_two_factor_form');\n            submitButton = document.querySelector('#kt_sign_in_two_factor_submit');\n            requestCodeLink = document.querySelector('#kt_sign_in_two_factor_request_code');\n\n            handleForm();\n            handleType();\n            handleSendLink();\n        }\n    };\n}();\n\n// On document ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    KTSigninTwoFactor.init();\n});"],"names":["KTSigninTwoFactor","form","submitButton","requestCodeLink","lang","localStorage","getItem","document","getElementsByTagName","getAttribute","texts","translate","text","init","querySelector","async","e","addEventListener","preventDefault","validated","inputs","slice","call","querySelectorAll","map","input","value","length","setAttribute","disabled","code","reduce","acc","axios","post","CMSRouting","generate","_code","axiosConfig","then","response","removeAttribute","Swal","fire","icon","timer","showConfirmButton","result","location","href","window","catch","error","forEach","swal","buttonsStyling","confirmButtonText","customClass","confirmButton","KTUtil","scrollTop","handleForm","input1","input2","input3","input4","input5","input6","focus","this","blur","event","clipboardData","getData","split","index","handleType","link","target","get","attributes","message","data"],"sourceRoot":""}