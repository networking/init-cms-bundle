{"version":3,"file":"webauthnRegister.070c0ed6.js","mappings":";uBAAIA,EACAC,EACAC,EACAC,EAGAC,E,4ECJGC,eAAeC,EAAOC,EAAMC,EAAU,KAKrCA,GAAaA,aAAmBC,WAChCD,EAAUE,KAAKC,UAAUH,IAE7B,MAAMI,QAAYC,MAAMN,EAAM,CAC1BO,OAAQ,OACRC,YAAa,cACbC,QAVY,CACZ,mBAAoB,iBACpB,eAAgB,oBAShBC,KAAMT,IAEV,GAAmB,MAAfI,EAAIM,QAAiC,MAAfN,EAAIM,OAE1B,OAAON,EAAIO,OACR,CAEH,MAAMC,QAAeR,EAAIO,OAEzB,GAAGC,EAAOC,QACN,MAAM,IAAIC,MAAMF,EAAOC,SAG3B,MAAM,IAAIC,MAAMF,EAAOG,MAC3B,CACJ,CAGOlB,eAAemB,EAAmBC,EAAUC,GAE/C,IAAIC,EAAO,CACPF,SAAUA,EACVC,YAAaA,EACbE,uBAAwB,CACpBC,iBAAkB,cAI1B,MAAMC,QAAgBxB,EAAO,0BAA2BqB,GAExD,IAAII,EACJ,IAEIA,QAAgB,QAAkBD,EACtC,CAAE,MAAOP,GAEL,MAAMA,CACV,CAEA,aAAajB,EAAO0B,WAAWC,SAAS,sCAAuCF,EAEnF,CA0BO1B,eAAe6B,EAAqBC,GACvC,OAAO7B,EAAO0B,WAAWC,SAAS,qDAAuD,WAAWG,mBAAmBD,KAC3H,CAEO9B,eAAegC,EAAiBF,EAAQG,GAC3C,OAAOhC,EAAO0B,WAAWC,SAAS,qDAAuD,WAAWG,mBAAmBD,WAAgBC,mBAAmBE,KAC9J,C,4GC1EOjC,eAAekC,EAAkBT,IAE/BA,EAAQU,aAAeV,EAAQW,YAChCC,QAAQC,KAAK,8TAEbb,EAAU,CAAEU,YAAaV,IAE7B,MAAM,YAAEU,EAAW,gBAAEI,GAAkB,GAAUd,EACjD,KAAK,SACD,MAAM,IAAIR,MAAM,6CAGpB,MAAMuB,EAAY,IACXL,EACHC,WAAW,OAAwBD,EAAYC,WAC/CK,KAAM,IACCN,EAAYM,KACfC,IAAI,OAAwBP,EAAYM,KAAKC,KAEjDC,mBAAoBR,EAAYQ,oBAAoBC,IAAI,MAGtDC,EAAgB,CAAC,EAevB,IAAIC,EATAP,IAEAM,EAAcE,UAAY,eAG9BF,EAAcL,UAAYA,EAE1BK,EAAcG,OAAS,IAAqBC,uBAG5C,IACIH,QAAoBI,UAAUxC,YAAYyC,OAAON,EACrD,CACA,MAAOO,GACH,MAAM,OAA0B,CAAElC,MAAOkC,EAAK3B,QAASoB,GAC3D,CACA,IAAKC,EACD,MAAM,IAAI7B,MAAM,kCAEpB,MAAM,GAAEyB,EAAE,MAAEW,EAAK,SAAEC,EAAQ,KAAEC,GAAST,EAEtC,IAAIU,EAKAC,EASAC,EAaAC,EArBJ,GALsC,mBAA3BL,EAASM,gBAChBJ,EAAaF,EAASM,iBAIoB,mBAAnCN,EAASO,sBAChB,IACIJ,EAA6BH,EAASO,uBAC1C,CACA,MAAO3C,GACH4C,EAA2B,0BAA2B5C,EAC1D,CAGJ,GAAqC,mBAA1BoC,EAASS,aAChB,IACI,MAAMC,EAAaV,EAASS,eACT,OAAfC,IACAN,GAAoB,OAAwBM,GAEpD,CACA,MAAO9C,GACH4C,EAA2B,iBAAkB5C,EACjD,CAIJ,GAA6C,mBAAlCoC,EAASW,qBAChB,IACIN,GAA4B,OAAwBL,EAASW,uBACjE,CACA,MAAO/C,GACH4C,EAA2B,yBAA0B5C,EACzD,CAEJ,MAAO,CACHwB,KACAW,OAAO,OAAwBA,GAC/BC,SAAU,CACNY,mBAAmB,OAAwBZ,EAASY,mBACpDC,gBAAgB,OAAwBb,EAASa,gBACjDX,aACAY,mBAAoBX,EACpBjB,UAAWkB,EACXW,kBAAmBV,GAEvBJ,OACAe,uBAAwBxB,EAAWyB,4BACnCC,yBAAyB,OAA0B1B,EAAW0B,yBAEtE,CAKA,SAASV,EAA2BW,EAAYC,GAC5CrC,QAAQC,KAAK,yFAAyFmC,6CAAuDC,EACjK,C,iBCjHO,SAASC,EAAwBC,GAEpC,MAAMC,EAASD,EAAgBE,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAQ1DC,GAAa,EAAKF,EAAOG,OAAS,GAAM,EACxCC,EAASJ,EAAOK,OAAOL,EAAOG,OAASD,EAAW,KAElDI,EAASC,KAAKH,GAEdI,EAAS,IAAIC,YAAYH,EAAOH,QAChCO,EAAQ,IAAIC,WAAWH,GAC7B,IAAK,IAAII,EAAI,EAAGA,EAAIN,EAAOH,OAAQS,IAC/BF,EAAME,GAAKN,EAAOO,WAAWD,GAEjC,OAAOJ,CACX,C,0ECvBO,SAASM,GAA4B,MAAEzE,EAAK,QAAEO,IACjD,MAAM,UAAEe,GAAcf,EACtB,IAAKe,EACD,MAAMvB,MAAM,mDAEhB,GAAmB,eAAfC,EAAMe,MACN,GAAIR,EAAQuB,kBAAkB4C,YAE1B,OAAO,IAAI,IAAc,CACrB5E,QAAS,mDACT6E,KAAM,yBACNnB,MAAOxD,QAId,IAAmB,oBAAfA,EAAMe,KAKX,OAAO,IAAI,IAAc,CACrBjB,QAASE,EAAMF,QACf6E,KAAM,uCACNnB,MAAOxD,IAGV,GAAmB,kBAAfA,EAAMe,KAA0B,CACrC,MAAM6D,EAAkBC,WAAWC,SAASC,SAC5C,KAAK,OAAcH,GAEf,OAAO,IAAI,IAAc,CACrB9E,QAAS,GAAG+E,WAAWC,SAASC,gCAChCJ,KAAM,uBACNnB,MAAOxD,IAGV,GAAIsB,EAAU0D,OAASJ,EAExB,OAAO,IAAI,IAAc,CACrB9E,QAAS,cAAcwB,EAAU0D,mCACjCL,KAAM,sBACNnB,MAAOxD,GAGnB,MACK,GAAmB,iBAAfA,EAAMe,KAGX,OAAO,IAAI,IAAc,CACrBjB,QAAS,+GACT6E,KAAM,oCACNnB,MAAOxD,GAEf,CACA,OAAOA,CACX,C,kCCxBO,MAAMiF,EAAuB,IApCpC,MACI,WAAAC,GACIC,OAAOC,eAAeC,KAAM,aAAc,CACtCC,YAAY,EACZC,cAAc,EACdC,UAAU,EACVC,WAAO,GAEf,CACA,oBAAA1D,GAEI,GAAIsD,KAAKK,WAAY,CACjB,MAAMC,EAAa,IAAI5F,MAAM,qDAC7B4F,EAAW5E,KAAO,aAClBsE,KAAKK,WAAWE,MAAMD,EAC1B,CACA,MAAME,EAAgB,IAAIC,gBAE1B,OADAT,KAAKK,WAAaG,EACXA,EAAc/D,MACzB,CACA,cAAAiE,GACI,GAAIV,KAAKK,WAAY,CACjB,MAAMC,EAAa,IAAI5F,MAAM,kDAC7B4F,EAAW5E,KAAO,aAClBsE,KAAKK,WAAWE,MAAMD,GACtBN,KAAKK,gBAAaM,CACtB,CACJ,E,sMC1BG,SAASC,EAAgCC,GAC5C,MAAM,GAAE1E,GAAO0E,EACf,MAAO,IACAA,EACH1E,IAAI,OAAwBA,GAM5Bc,WAAY4D,EAAW5D,WAE/B,C,yECDA,IAAI6D,QAAmBC,SAASC,gBAChC,MAAMC,EAAuBC,SAASC,iBAAiB,mBACjDC,EAAmBF,SAASG,cAAc,gBAE1CC,GAD4BJ,SAASG,cAAc,yBACvBH,SAASG,cAAc,0BAEnDE,GADsBL,SAASG,cAAc,0BAC3BH,SAASG,cAAc,iCAAiCG,aAAa,YACvFC,EAA6BP,SAASG,cAAc,6CAA6CG,aAAa,WAGpH/H,eAAeiI,EAAOC,GAClB,IAAIC,EAAKD,EAAEE,OACPD,EAAGE,UAAUC,SAAS,SACtBH,EAAKA,EAAGI,QAAQ,SAEpB,MAAM,OAAEzG,EAAM,KAAEG,GAASkG,EAAGK,QAC5B,IACI,MAAQ7B,MAAO8B,EAASC,YAAaA,SAAsBC,KAAKC,KAAK,CACjEC,MAAOxB,EAAWyB,MAAM,uBAAwB,GAAI,YACpDC,WAAY1B,EAAWyB,MAAM,6BAA8B,GAAI,YAC/DE,MAAO,OACPC,WAAYhH,EACZiH,eAAiBvC,IACb,IAAKA,EACD,OAAOU,EAAWyB,MAAM,+BAAgC,GAAI,aAGpEK,gBAAgB,EAChBC,kBAAkB,EAClBC,kBAAmBhC,EAAWyB,MAAM,SAAU,GAAI,YAClDQ,iBAAkBjC,EAAWyB,MAAM,SAAU,GAAI,YACjDS,gBAAgB,EAChBC,YAAa,CACTC,cAAe,yBACfC,aAAc,0BAIlBhB,UACM,QAAiB5G,EAAQ2G,GAC/BkB,IAER,CAAC,MAAOzB,GACJZ,SAASsC,wBAAwB,QAAS1B,EAAElH,QAChD,CACJ,CAEAhB,eAAe6J,EAAO3B,GAClBS,KAAKC,KAAK,CACNC,MAAOxB,EAAWyB,MAAM,uBAAwB,GAAI,YACpDgB,KAAMzC,EAAWyB,MAAM,sBAAuB,GAAI,YAClDiB,KAAM,UACNZ,gBAAgB,EAChBC,kBAAkB,EAClBC,kBAAmBhC,EAAWyB,MAAM,SAAU,GAAI,YAClDQ,iBAAkBjC,EAAWyB,MAAM,SAAU,GAAI,YACjDS,gBAAgB,EAChBC,YAAa,CACTC,cAAe,wBACfC,aAAc,0BAEnBM,KAAKhK,MAAOe,IAEX,IAAKA,EAAO2H,YACR,OAEJ,IAAIP,EAAKD,EAAEE,OACPD,EAAGE,UAAUC,SAAS,SACtBH,EAAKA,EAAGI,QAAQ,SAEpB,UACU,QAAqBJ,EAAGK,QAAQ1G,QACtC6H,GACJ,CAAE,MAAOzB,GACL+B,MAAM/B,EAAElH,QACZ,GAER,CAEAhB,eAAe2J,IACX,IACI,IAAIpJ,QAAY,QAAOoB,WAAWC,SAAS,oDAC3C,MAAMsI,EAAOzC,SAASG,cAAc,SACpCH,SAASG,cAAc,mBAAmBS,UAAU8B,OAAO,SAAU5J,EAAIyE,OAAS,GAClFyC,SAASG,cAAc,uBAAuBS,UAAU8B,OAAO,SAAU5J,EAAIyE,OAAS,GACtF,MAAMoF,EAAQ,IAAI,GAAG7J,EAAIyE,OAAS,EAAI,IAAI;;;wBAG1BzE,EAAIqC,IAAIyH,GAAQ,IAAI;;;6CAGCA,EAAKN;;;yCAGTM,EAAKpI,MAAQ;4DACMoI,EAAKC;;;;0DAIPD,EAAK3H,eAAeuF,iBAAsBoC,EAAKpI;;;mFAGtBoF,EAAWyB,MAAM,cAAe,GAAI;oEACnDzB,EAAWyB,MAAM,cAAe,GAAI;mDACrDzB,EAAWyB,MAAM,cAAe,GAAI;;;;0DAI7BuB,EAAK3H,eAAemH;;;;wDAItBxC,EAAWyB,MAAM,gBAAiB,GAAI;oEAC1BzB,EAAWyB,MAAM,gBAAiB,GAAI;mDACvDzB,EAAWyB,MAAM,gBAAiB,GAAI;;;;;yBAK9D,IAAI;;mDAEoBzB,EAAWyB,MAAM,sCAAuC,GAAI;4BAEvG,QAAOsB,EAAOF,GAEd1C,EAAqB+C,QAASC,IAC1BA,EAAOnC,UAAUwB,OAAO,WAEhC,CAAC,MAAM3B,GACHT,SAASG,cAAc,kBAAkBS,UAAUoC,IAAI,UACvDnD,SAASsC,wBAAwB,QAAS1B,EAAElH,QAChD,CACJ,CAEAhB,eAAe0K,IACX,IACI,IAAInK,QAAY,QAAOoB,WAAWC,SAAS,qEAC3C,MAAMsI,EAAOzC,SAASG,cAAc,uBACpCC,EAA0BQ,UAAU8B,OAAO,SAAU5J,EAAIoK,yBACzD,MAAMP,EAAQ,IAAI,GAAG7J,EAAIoK,wBAA0B,IAAI;;;;oCAI3BpK,EAAIqK;;;uCAGDvD,EAAWyB,MAAM,2CAA4C,GAAI;kDACtDvI,EAAIsK;;;gFAG0BC;;;;8CAIlCzD,EAAWyB,MAAM,cAAe,GAAI;0DACxBzB,EAAWyB,MAAM,cAAe,GAAI;;;;;qBAKvE,IAAI;;8CAEmBzB,EAAWyB,MAAM,4CAA6C,GAAI;wBAExG,QAAOsB,EAAOF,EAClB,CAAC,MAAMhC,GACHZ,SAASsC,wBAAwB,QAAS1B,EAAElH,QAChD,CACJ,CAGAhB,eAAe+K,IACX,IACI,IAAI3J,EAAWqG,SAASG,cAAc,yBAAyBG,aAAa,WACxE1G,EAAcoG,SAASG,cAAc,4BAA4BG,aAAa,iBAK5E,QAAmB3G,EAAUC,GAKnCsI,GACJ,CAAE,MAAOzB,GAKU,sBAAXA,EAAEjG,KACF0G,KAAKC,KAAK,CACNC,MAAOxB,EAAWyB,MAAM,kDAAmD,GAAI,YAC/EkC,KAAM,q4BAUN7B,gBAAgB,EAChBC,kBAAkB,EAClBC,kBAAmBhC,EAAWyB,MAAM,WAAY,GAAI,YACpDU,YAAa,CACTyB,cAAe,QACfxB,cAAe,4BAKL,oBAAXvB,EAAEjG,MAITqF,SAASsC,wBAAwB,QAAS1B,EAAElH,QAEpD,CACJ,CAEA,SAASkB,IACLyG,KAAKC,KAAK,CACNC,MAAOxB,EAAWyB,MAAM,uBAAwB,GAAI,YACpDkC,KAAM,o4BAQW3D,EAAWyB,MAAM,sBAAuB,GAAI,4CAG7DK,gBAAgB,EAChBC,kBAAkB,EAClBC,kBAAmBhC,EAAWyB,MAAM,WAAY,GAAI,YACpDQ,iBAAkBjC,EAAWyB,MAAM,SAAU,GAAI,YACjDU,YAAa,CACTyB,cAAe,QACfxB,cAAe,yBACfC,aAAc,0BAEnBM,KAAMjJ,IAEDA,EAAO2H,aACPqC,KAGZ,CAEA/K,eAAekL,IAEX,IACI,MAAMC,QAAsB,QAAOxJ,WAAWC,SAAS,wEAEvD,IAAIgJ,EAAYO,EAAcP,UAC1BC,EAASM,EAAcN,OAE3BlC,KAAKC,KAAK,CACNC,MAAOxB,EAAWyB,MAAM,+CAAgD,GAAI,YAC5EkC,KAAM,4EACI3D,EAAWyB,MAAM,8CAA+C,GAAI,qHAEtD8B,kGAGXvD,EAAWyB,MAAM,+CAAgD,GAAI,mHAG9D+B,qCAGpB1B,gBAAgB,EAChBC,kBAAkB,EAClBC,kBAAmBhC,EAAWyB,MAAM,OAAQ,GAAI,YAChDQ,iBAAkBjC,EAAWyB,MAAM,SAAU,GAAI,YACjDU,YAAa,CACTyB,cAAe,QACfxB,cAAe,kBACfC,aAAc,mBAEnBM,KAAMjJ,IAEDA,EAAO2H,aAEP0C,KAGZ,CAAC,MAAOlD,GACJZ,SAASsC,wBAAwB,QAAS1B,EAAElH,QAChD,CACJ,CAEAhB,eAAeoL,IACX,IAEI,MAAQzE,MAAOd,EAAMwF,SAAUA,SAAmB1C,KAAKC,KAAK,CACxDC,MAAOxB,EAAWyB,MAAM,uCAAwC,GAAI,YACpEC,WAAY1B,EAAWyB,MAAM,sCAAuC,GAAI,YACxEE,MAAO,OACPsC,gBAAiB,CACbC,aAAc,iBAElBpC,gBAAgB,EAChBC,kBAAkB,EAClBoC,gBAAgB,EAChBC,eAAgBpE,EAAWyB,MAAM,OAAQ,GAAI,YAC7CO,kBAAmBhC,EAAWyB,MAAM,UAAW,GAAI,YACnDQ,iBAAkBjC,EAAWyB,MAAM,SAAU,GAAI,YACjDS,gBAAgB,EAChBC,YAAa,CACTkC,WAAY,wBACZjC,cAAe,kBACfC,aAAc,mBAItB,GAAG2B,EACC,OAAOH,IAGX,GAAIrF,EAAM,CACN,IAAI9E,QAAgB,QAAOY,WAAWC,SAAS,uEAAwE,CAAC+J,MAAO9F,IAE5H9E,GAAU,OAASA,EAAOF,SAEzB8H,KAAKC,KAAK,CACNkB,KAAMzC,EAAWyB,MAAM,oBAAqB,GAAI,YAChDiB,KAAM,UACNZ,gBAAgB,EAChBE,kBAAmBhC,EAAWyB,MAAM,WAAY,GAAI,YACpDU,YAAa,CACTC,cAAe,qBAIvBiB,IAER,CACJ,CAAC,MAAOxC,GACJZ,SAASsC,wBAAwB,QAAS1B,EAAElH,QAChD,CACJ,CAEAhB,eAAe8K,IACX,IACI,MAAOpC,YAAaA,SAAqBC,KAAKC,KAAK,CAC/CC,MAAOxB,EAAWyB,MAAM,gDAAiD,GAAI,YAC7EgB,KAAMzC,EAAWyB,MAAM,+CAAgD,GAAI,YAC3EK,gBAAgB,EAChBC,kBAAkB,EAClBC,kBAAmBhC,EAAWyB,MAAM,OAAQ,GAAI,YAChDQ,iBAAkBjC,EAAWyB,MAAM,SAAU,GAAI,YACjDU,YAAa,CACTC,cAAe,kBACfC,aAAc,mBAIlBhB,GACAwC,GAGR,CAAE,MAAOhD,GACLZ,SAASsC,wBAAwB,QAAS1B,EAAElH,QAChD,CACJ,CAEAhB,eAAe4L,IAEX,MAAMnK,QAAgB,QAAO,2BAA4B,CACrDoK,wBAAyB,cAG7B,IAAIC,EACJ,IAEIA,QAAiB,QAAoBrK,EACzC,CAAE,MAAOyG,GAIL,YAFAZ,SAASsC,wBAAwB,QAAS1B,EAAElH,QAGhD,CAEA,IACI,MAAMD,QAAe,QAAO,mBAAoB+K,GAEhD,GAAG/K,GAAU,OAASA,EAAOF,OAYzB,YAVA8H,KAAKC,KAAK,CACNkB,KAAMzC,EAAWyB,MAAM,oBAAqB,GAAI,YAChDiB,KAAM,UACNZ,gBAAgB,EAChBE,kBAAmBhC,EAAWyB,MAAM,WAAY,GAAI,YACpDU,YAAa,CACTC,cAAe,qBAQ3B,MAAM,IAAIxI,MAAM,kBACpB,CAAC,MAAMiH,GAEHZ,SAASsC,wBAAwB,QAAS1B,EAAElH,QAChD,CACJ,CAEA,GAAG8G,EAAgB,CAEf,IAAI,WACAiE,oBAAoBC,+CACpBD,oBAAoBE,gCACpB,WAC0BC,QAAQC,IAAI,EAG9B,WAGA,aAIQC,MAAMC,IAAW,IAANA,GACnB1C,IAIAlC,SAASG,cAAc,YAAY0E,UAAYjF,EAAWyB,MAAM,wCAAyC,GAAI,WAErH,CAAE,MAAOZ,GACLZ,SAASsC,wBAAwB,QAAS1B,EAC9C,MAIAT,SAASG,cAAc,YAAY0E,UAAYjF,EAAWyB,MAAM,wCAAyC,GAAI,YAEjHtB,EAAqB+C,QAASC,IAC1BA,EAAO+B,iBAAiB,QAASrK,KAErCyF,EAAiB4E,iBAAiB,QAASX,EAC/C,CAEG5D,IACC0C,IACA7C,EAA0B0E,iBAAiB,QAASrB,I,sEC5cjD,SAASsB,IACZ,KAAK,SACD,OAAOC,EAA0CC,SAAS,IAAIR,QAASS,GAAYA,GAAQ,KAQ/F,MAAMC,EAA4B7G,WAC7BgG,oBACL,YAAmE7E,IAA/D0F,GAA2BX,gCACpBQ,EAA0CC,SAAS,IAAIR,QAASS,GAAYA,GAAQ,KAExFF,EAA0CC,SAASE,EAA0BX,kCACxF,CAEO,MAAMQ,EAA4C,CACrDC,SAAW/F,GAAUA,E,sHCTlB3G,eAAe6M,EAAoBpL,IAEjCA,EAAQU,aAAeV,EAAQW,YAChCC,QAAQC,KAAK,gUAEbb,EAAU,CAAEU,YAAaV,IAE7B,MAAM,YAAEU,EAAW,mBAAE2K,GAAqB,EAAK,2BAAEC,GAA6B,GAAUtL,EACxF,KAAK,SACD,MAAM,IAAIR,MAAM,6CAIpB,IAAI+L,EACyC,IAAzC7K,EAAY6K,kBAAkBhI,SAC9BgI,EAAmB7K,EAAY6K,kBAAkBpK,IAAI,MAGzD,MAAMJ,EAAY,IACXL,EACHC,WAAW,OAAwBD,EAAYC,WAC/C4K,oBAGEC,EAAa,CAAC,EAKpB,GAAIH,EAAoB,CACpB,UAAY,SACR,MAAM7L,MAAM,8CAKhB,GAFuBwG,SAASC,iBAAiB,mCAE9B1C,OAAS,GAAK+H,EAC7B,MAAM9L,MAAM,qGAIhBgM,EAAWlK,UAAY,cAEvBP,EAAUwK,iBAAmB,EACjC,CAMA,IAAIlK,EAJJmK,EAAWzK,UAAYA,EAEvByK,EAAWjK,OAAS,IAAqBC,uBAGzC,IACIH,QAAoBI,UAAUxC,YAAYwM,IAAID,EAClD,CACA,MAAO7J,GACH,MAAM,OAA4B,CAAElC,MAAOkC,EAAK3B,QAASwL,GAC7D,CACA,IAAKnK,EACD,MAAM,IAAI7B,MAAM,oCAEpB,MAAM,GAAEyB,EAAE,MAAEW,EAAK,SAAEC,EAAQ,KAAEC,GAAST,EACtC,IAAIqK,EAKJ,OAJI7J,EAAS6J,aACTA,GAAa,OAAwB7J,EAAS6J,aAG3C,CACHzK,KACAW,OAAO,OAAwBA,GAC/BC,SAAU,CACNe,mBAAmB,OAAwBf,EAASe,mBACpDF,gBAAgB,OAAwBb,EAASa,gBACjDiJ,WAAW,OAAwB9J,EAAS8J,WAC5CD,cAEJ5J,OACAe,uBAAwBxB,EAAWyB,4BACnCC,yBAAyB,OAA0B1B,EAAW0B,yBAEtE,C,kCC9FA,MAAM6I,EAAc,CAAC,iBAAkB,YAIhC,SAASC,EAA0BC,GACtC,GAAKA,KAGDF,EAAYG,QAAQD,GAAc,GAGtC,OAAOA,CACX,C,0DCPO,SAASE,GAA0B,MAAEvM,EAAK,QAAEO,IAC/C,MAAM,UAAEe,GAAcf,EACtB,IAAKe,EACD,MAAMvB,MAAM,mDAEhB,GAAmB,eAAfC,EAAMe,MACN,GAAIR,EAAQuB,kBAAkB4C,YAE1B,OAAO,IAAI,IAAc,CACrB5E,QAAS,iDACT6E,KAAM,yBACNnB,MAAOxD,SAId,GAAmB,oBAAfA,EAAMe,KAA4B,CACvC,IAA6D,IAAzDO,EAAUjB,wBAAwBmM,mBAElC,OAAO,IAAI,IAAc,CACrB1M,QAAS,qFACT6E,KAAM,8DACNnB,MAAOxD,IAGV,GAEiB,gBAAtBO,EAAQsB,WACmD,aAAvDP,EAAUjB,wBAAwBC,iBAElC,OAAO,IAAI,IAAc,CACrBR,QAAS,6FACT6E,KAAM,gDACNnB,MAAOxD,IAGV,GAA2D,aAAvDsB,EAAUjB,wBAAwBC,iBAEvC,OAAO,IAAI,IAAc,CACrBR,QAAS,6EACT6E,KAAM,wDACNnB,MAAOxD,GAGnB,KACK,IAAmB,sBAAfA,EAAMe,KAGX,OAAO,IAAI,IAAc,CACrBjB,QAAS,8CACT6E,KAAM,4CACNnB,MAAOxD,IAGV,GAAmB,oBAAfA,EAAMe,KAKX,OAAO,IAAI,IAAc,CACrBjB,QAASE,EAAMF,QACf6E,KAAM,uCACNnB,MAAOxD,IAGV,GAAmB,sBAAfA,EAAMe,KAA8B,CAEzC,OAAqC,IADPO,EAAUmL,iBAAiBC,OAAQC,GAAyB,eAAfA,EAAMtK,MACvDyB,OAEf,IAAI,IAAc,CACrBhE,QAAS,wDACT6E,KAAM,mCACNnB,MAAOxD,IAIR,IAAI,IAAc,CACrBF,QAAS,wFACT6E,KAAM,wDACNnB,MAAOxD,GAEf,CACK,GAAmB,kBAAfA,EAAMe,KAA0B,CACrC,MAAM6D,EAAkBC,WAAWC,SAASC,SAC5C,KAAK,OAAcH,GAEf,OAAO,IAAI,IAAc,CACrB9E,QAAS,GAAG+E,WAAWC,SAASC,gCAChCJ,KAAM,uBACNnB,MAAOxD,IAGV,GAAIsB,EAAUsL,GAAGpL,KAAOoD,EAEzB,OAAO,IAAI,IAAc,CACrB9E,QAAS,cAAcwB,EAAUsL,GAAGpL,iCACpCmD,KAAM,sBACNnB,MAAOxD,GAGnB,MACK,GAAmB,cAAfA,EAAMe,MACX,GAAIO,EAAUC,KAAKC,GAAGqL,WAAa,GAAKvL,EAAUC,KAAKC,GAAGqL,WAAa,GAEnE,OAAO,IAAI,IAAc,CACrB/M,QAAS,8CACT6E,KAAM,+BACNnB,MAAOxD,SAId,GAAmB,iBAAfA,EAAMe,KAGX,OAAO,IAAI,IAAc,CACrBjB,QAAS,sGACT6E,KAAM,oCACNnB,MAAOxD,GAEf,CACA,OAAOA,CACX,C,iBCrHO,SAAS8M,EAAc/H,GAC1B,MAEa,cAAbA,GACI,0CAA0CgI,KAAKhI,EACvD,C,kDCIO,MAAMiI,UAAsBjN,MAC/B,WAAAmF,EAAY,QAAEpF,EAAO,KAAE6E,EAAI,MAAEnB,EAAK,KAAEzC,IAEhCkM,MAAMnN,EAAS,CAAE0D,UACjB2B,OAAOC,eAAeC,KAAM,OAAQ,CAChCC,YAAY,EACZC,cAAc,EACdC,UAAU,EACVC,WAAO,IAEXJ,KAAKtE,KAAOA,GAAQyC,EAAMzC,KAC1BsE,KAAKV,KAAOA,CAChB,E,4CCxBJ,MAAMuI,EAAErI,WAAWN,EAAE2I,EAAEC,aAAaC,EAAE7I,EAAEA,EAAE8I,aAAa,WAAW,CAACC,WAAWJ,GAAGA,SAAI,EAAOlG,EAAE,QAAQuG,EAAE,OAAOC,KAAKC,SAASC,QAAQ,GAAGC,MAAM,MAAMC,EAAE,IAAIL,EAAEM,EAAE,IAAID,KAAKzC,EAAE5E,SAASuH,EAAE,IAAI3C,EAAE4C,cAAc,IAAIC,EAAEd,GAAG,OAAOA,GAAG,iBAAiBA,GAAG,mBAAmBA,EAAEe,EAAEC,MAAMC,QAAQC,EAAElB,GAAGe,EAAEf,IAAI,mBAAmBA,IAAImB,OAAOC,UAAUC,EAAE,cAAcC,EAAE,sDAAsDC,EAAE,OAAOC,EAAE,KAAKC,EAAEC,OAAO,KAAKL,sBAAsBA,MAAMA,uCAAuC,KAAKM,EAAE,KAAKC,EAAE,KAAKC,EAAE,qCAAqCC,EAAE9B,GAAG,CAAC3I,KAAK6I,KAAI,CAAE6B,WAAW/B,EAAEgC,QAAQ3K,EAAE4K,OAAO/B,IAAIgC,EAAEJ,EAAE,GAAiBK,GAAZL,EAAE,GAAKA,EAAE,GAAKX,OAAOiB,IAAI,iBAAgBC,EAAElB,OAAOiB,IAAI,eAAeE,EAAE,IAAIC,QAAQC,EAAEvE,EAAEwE,iBAAiBxE,EAAE,KAAK,SAASyE,EAAE1C,EAAE3I,GAAG,IAAI0J,EAAEf,KAAKA,EAAE2C,eAAe,OAAO,MAAM9P,MAAM,kCAAkC,YAAO,IAASqN,EAAEA,EAAEE,WAAW/I,GAAGA,CAAC,CAAC,MAAMuL,EAAE,CAAC5C,EAAE3I,KAAK,MAAM6I,EAAEF,EAAEpJ,OAAO,EAAE8J,EAAE,GAAG,IAAIzC,EAAE2C,EAAE,IAAIvJ,EAAE,QAAQ,IAAIA,EAAE,SAAS,GAAGyJ,EAAEQ,EAAE,IAAI,IAAIjK,EAAE,EAAEA,EAAE6I,EAAE7I,IAAI,CAAC,MAAM6I,EAAEF,EAAE3I,GAAG,IAAI0J,EAAEG,EAAEG,GAAG,EAAES,EAAE,EAAE,KAAKA,EAAE5B,EAAEtJ,SAASkK,EAAE+B,UAAUf,EAAEZ,EAAEJ,EAAEgC,KAAK5C,GAAG,OAAOgB,IAAIY,EAAEhB,EAAE+B,UAAU/B,IAAIQ,EAAE,QAAQJ,EAAE,GAAGJ,EAAES,OAAE,IAASL,EAAE,GAAGJ,EAAEU,OAAE,IAASN,EAAE,IAAIW,EAAEhC,KAAKqB,EAAE,MAAMjD,EAAEyD,OAAO,KAAKR,EAAE,GAAG,MAAMJ,EAAEW,QAAG,IAASP,EAAE,KAAKJ,EAAEW,GAAGX,IAAIW,EAAE,MAAMP,EAAE,IAAIJ,EAAE7C,GAAGqD,EAAED,GAAG,QAAG,IAASH,EAAE,GAAGG,GAAG,GAAGA,EAAEP,EAAE+B,UAAU3B,EAAE,GAAGtK,OAAOmK,EAAEG,EAAE,GAAGJ,OAAE,IAASI,EAAE,GAAGO,EAAE,MAAMP,EAAE,GAAGU,EAAED,GAAGb,IAAIc,GAAGd,IAAIa,EAAEb,EAAEW,EAAEX,IAAIS,GAAGT,IAAIU,EAAEV,EAAEQ,GAAGR,EAAEW,EAAExD,OAAE,GAAQ,MAAMiE,EAAEpB,IAAIW,GAAGzB,EAAE3I,EAAE,GAAG0L,WAAW,MAAM,IAAI,GAAGnC,GAAGE,IAAIQ,EAAEpB,EAAES,EAAEU,GAAG,GAAGX,EAAEsC,KAAKjC,GAAGb,EAAEO,MAAM,EAAEY,GAAGvH,EAAEoG,EAAEO,MAAMY,GAAGhB,EAAE6B,GAAGhC,EAAEG,IAAI,IAAIgB,EAAEhK,EAAE6K,EAAE,CAAC,MAAM,CAACQ,EAAE1C,EAAEY,GAAGZ,EAAEE,IAAI,QAAQ,IAAI7I,EAAE,SAAS,IAAIA,EAAE,UAAU,KAAKqJ,IAAI,MAAMuC,EAAE,WAAAjL,EAAagK,QAAQhC,EAAE+B,WAAW7B,GAAGS,GAAG,IAAI1C,EAAE9F,KAAK+K,MAAM,GAAG,IAAIpC,EAAE,EAAEC,EAAE,EAAE,MAAMG,EAAElB,EAAEpJ,OAAO,EAAEyK,EAAElJ,KAAK+K,OAAO5B,EAAEC,GAAGqB,EAAE5C,EAAEE,GAAG,GAAG/H,KAAK4B,GAAGkJ,EAAEE,cAAc7B,EAAEX,GAAG6B,EAAEY,YAAYjL,KAAK4B,GAAGsJ,QAAQ,IAAInD,GAAG,IAAIA,EAAE,CAAC,MAAMF,EAAE7H,KAAK4B,GAAGsJ,QAAQC,WAAWtD,EAAEuD,eAAevD,EAAEwD,WAAW,CAAC,KAAK,QAAQvF,EAAEuE,EAAEiB,aAAapC,EAAEzK,OAAOsK,GAAG,CAAC,GAAG,IAAIjD,EAAEyF,SAAS,CAAC,GAAGzF,EAAE0F,gBAAgB,IAAI,MAAM3D,KAAK/B,EAAE2F,oBAAoB,GAAG5D,EAAE6D,SAAS/J,GAAG,CAAC,MAAMzC,EAAEkK,EAAER,KAAKb,EAAEjC,EAAEtE,aAAaqG,GAAG8D,MAAMzD,GAAGvG,EAAE,eAAegJ,KAAKzL,GAAGgK,EAAE2B,KAAK,CAAC7N,KAAK,EAAE4O,MAAMjD,EAAEjN,KAAKiG,EAAE,GAAGkI,QAAQ9B,EAAE8D,KAAK,MAAMlK,EAAE,GAAGmK,EAAE,MAAMnK,EAAE,GAAGoK,EAAE,MAAMpK,EAAE,GAAGqK,EAAEC,IAAInG,EAAEoG,gBAAgBrE,EAAE,MAAMA,EAAE+C,WAAW1C,KAAKgB,EAAE2B,KAAK,CAAC7N,KAAK,EAAE4O,MAAMjD,IAAI7C,EAAEoG,gBAAgBrE,IAAI,GAAG6B,EAAEhC,KAAK5B,EAAEqG,SAAS,CAAC,MAAMtE,EAAE/B,EAAEsG,YAAYT,MAAMzD,GAAGH,EAAEF,EAAEpJ,OAAO,EAAE,GAAGsJ,EAAE,EAAE,CAACjC,EAAEsG,YAAYlN,EAAEA,EAAEmN,YAAY,GAAG,IAAI,IAAInN,EAAE,EAAEA,EAAE6I,EAAE7I,IAAI4G,EAAEwG,OAAOzE,EAAE3I,GAAGuJ,KAAK4B,EAAEiB,WAAWpC,EAAE2B,KAAK,CAAC7N,KAAK,EAAE4O,QAAQjD,IAAI7C,EAAEwG,OAAOzE,EAAEE,GAAGU,IAAI,CAAC,CAAC,MAAM,GAAG,IAAI3C,EAAEyF,SAAS,GAAGzF,EAAE/K,OAAOwN,EAAEW,EAAE2B,KAAK,CAAC7N,KAAK,EAAE4O,MAAMjD,QAAQ,CAAC,IAAId,GAAG,EAAE,MAAM,KAAKA,EAAE/B,EAAE/K,KAAKkM,QAAQiB,EAAEL,EAAE,KAAKqB,EAAE2B,KAAK,CAAC7N,KAAK,EAAE4O,MAAMjD,IAAId,GAAGK,EAAEzJ,OAAO,CAAC,CAACkK,GAAG,CAAC,CAAC,oBAAOqC,CAAcnD,EAAE3I,GAAG,MAAM6I,EAAEjC,EAAEkF,cAAc,YAAY,OAAOjD,EAAEwE,UAAU1E,EAAEE,CAAC,EAAE,SAASyE,EAAE3E,EAAE3I,EAAE6I,EAAEF,EAAElG,GAAG,GAAGzC,IAAI8K,EAAE,OAAO9K,EAAE,IAAIgJ,OAAE,IAASvG,EAAEoG,EAAE0E,OAAO9K,GAAGoG,EAAE2E,KAAK,MAAMnE,EAAEI,EAAEzJ,QAAG,EAAOA,EAAEyN,gBAAgB,OAAOzE,GAAGrI,cAAc0I,IAAIL,GAAG0E,QAAO,QAAI,IAASrE,EAAEL,OAAE,GAAQA,EAAE,IAAIK,EAAEV,GAAGK,EAAE2E,KAAKhF,EAAEE,EAAEpG,SAAI,IAASA,GAAGoG,EAAE0E,OAAO,IAAI9K,GAAGuG,EAAEH,EAAE2E,KAAKxE,QAAG,IAASA,IAAIhJ,EAAEsN,EAAE3E,EAAEK,EAAE4E,KAAKjF,EAAE3I,EAAE4K,QAAQ5B,EAAEvG,IAAIzC,CAAC,CAAC,MAAM6N,EAAE,WAAAlN,CAAYgI,EAAE3I,GAAGc,KAAKgN,KAAK,GAAGhN,KAAKiN,UAAK,EAAOjN,KAAKkN,KAAKrF,EAAE7H,KAAKmN,KAAKjO,CAAC,CAAC,cAAIkO,GAAa,OAAOpN,KAAKmN,KAAKC,UAAU,CAAC,QAAIC,GAAO,OAAOrN,KAAKmN,KAAKE,IAAI,CAAC,CAAAtE,CAAElB,GAAG,MAAMjG,IAAIsJ,QAAQhM,GAAG6L,MAAMhD,GAAG/H,KAAKkN,KAAKvL,GAAGkG,GAAGyF,eAAexH,GAAGyH,WAAWrO,GAAE,GAAImL,EAAEY,YAAYtJ,EAAE,IAAIuG,EAAEmC,EAAEiB,WAAW/C,EAAE,EAAEC,EAAE,EAAEC,EAAEV,EAAE,GAAG,UAAK,IAASU,GAAG,CAAC,GAAGF,IAAIE,EAAEmD,MAAM,CAAC,IAAI1M,EAAE,IAAIuJ,EAAEzL,KAAKkC,EAAE,IAAIsO,EAAEtF,EAAEA,EAAEuF,YAAYzN,KAAK6H,GAAG,IAAIY,EAAEzL,KAAKkC,EAAE,IAAIuJ,EAAEoD,KAAK3D,EAAEO,EAAE/M,KAAK+M,EAAEoB,QAAQ7J,KAAK6H,GAAG,IAAIY,EAAEzL,OAAOkC,EAAE,IAAIwO,EAAExF,EAAElI,KAAK6H,IAAI7H,KAAKgN,KAAKnC,KAAK3L,GAAGuJ,EAAEV,IAAIS,EAAE,CAACD,IAAIE,GAAGmD,QAAQ1D,EAAEmC,EAAEiB,WAAW/C,IAAI,CAAC,OAAO8B,EAAEY,YAAYnF,EAAEnE,CAAC,CAAC,CAAA6H,CAAE3B,GAAG,IAAI3I,EAAE,EAAE,IAAI,MAAM6I,KAAK/H,KAAKgN,UAAK,IAASjF,SAAI,IAASA,EAAE8B,SAAS9B,EAAE4F,KAAK9F,EAAEE,EAAE7I,GAAGA,GAAG6I,EAAE8B,QAAQpL,OAAO,GAAGsJ,EAAE4F,KAAK9F,EAAE3I,KAAKA,GAAG,EAAE,MAAMsO,EAAE,QAAIH,GAAO,OAAOrN,KAAKmN,MAAME,MAAMrN,KAAK4N,IAAI,CAAC,WAAA/N,CAAYgI,EAAE3I,EAAE6I,EAAEpG,GAAG3B,KAAKhD,KAAK,EAAEgD,KAAK6N,KAAK3D,EAAElK,KAAKiN,UAAK,EAAOjN,KAAK8N,KAAKjG,EAAE7H,KAAK+N,KAAK7O,EAAEc,KAAKmN,KAAKpF,EAAE/H,KAAK9E,QAAQyG,EAAE3B,KAAK4N,KAAKjM,GAAGqM,cAAa,CAAE,CAAC,cAAIZ,GAAa,IAAIvF,EAAE7H,KAAK8N,KAAKV,WAAW,MAAMlO,EAAEc,KAAKmN,KAAK,YAAO,IAASjO,GAAG,KAAK2I,GAAG0D,WAAW1D,EAAE3I,EAAEkO,YAAYvF,CAAC,CAAC,aAAIoG,GAAY,OAAOjO,KAAK8N,IAAI,CAAC,WAAII,GAAU,OAAOlO,KAAK+N,IAAI,CAAC,IAAAJ,CAAK9F,EAAE3I,EAAEc,MAAM6H,EAAE2E,EAAExM,KAAK6H,EAAE3I,GAAGyJ,EAAEd,GAAGA,IAAIqC,GAAG,MAAMrC,GAAG,KAAKA,GAAG7H,KAAK6N,OAAO3D,GAAGlK,KAAKmO,OAAOnO,KAAK6N,KAAK3D,GAAGrC,IAAI7H,KAAK6N,MAAMhG,IAAImC,GAAGhK,KAAKqJ,EAAExB,QAAG,IAASA,EAAE+B,WAAW5J,KAAK0J,EAAE7B,QAAG,IAASA,EAAE0D,SAASvL,KAAKgK,EAAEnC,GAAGkB,EAAElB,GAAG7H,KAAKiM,EAAEpE,GAAG7H,KAAKqJ,EAAExB,EAAE,CAAC,CAAAuG,CAAEvG,GAAG,OAAO7H,KAAK8N,KAAKV,WAAWiB,aAAaxG,EAAE7H,KAAK+N,KAAK,CAAC,CAAA/D,CAAEnC,GAAG7H,KAAK6N,OAAOhG,IAAI7H,KAAKmO,OAAOnO,KAAK6N,KAAK7N,KAAKoO,EAAEvG,GAAG,CAAC,CAAAwB,CAAExB,GAAG7H,KAAK6N,OAAO3D,GAAGvB,EAAE3I,KAAK6N,MAAM7N,KAAK8N,KAAKL,YAAY1S,KAAK8M,EAAE7H,KAAKgK,EAAElE,EAAEwI,eAAezG,IAAI7H,KAAK6N,KAAKhG,CAAC,CAAC,CAAA6B,CAAE7B,GAAG,MAAMiC,OAAO5K,EAAE0K,WAAW7B,GAAGF,EAAElG,EAAE,iBAAiBoG,EAAE/H,KAAKuO,KAAK1G,SAAI,IAASE,EAAEnG,KAAKmG,EAAEnG,GAAGkJ,EAAEE,cAAcT,EAAExC,EAAEG,EAAEH,EAAEG,EAAE,IAAIlI,KAAK9E,UAAU6M,GAAG,GAAG/H,KAAK6N,MAAMX,OAAOvL,EAAE3B,KAAK6N,KAAKrE,EAAEtK,OAAO,CAAC,MAAM2I,EAAE,IAAIkF,EAAEpL,EAAE3B,MAAM+H,EAAEF,EAAEkB,EAAE/I,KAAK9E,SAAS2M,EAAE2B,EAAEtK,GAAGc,KAAKgK,EAAEjC,GAAG/H,KAAK6N,KAAKhG,CAAC,CAAC,CAAC,IAAA0G,CAAK1G,GAAG,IAAI3I,EAAEiL,EAAExD,IAAIkB,EAAEgC,SAAS,YAAO,IAAS3K,GAAGiL,EAAEqE,IAAI3G,EAAEgC,QAAQ3K,EAAE,IAAI4L,EAAEjD,IAAI3I,CAAC,CAAC,CAAA+M,CAAEpE,GAAGe,EAAE5I,KAAK6N,QAAQ7N,KAAK6N,KAAK,GAAG7N,KAAKmO,QAAQ,MAAMjP,EAAEc,KAAK6N,KAAK,IAAI9F,EAAEpG,EAAE,EAAE,IAAI,MAAMuG,KAAKL,EAAElG,IAAIzC,EAAET,OAAOS,EAAE2L,KAAK9C,EAAE,IAAIyF,EAAExN,KAAKoO,EAAE3F,KAAKzI,KAAKoO,EAAE3F,KAAKzI,KAAKA,KAAK9E,UAAU6M,EAAE7I,EAAEyC,GAAGoG,EAAE4F,KAAKzF,GAAGvG,IAAIA,EAAEzC,EAAET,SAASuB,KAAKmO,KAAKpG,GAAGA,EAAEgG,KAAKN,YAAY9L,GAAGzC,EAAET,OAAOkD,EAAE,CAAC,IAAAwM,CAAKtG,EAAE7H,KAAK8N,KAAKL,YAAYvO,GAAG,IAAIc,KAAKyO,QAAO,GAAG,EAAGvP,GAAG2I,IAAI7H,KAAK+N,MAAM,CAAC,MAAM7O,EAAE2I,EAAE4F,YAAY5F,EAAEvE,SAASuE,EAAE3I,CAAC,CAAC,CAAC,YAAAwP,CAAa7G,QAAG,IAAS7H,KAAKmN,OAAOnN,KAAK4N,KAAK/F,EAAE7H,KAAKyO,OAAO5G,GAAG,EAAE,MAAMoE,EAAE,WAAIE,GAAU,OAAOnM,KAAK2O,QAAQxC,OAAO,CAAC,QAAIkB,GAAO,OAAOrN,KAAKmN,KAAKE,IAAI,CAAC,WAAAxN,CAAYgI,EAAE3I,EAAE6I,EAAEpG,EAAEuG,GAAGlI,KAAKhD,KAAK,EAAEgD,KAAK6N,KAAK3D,EAAElK,KAAKiN,UAAK,EAAOjN,KAAK2O,QAAQ9G,EAAE7H,KAAKtE,KAAKwD,EAAEc,KAAKmN,KAAKxL,EAAE3B,KAAK9E,QAAQgN,EAAEH,EAAEtJ,OAAO,GAAG,KAAKsJ,EAAE,IAAI,KAAKA,EAAE,IAAI/H,KAAK6N,KAAKhF,MAAMd,EAAEtJ,OAAO,GAAGmQ,KAAK,IAAIC,QAAQ7O,KAAK6J,QAAQ9B,GAAG/H,KAAK6N,KAAK3D,CAAC,CAAC,IAAAyD,CAAK9F,EAAE3I,EAAEc,KAAK+H,EAAEpG,GAAG,MAAMuG,EAAElI,KAAK6J,QAAQ,IAAItB,GAAE,EAAG,QAAG,IAASL,EAAEL,EAAE2E,EAAExM,KAAK6H,EAAE3I,EAAE,GAAGqJ,GAAGI,EAAEd,IAAIA,IAAI7H,KAAK6N,MAAMhG,IAAImC,EAAEzB,IAAIvI,KAAK6N,KAAKhG,OAAO,CAAC,MAAMlG,EAAEkG,EAAE,IAAIW,EAAE1C,EAAE,IAAI+B,EAAEK,EAAE,GAAGM,EAAE,EAAEA,EAAEN,EAAEzJ,OAAO,EAAE+J,IAAI1C,EAAE0G,EAAExM,KAAK2B,EAAEoG,EAAES,GAAGtJ,EAAEsJ,GAAG1C,IAAIkE,IAAIlE,EAAE9F,KAAK6N,KAAKrF,IAAID,KAAKI,EAAE7C,IAAIA,IAAI9F,KAAK6N,KAAKrF,GAAG1C,IAAIoE,EAAErC,EAAEqC,EAAErC,IAAIqC,IAAIrC,IAAI/B,GAAG,IAAIoC,EAAEM,EAAE,IAAIxI,KAAK6N,KAAKrF,GAAG1C,CAAC,CAACyC,IAAI5G,GAAG3B,KAAK8O,EAAEjH,EAAE,CAAC,CAAAiH,CAAEjH,GAAGA,IAAIqC,EAAElK,KAAK2O,QAAQzC,gBAAgBlM,KAAKtE,MAAMsE,KAAK2O,QAAQI,aAAa/O,KAAKtE,KAAKmM,GAAG,GAAG,EAAE,MAAMiE,UAAUG,EAAE,WAAApM,GAAc+H,SAASoH,WAAWhP,KAAKhD,KAAK,CAAC,CAAC,CAAA8R,CAAEjH,GAAG7H,KAAK2O,QAAQ3O,KAAKtE,MAAMmM,IAAIqC,OAAE,EAAOrC,CAAC,EAAE,MAAMkE,UAAUE,EAAE,WAAApM,GAAc+H,SAASoH,WAAWhP,KAAKhD,KAAK,CAAC,CAAC,CAAA8R,CAAEjH,GAAG7H,KAAK2O,QAAQM,gBAAgBjP,KAAKtE,OAAOmM,GAAGA,IAAIqC,EAAE,EAAE,MAAM8B,UAAUC,EAAE,WAAApM,CAAYgI,EAAE3I,EAAE6I,EAAEpG,EAAEuG,GAAGN,MAAMC,EAAE3I,EAAE6I,EAAEpG,EAAEuG,GAAGlI,KAAKhD,KAAK,CAAC,CAAC,IAAA2Q,CAAK9F,EAAE3I,EAAEc,MAAM,IAAI6H,EAAE2E,EAAExM,KAAK6H,EAAE3I,EAAE,IAAIgL,KAAKF,EAAE,OAAO,MAAMjC,EAAE/H,KAAK6N,KAAKlM,EAAEkG,IAAIqC,GAAGnC,IAAImC,GAAGrC,EAAEqH,UAAUnH,EAAEmH,SAASrH,EAAEsH,OAAOpH,EAAEoH,MAAMtH,EAAEuH,UAAUrH,EAAEqH,QAAQlH,EAAEL,IAAIqC,IAAInC,IAAImC,GAAGvI,GAAGA,GAAG3B,KAAK2O,QAAQU,oBAAoBrP,KAAKtE,KAAKsE,KAAK+H,GAAGG,GAAGlI,KAAK2O,QAAQ3I,iBAAiBhG,KAAKtE,KAAKsE,KAAK6H,GAAG7H,KAAK6N,KAAKhG,CAAC,CAAC,WAAAyH,CAAYzH,GAAG,mBAAmB7H,KAAK6N,KAAK7N,KAAK6N,KAAK0B,KAAKvP,KAAK9E,SAASsU,MAAMxP,KAAK2O,QAAQ9G,GAAG7H,KAAK6N,KAAKyB,YAAYzH,EAAE,EAAE,MAAM6F,EAAE,WAAA7N,CAAYgI,EAAE3I,EAAE6I,GAAG/H,KAAK2O,QAAQ9G,EAAE7H,KAAKhD,KAAK,EAAEgD,KAAKiN,UAAK,EAAOjN,KAAKmN,KAAKjO,EAAEc,KAAK9E,QAAQ6M,CAAC,CAAC,QAAIsF,GAAO,OAAOrN,KAAKmN,KAAKE,IAAI,CAAC,IAAAM,CAAK9F,GAAG2E,EAAExM,KAAK6H,EAAE,EAAE,MAAkEiH,EAAEjH,EAAE4H,uBAAuBX,IAAIhE,EAAE0C,IAAI3F,EAAE6H,kBAAkB,IAAI7E,KAAK,SAAS,MAAM8E,EAAE,CAAC9H,EAAE3I,EAAE6I,KAAK,MAAMpG,EAAEoG,GAAG6H,cAAc1Q,EAAE,IAAIgJ,EAAEvG,EAAEkO,WAAW,QAAG,IAAS3H,EAAE,CAAC,MAAML,EAAEE,GAAG6H,cAAc,KAAKjO,EAAEkO,WAAW3H,EAAE,IAAIsF,EAAEtO,EAAEmP,aAAa5F,IAAIZ,GAAGA,OAAE,EAAOE,GAAG,CAAC,EAAE,CAAC,OAAOG,EAAEyF,KAAK9F,GAAGK,E,gDCEl6N,SAAS4H,IACZ,OAAK,SAGEtK,oBAAoBC,gDAFhB,IAAIE,QAASS,GAAYA,GAAQ,GAGhD,C,iBCNO,SAAS2J,EAAwBjR,GACpC,MAAME,EAAQ,IAAIC,WAAWH,GAC7B,IAAIkR,EAAM,GACV,IAAK,MAAMC,KAAYjR,EACnBgR,GAAOnB,OAAOqB,aAAaD,GAG/B,OADqBE,KAAKH,GACNzR,QAAQ,MAAO,KAAKA,QAAQ,MAAO,KAAKA,QAAQ,KAAM,GAC9E,C,iCCXO,SAAS6R,IACZ,OAAOC,EAAkClK,cAA6CxF,IAApCnB,YAAYgG,qBAChB,mBAAnChG,WAAWgG,oBAC1B,C,iBAKO,MAAM6K,EAAoC,CAC7ClK,SAAW/F,GAAUA,E,GCXrBkQ,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB7P,IAAjB8P,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUG,EAAQA,EAAOD,QAASH,GAG/CI,EAAOD,OACf,ClBtBItX,EAA8B,mBAAX4P,OACnB3P,EAAgBD,EAAY4P,OAAO,kBAAoB,qBACvD1P,EAAiBF,EAAY4P,OAAO,mBAAqB,sBACzDzP,EAAeH,EAAY4P,OAAO,iBAAmB,oBAGrDxP,EAAgBqX,IAChBA,GAASA,EAAM3H,EAAI,IACrB2H,EAAM3H,EAAI,EACV2H,EAAM7M,QAAS8M,GAAQA,EAAGhL,KAC1B+K,EAAM7M,QAAS8M,GAAQA,EAAGhL,IAAMgL,EAAGhL,IAAMgL,OA4B3CP,EAAoB3H,EAAI,CAAC+H,EAAQtW,EAAM0W,KACtC,IAAIF,EACJE,KAAcF,EAAQ,IAAI3H,GAAK,GAC/B,IAEI8H,EACAC,EACAC,EAJAC,EAAY,IAAIC,IAChBV,EAAUC,EAAOD,QAIjBW,EAAU,IAAI1L,QAAQ,CAACS,EAASkL,KACnCJ,EAASI,EACTL,EAAe7K,IAEhBiL,EAAQ/X,GAAkBoX,EAC1BW,EAAQhY,GAAkByX,IAAQD,GAASC,EAAGD,GAAQM,EAAUnN,QAAQ8M,GAAKO,EAAe,MAAEtH,QAC9F4G,EAAOD,QAAUW,EAkBjBhX,EAjBckX,IAEb,IAAIT,EADJE,EAzCa,CAACO,GAAUA,EAAKlV,IAAKmV,IACnC,GAAW,OAARA,GAA+B,iBAARA,EAAkB,CAE3C,GAAGA,EAAInY,GAAgB,OAAOmY,EAC9B,GAAGA,EAAI/N,KAAM,CACZ,IAAIoN,EAAQ,GACZA,EAAM3H,EAAI,EACVsI,EAAI/N,KAAMqC,IACT2L,EAAInY,GAAkBwM,EACtBtM,EAAaqX,IACVlP,IACH8P,EAAIlY,GAAgBoI,EACpBnI,EAAaqX,KAEd,IAAIY,EAAM,CAAC,EAGX,OADAA,EAAIpY,GAAkByX,GAAQA,EAAGD,GAC1BY,CACR,CACD,CACA,IAAIC,EAAM,CAAC,EAGX,OAFAA,EAAIrY,GAAiB0Q,MACrB2H,EAAIpY,GAAkBkY,EACfE,IAkBQC,CAASJ,GAEvB,IAAIK,EAAY,IAAOZ,EAAY3U,IAAK6M,IAEvC,GAAGA,EAAE3P,GAAe,MAAM2P,EAAE3P,GAC5B,OAAO2P,EAAE5P,KAEN+X,EAAU,IAAI1L,QAASS,KAC1B0K,EAAK,IAAO1K,EAAQwL,IACjB9L,EAAI,EACP,IAAI+L,EAAWC,GAAOA,IAAMjB,IAAUM,EAAUY,IAAID,KAAOX,EAAUjN,IAAI4N,GAAIA,IAAMA,EAAE5I,IAAM4H,EAAGhL,IAAKgM,EAAEjH,KAAKiG,KAC1GE,EAAY3U,IAAKmV,GAASA,EAAInY,GAAewY,MAE9C,OAAOf,EAAGhL,EAAIuL,EAAUO,KAEb/U,IAAUA,EAAMqU,EAAOG,EAAQ9X,GAAgBsD,GAAOoU,EAAaP,GAAWlX,EAAaqX,KAEvGA,GAASA,EAAM3H,EAAI,IAAM2H,EAAM3H,EAAI,ImBtEpCqH,EAAoBrH,EAAI,CAACwH,EAASsB,KACjC,IAAI,IAAIC,KAAOD,EACXzB,EAAoBhI,EAAEyJ,EAAYC,KAAS1B,EAAoBhI,EAAEmI,EAASuB,IAC5EnS,OAAOC,eAAe2Q,EAASuB,EAAK,CAAEhS,YAAY,EAAM0G,IAAKqL,EAAWC,MCJ3E1B,EAAoBhI,EAAI,CAACkJ,EAAKS,IAAUpS,OAAOqS,UAAU3H,eAAe+E,KAAKkC,EAAKS,GCGxD3B,EAAoB,K","sources":["webpack://init-cms-bundle/webpack/runtime/async module","webpack://init-cms-bundle/./assets/cms/authentication/webauthn/client.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/methods/startRegistration.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/base64URLStringToBuffer.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/identifyAuthenticationError.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/webAuthnAbortService.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/toPublicKeyCredentialDescriptor.js","webpack://init-cms-bundle/./assets/cms/authentication/webauthn/register.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/browserSupportsWebAuthnAutofill.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/methods/startAuthentication.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/toAuthenticatorAttachment.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/identifyRegistrationError.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/isValidDomain.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/webAuthnError.js","webpack://init-cms-bundle/./node_modules/.pnpm/lit-html@3.3.1/node_modules/lit-html/lit-html.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/platformAuthenticatorIsAvailable.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/bufferToBase64URLString.js","webpack://init-cms-bundle/./node_modules/.pnpm/@simplewebauthn+browser@13.2.2/node_modules/@simplewebauthn/browser/esm/helpers/browserSupportsWebAuthn.js","webpack://init-cms-bundle/webpack/bootstrap","webpack://init-cms-bundle/webpack/runtime/define property getters","webpack://init-cms-bundle/webpack/runtime/hasOwnProperty shorthand","webpack://init-cms-bundle/webpack/startup"],"sourcesContent":["var hasSymbol = typeof Symbol === \"function\";\nvar webpackQueues = hasSymbol ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = hasSymbol ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = hasSymbol ? Symbol(\"webpack error\") : \"__webpack_error__\";\n\n\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tvar handle = (deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}\n\tvar done = (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue))\n\tbody(handle, done);\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","import { startRegistration, startAuthentication } from '@simplewebauthn/browser';\n\nexport async function _fetch(path, payload = '') {\n    const headers = {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'application/json'\n    };\n    if (payload && !(payload instanceof FormData)) {\n        payload = JSON.stringify(payload);\n    }\n    const res = await fetch(path, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: headers,\n        body: payload,\n    });\n    if (res.status === 200 || res.status === 201) {\n        // Server authentication succeeded\n        return res.json();\n    } else {\n        // Server authentication failed\n        const result = await res.json();\n\n        if(result.message){\n            throw new Error(result.message);\n        }\n\n        throw new Error(result.error);\n    }\n}\n\n\nexport async function registerCredential(username, displayName) {\n\n    let data = {\n        username: username,\n        displayName: displayName,\n        authenticatorSelection: {\n            userVerification: 'preferred',\n        },\n    }\n\n    const options = await _fetch('/admin/register/options', data);\n\n    let attResp;\n    try {\n        // Pass the options to the authenticator and wait for a response\n        attResp = await startRegistration(options);\n    } catch (error) {\n\n        throw error;\n    }\n\n    return await _fetch(CMSRouting.generate('initcms_webauthn_register_response'), attResp);\n\n}\nexport async function authenticate(username) {\n    let payload = {\n        requireUserVerification: 'preferred',\n    }\n\n    if(username){\n        payload.username = username;\n    }\n    const options = await _fetch('/admin/assertion/options', payload);\n    if(username && options.allowCredentials === undefined){\n        throw new Error('no_credentials');\n    }\n\n\n    let asseResp;\n    try {\n        // Pass the options to the authenticator and wait for a response\n        asseResp = await startAuthentication(options);\n    } catch (error) {\n        throw error;\n    }\n\n    return _fetch('/admin/assertion', asseResp);\n}\n\nexport async function unregisterCredential(credId) {\n    return _fetch(CMSRouting.generate('admin_networking_initcms_user_remove_webauthn_key') + `?credId=${encodeURIComponent(credId)}`);\n}\n\nexport async function updateCredential(credId, name) {\n    return _fetch(CMSRouting.generate('admin_networking_initcms_user_rename_webauthn_key') + `?credId=${encodeURIComponent(credId)}&name=${encodeURIComponent(name)}`);\n}\n","import { bufferToBase64URLString } from '../helpers/bufferToBase64URLString.js';\nimport { base64URLStringToBuffer } from '../helpers/base64URLStringToBuffer.js';\nimport { browserSupportsWebAuthn } from '../helpers/browserSupportsWebAuthn.js';\nimport { toPublicKeyCredentialDescriptor } from '../helpers/toPublicKeyCredentialDescriptor.js';\nimport { identifyRegistrationError } from '../helpers/identifyRegistrationError.js';\nimport { WebAuthnAbortService } from '../helpers/webAuthnAbortService.js';\nimport { toAuthenticatorAttachment } from '../helpers/toAuthenticatorAttachment.js';\n/**\n * Begin authenticator \"registration\" via WebAuthn attestation\n *\n * @param optionsJSON Output from **@simplewebauthn/server**'s `generateRegistrationOptions()`\n * @param useAutoRegister (Optional) Try to silently create a passkey with the password manager that the user just signed in with. Defaults to `false`.\n */\nexport async function startRegistration(options) {\n    // @ts-ignore: Intentionally check for old call structure to warn about improper API call\n    if (!options.optionsJSON && options.challenge) {\n        console.warn('startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information.');\n        // @ts-ignore: Reassign the options, passed in as a positional argument, to the expected variable\n        options = { optionsJSON: options };\n    }\n    const { optionsJSON, useAutoRegister = false } = options;\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    // We need to convert some values to Uint8Arrays before passing the credentials to the navigator\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        user: {\n            ...optionsJSON.user,\n            id: base64URLStringToBuffer(optionsJSON.user.id),\n        },\n        excludeCredentials: optionsJSON.excludeCredentials?.map(toPublicKeyCredentialDescriptor),\n    };\n    // Prepare options for `.create()`\n    const createOptions = {};\n    /**\n     * Try to use conditional create to register a passkey for the user with the password manager\n     * the user just used to authenticate with. The user won't be shown any prominent UI by the\n     * browser.\n     */\n    if (useAutoRegister) {\n        // @ts-ignore: `mediation` doesn't yet exist on CredentialCreationOptions but it's possible as of Sept 2024\n        createOptions.mediation = 'conditional';\n    }\n    // Finalize options\n    createOptions.publicKey = publicKey;\n    // Set up the ability to cancel this request if the user attempts another\n    createOptions.signal = WebAuthnAbortService.createNewAbortSignal();\n    // Wait for the user to complete attestation\n    let credential;\n    try {\n        credential = (await navigator.credentials.create(createOptions));\n    }\n    catch (err) {\n        throw identifyRegistrationError({ error: err, options: createOptions });\n    }\n    if (!credential) {\n        throw new Error('Registration was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    // Continue to play it safe with `getTransports()` for now, even when L3 types say it's required\n    let transports = undefined;\n    if (typeof response.getTransports === 'function') {\n        transports = response.getTransports();\n    }\n    // L3 says this is required, but browser and webview support are still not guaranteed.\n    let responsePublicKeyAlgorithm = undefined;\n    if (typeof response.getPublicKeyAlgorithm === 'function') {\n        try {\n            responsePublicKeyAlgorithm = response.getPublicKeyAlgorithm();\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKeyAlgorithm()', error);\n        }\n    }\n    let responsePublicKey = undefined;\n    if (typeof response.getPublicKey === 'function') {\n        try {\n            const _publicKey = response.getPublicKey();\n            if (_publicKey !== null) {\n                responsePublicKey = bufferToBase64URLString(_publicKey);\n            }\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKey()', error);\n        }\n    }\n    // L3 says this is required, but browser and webview support are still not guaranteed.\n    let responseAuthenticatorData;\n    if (typeof response.getAuthenticatorData === 'function') {\n        try {\n            responseAuthenticatorData = bufferToBase64URLString(response.getAuthenticatorData());\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getAuthenticatorData()', error);\n        }\n    }\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            attestationObject: bufferToBase64URLString(response.attestationObject),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            transports,\n            publicKeyAlgorithm: responsePublicKeyAlgorithm,\n            publicKey: responsePublicKey,\n            authenticatorData: responseAuthenticatorData,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\n/**\n * Visibly warn when we detect an issue related to a passkey provider intercepting WebAuthn API\n * calls\n */\nfunction warnOnBrokenImplementation(methodName, cause) {\n    console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${methodName}. You should report this error to them.\\n`, cause);\n}\n","/**\n * Convert from a Base64URL-encoded string to an Array Buffer. Best used when converting a\n * credential ID from a JSON string to an ArrayBuffer, like in allowCredentials or\n * excludeCredentials\n *\n * Helper method to compliment `bufferToBase64URLString`\n */\nexport function base64URLStringToBuffer(base64URLString) {\n    // Convert from Base64URL to Base64\n    const base64 = base64URLString.replace(/-/g, '+').replace(/_/g, '/');\n    /**\n     * Pad with '=' until it's a multiple of four\n     * (4 - (85 % 4 = 1) = 3) % 4 = 3 padding\n     * (4 - (86 % 4 = 2) = 2) % 4 = 2 padding\n     * (4 - (87 % 4 = 3) = 1) % 4 = 1 padding\n     * (4 - (88 % 4 = 0) = 4) % 4 = 0 padding\n     */\n    const padLength = (4 - (base64.length % 4)) % 4;\n    const padded = base64.padEnd(base64.length + padLength, '=');\n    // Convert to a binary string\n    const binary = atob(padded);\n    // Convert binary string to buffer\n    const buffer = new ArrayBuffer(binary.length);\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return buffer;\n}\n","import { isValidDomain } from './isValidDomain.js';\nimport { WebAuthnError } from './webAuthnError.js';\n/**\n * Attempt to intuit _why_ an error was raised after calling `navigator.credentials.get()`\n */\nexport function identifyAuthenticationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 16)\n            return new WebAuthnError({\n                message: 'Authentication ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'NotAllowedError') {\n        /**\n         * Pass the error directly through. Platforms are overloading this error beyond what the spec\n         * defines and we don't want to overwrite potentially useful error messages.\n         */\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = globalThis.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-discover-from-external-source (Step 5)\n            return new WebAuthnError({\n                message: `${globalThis.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rpId !== effectiveDomain) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-discover-from-external-source (Step 6)\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rpId}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-get-assertion (Step 1)\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-get-assertion (Step 12)\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new assertion signature',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n","class BaseWebAuthnAbortService {\n    constructor() {\n        Object.defineProperty(this, \"controller\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n    }\n    createNewAbortSignal() {\n        // Abort any existing calls to navigator.credentials.create() or navigator.credentials.get()\n        if (this.controller) {\n            const abortError = new Error('Cancelling existing WebAuthn API call for new one');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n        }\n        const newController = new AbortController();\n        this.controller = newController;\n        return newController.signal;\n    }\n    cancelCeremony() {\n        if (this.controller) {\n            const abortError = new Error('Manually cancelling existing WebAuthn API call');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n            this.controller = undefined;\n        }\n    }\n}\n/**\n * A service singleton to help ensure that only a single WebAuthn ceremony is active at a time.\n *\n * Users of **@simplewebauthn/browser** shouldn't typically need to use this, but it can help e.g.\n * developers building projects that use client-side routing to better control the behavior of\n * their UX in response to router navigation events.\n */\nexport const WebAuthnAbortService = new BaseWebAuthnAbortService();\n","import { base64URLStringToBuffer } from './base64URLStringToBuffer.js';\nexport function toPublicKeyCredentialDescriptor(descriptor) {\n    const { id } = descriptor;\n    return {\n        ...descriptor,\n        id: base64URLStringToBuffer(id),\n        /**\n         * `descriptor.transports` is an array of our `AuthenticatorTransportFuture` that includes newer\n         * transports that TypeScript's DOM lib is ignorant of. Convince TS that our list of transports\n         * are fine to pass to WebAuthn since browsers will recognize the new value.\n         */\n        transports: descriptor.transports,\n    };\n}\n","import { html, render } from 'lit-html';\nimport {\n    browserSupportsWebAuthn,\n    browserSupportsWebAuthnAutofill,\n    platformAuthenticatorIsAvailable, WebAuthnAbortService, startAuthentication\n} from '@simplewebauthn/browser';\nimport {\n    _fetch,\n    unregisterCredential,\n    updateCredential,\n    registerCredential, authenticate,\n} from './client.js';\nlet Translator = await CMSAdmin.getTranslator();\nconst createPasskeyButtons = document.querySelectorAll('.create-passkey');\nconst testSigninButton = document.querySelector('#test-signin');\nconst deleteAuthenticatorButton = document.querySelector('#delete-authenticator');\nconst createAuthenticatorButton = document.querySelector('#create-authenticator');\nconst currentAuthenticator= document.querySelector('#current-authenticator');\nconst webauthnEnabled = document.querySelector(\"meta[name='webauthn-enabled']\").getAttribute(\"content\");\nconst googleAuthenticatorEnabled = document.querySelector(\"meta[name='google-authenticator-enabled']\").getAttribute(\"content\");\n\n\nasync function rename(e) {\n    let el = e.target\n    if(!el.classList.contains('btn')) {\n        el = el.closest('.btn');\n    }\n    const { credId, name } = el.dataset;\n    try{\n        const { value: newName, isConfirmed: isConfirmed } = await Swal.fire({\n            title: Translator.trans('passkey_rename.title', [], 'security'),\n            inputLabel: Translator.trans('passkey_rename.input_label', [], 'security'),\n            input: 'text',\n            inputValue: name,\n            inputValidator: (value) => {\n                if (!value) {\n                    return Translator.trans('passkey_rename.input_invalid', [], 'security');\n                }\n            },\n            buttonsStyling: false,\n            showCancelButton: true,\n            confirmButtonText: Translator.trans('submit', [], 'security'),\n            cancelButtonText: Translator.trans('cancel', [], 'security'),\n            reverseButtons: true,\n            customClass: {\n                confirmButton: \"btn btn-sm btn-primary\",\n                cancelButton: \"btn btn-sm btn-light\"\n            }\n        })\n\n        if (isConfirmed) {\n            await updateCredential(credId, newName);\n            renderCredentials();\n        }\n    }catch (e) {\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n    }\n};\n\nasync function remove(e) {\n    Swal.fire({\n        title: Translator.trans('passkey_delete.title', [], 'security'),\n        text: Translator.trans('passkey_delete.text', [], 'security'),\n        icon: 'warning',\n        buttonsStyling: false,\n        showCancelButton: true,\n        confirmButtonText: Translator.trans('delete', [], 'security'),\n        cancelButtonText: Translator.trans('cancel', [], 'security'),\n        reverseButtons: true,\n        customClass: {\n            confirmButton: \"btn btn-sm btn-danger\",\n            cancelButton: \"btn btn-sm btn-light\"\n        }\n    }).then(async (result) => {\n\n        if (!result.isConfirmed) {\n            return;\n        }\n        let el = e.target\n        if(!el.classList.contains('btn')) {\n            el = el.closest('.btn');\n        }\n        try {\n            await unregisterCredential(el.dataset.credId);\n            renderCredentials();\n        } catch (e) {\n            alert(e.message);\n        }\n    })\n}\n\nasync function renderCredentials() {\n    try {\n        let res = await _fetch(CMSRouting.generate('admin_networking_initcms_user_get_webauthn_keys'))\n        const list = document.querySelector('#list');\n        document.querySelector('#passkeys-setup').classList.toggle('d-none', res.length < 1);\n        document.querySelector('#passkeys-not-setup').classList.toggle('d-none', res.length > 0);\n        const creds = html`${res.length > 0 ? html`\n\n                <ul class=\"list-group\">\n                      ${res.map(cred => html`\n                          <li class=\"list-group-item d-flex justify-content-between align-items-start\">\n                              <div>\n                                 <img src=\"${cred.icon}\" class=\"w-25px\">\n                              </div>\n                              <div class=\"w-75\">\n                                  <div>${cred.name || 'Unnamed'}</div>\n                                  <div class=\"text-muted\">${cred.createdAt}</div>\n                              </div>\n                              <div class=\"buttons\">\n\n                                  <button data-cred-id=\"${cred.id}\" @click=\"${rename}\" data-name=\"${cred.name}\"\n                                          class=\" btn btn-light btn-sm \"\n                                          data-bs-toggle=\"tooltip\"\n                                          data-bs-placement=\"bottom\" aria-label=\"${Translator.trans(\"action_edit\", [], \"SonataAdminBundle\")}\"\n                                          data-bs-original-title=\"${Translator.trans(\"action_edit\", [], \"SonataAdminBundle\")}\"\n                                          title=\"${Translator.trans(\"action_edit\", [], \"SonataAdminBundle\")}\">\n                                      <i class=\"ki-outline ki-pencil fs-3\"></i>\n                                  </button>\n\n                                  <button data-cred-id=\"${cred.id}\" @click=\"${remove}\"\n                                          class=\"btn btn-light btn-sm\"\n                                          data-bs-toggle=\"tooltip\"\n                                          data-bs-placement=\"bottom\"\n                                          aria-label=\"${Translator.trans(\"action_delete\", [], \"SonataAdminBundle\")}\" \n                                          data-bs-original-title=\"${Translator.trans(\"action_delete\", [], \"SonataAdminBundle\")}\"\n                                          title=\"${Translator.trans(\"action_delete\", [], \"SonataAdminBundle\")}\">\n                                      <i class=\"ki-outline ki-trash fs-3 \"></i>\n                                  </button>\n                              </div>\n                          </li>`)}\n                  </ul>` : html`\n                <ul class=\"list-group\">\n                    <li  class=\"list-group-item\">${Translator.trans('passkey_create.no_credentials_found', [], 'security')}</li>\n                  </ul>`}`;\n        render(creds, list);\n\n        createPasskeyButtons.forEach((button) => {\n            button.classList.remove('d-none');\n        })\n    }catch(e) {\n        document.querySelector('#show-passkeys').classList.add('d-none')\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n    }\n}\n\nasync function renderAutheticator() {\n    try {\n        let res = await _fetch(CMSRouting.generate('admin_networking_initcms_user_profile_security_get_authenticator'))\n        const list = document.querySelector('#list-authenticator');\n        createAuthenticatorButton.classList.toggle('d-none', res.hasStepVerificationCode);\n        const creds = html`${res.hasStepVerificationCode ? html`\n            <ul class=\"list-group\">\n                <li class=\"list-group-item d-flex justify-content-between align-items-start\">\n                    <div>\n                        <img src=\"${res.qrCodeUrl}\" class=\"w-150px\">\n                    </div>\n                    <div class=\"w-75\">\n                        <div><strong>${Translator.trans('authenticator_edit.current_authenticator', [], 'security')}</strong></div>\n                        <div class=\"text-muted\">${res.secret}</div>\n                    </div>\n                    <div class=\"buttons\">\n                        <button id=\"edit-authenticator\" type=\"button\" @click=\"${editAuthenticator}\"\n                                class=\"btn btn-light btn-sm\"\n                                data-bs-toggle=\"tooltip\"\n                                data-bs-placement=\"bottom\"\n                                aria-label=\"${Translator.trans('action_edit', [], 'SonataAdminBundle')}\"\n                                data-bs-original-title=\"${Translator.trans('action_edit', [], 'SonataAdminBundle')}\">\n                            <i class=\"ki-outline ki-pencil fs-3 \"></i>\n                        </button>\n                    </div>\n                </li>\n              </ul>` : html`\n            <ul class=\"list-group\">\n                <li class=\"list-group-item\">${Translator.trans('authenticator_edit.no_authenticator_found', [], 'security')}</li>\n              </ul>`}`;\n        render(creds, list);\n    }catch(e) {\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n    }\n}\n\n\nasync function register() {\n    try {\n        let username = document.querySelector('meta[name=\"username\"]').getAttribute('content')\n        let displayName = document.querySelector('meta[name=\"displayName\"]').getAttribute('content')\n\n        // Start the loading UI.\n\n        // Start creating a passkey.\n        await registerCredential(username, displayName);\n\n        // Stop the loading UI.\n\n        // Render the updated passkey list.\n        renderCredentials();\n    } catch (e) {\n\n        // Stop the loading UI.\n\n        // An InvalidStateError indicates that a passkey already exists on the device.\n        if (e.name === 'InvalidStateError') {\n            Swal.fire({\n                title: Translator.trans('passkey_create.passkey_exists_for_device_method', [], 'security'),\n                html: `<div class=\"d-flex flex-column align-items-center\">\n                    <div class=\"stack w-150px position-relative\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/face-id.svg\" alt=\"WebAuthn\" class=\"position-absolute top-50 w-25px\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/fingerprint.svg\" alt=\"WebAuthn\" class=\"position-absolute top-25 end-0 w-30px\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/passkey-local.svg\" alt=\"WebAuthn\" class=\"w-50px position-absolute top-50 start-50 translate-middle\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/phone.svg\" alt=\"WebAuthn\" class=\"w-150px\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/password.svg\" alt=\"WebAuthn\" class=\"w-30px position-absolute bottom-25 end-0\">\n                    </div>\n                </div>\n`,\n                buttonsStyling: false,\n                showCancelButton: false,\n                confirmButtonText: Translator.trans('continue', [], 'security'),\n                customClass: {\n                    htmlContainer: 'h-100',\n                    confirmButton: \"btn btn-sm btn-success\",\n                }\n            })\n\n            // A NotAllowedError indicates that the user canceled the operation.\n        } else if (e.name === 'NotAllowedError') {\n\n            // Show other errors in an alert.\n        } else {\n            CMSAdmin.createInitCmsMessageBox('error', e.message);\n        }\n    }\n}\n\nfunction startRegistration() {\n    Swal.fire({\n        title: Translator.trans('passkey_create.title', [], 'security'),\n        html: `<div class=\"d-flex flex-column align-items-center\">\n                    <div class=\"stack w-150px position-relative\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/face-id.svg\" alt=\"WebAuthn\" class=\"position-absolute top-50 w-25px\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/fingerprint.svg\" alt=\"WebAuthn\" class=\"position-absolute top-25 end-0 w-30px\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/passkey-local.svg\" alt=\"WebAuthn\" class=\"w-50px position-absolute top-50 start-50 translate-middle\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/phone.svg\" alt=\"WebAuthn\" class=\"w-150px\">\n                        <img src=\"/bundles/networkinginitcms/img/fido/password.svg\" alt=\"WebAuthn\" class=\"w-30px position-absolute bottom-25 end-0\">\n                    </div>\n                    <p>${Translator.trans('passkey_create.text', [], 'security')}</p>\n                </div>\n`,\n        buttonsStyling: false,\n        showCancelButton: true,\n        confirmButtonText: Translator.trans('continue', [], 'security'),\n        cancelButtonText: Translator.trans('cancel', [], 'security'),\n        customClass: {\n            htmlContainer: 'h-100',\n            confirmButton: \"btn btn-sm btn-primary\",\n            cancelButton: \"btn btn-sm btn-light\"\n        }\n    }).then((result) => {\n        /* Read more about isConfirmed, isDenied below */\n        if (result.isConfirmed) {\n            register()\n        }\n    });\n}\n\nasync function createAuthenticator() {\n\n    try{\n        const authenticator = await _fetch(CMSRouting.generate('admin_networking_initcms_user_profile_security_create_authenticator'))\n\n        let qrCodeUrl = authenticator.qrCodeUrl;\n        let secret = authenticator.secret;\n\n        Swal.fire({\n            title: Translator.trans('authenticator_edit.setup_authenticator_title', [], 'security'),\n            html: `<div class=\"d-flex flex-column align-items-center\">\n                    ${Translator.trans('authenticator_edit.setup_authenticator_text', [], 'security')}\n                    <div class=\"stack w-150px position-relative\">\n                        <img src=\"${qrCodeUrl}\"  class=\"w-150px\">\n                    </div>\n                    \n                    <p>${Translator.trans('authenticator_edit.setup_authenticator_text2', [], 'security')}</p>\n                    \n                    <div class=\"w-250px\">\n                        <code>${secret}</code>\n                </div>\n`,\n            buttonsStyling: false,\n            showCancelButton: true,\n            confirmButtonText: Translator.trans('next', [], 'security'),\n            cancelButtonText: Translator.trans('cancel', [], 'security'),\n            customClass: {\n                htmlContainer: 'h-100',\n                confirmButton: \"btn btn-primary\",\n                cancelButton: \"btn btn-light\"\n            }\n        }).then((result) => {\n            /* Read more about isConfirmed, isDenied below */\n            if (result.isConfirmed) {\n\n                verifyCode();\n            }\n        });\n    }catch (e) {\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n    }\n}\n\nasync function verifyCode() {\n    try{\n\n        const { value: code, isDenied: isDenied } = await Swal.fire({\n            title: Translator.trans('authenticator_edit.verify_code_title', [], 'security'),\n            inputLabel: Translator.trans('authenticator_edit.verify_code_text', [], 'security'),\n            input: 'text',\n            inputAttributes: {\n                autocomplete: 'one-time-code',\n            },\n            buttonsStyling: false,\n            showCancelButton: true,\n            showDenyButton: true,\n            denyButtonText: Translator.trans('back', [], 'security'),\n            confirmButtonText: Translator.trans('confirm', [], 'security'),\n            cancelButtonText: Translator.trans('cancel', [], 'security'),\n            reverseButtons: true,\n            customClass: {\n                denyButton: \"btn btn-light-primary\",\n                confirmButton: \"btn btn-primary\",\n                cancelButton: \"btn btn-light\"\n            }\n        })\n\n        if(isDenied) {\n            return createAuthenticator();\n        }\n\n        if (code) {\n            let result =  await _fetch(CMSRouting.generate('admin_networking_initcms_user_profile_security_verify_authenticator'), {_code: code})\n\n            if(result && 'ok' === result.status) {\n\n                Swal.fire({\n                    text: Translator.trans('test.success_text', [], 'security'),\n                    icon: \"success\",\n                    buttonsStyling: false,\n                    confirmButtonText: Translator.trans('continue', [], 'security'),\n                    customClass: {\n                        confirmButton: \"btn btn-primary\"\n                    }\n                });\n\n                renderAutheticator();\n            }\n        }\n    }catch (e) {\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n    }\n}\n\nasync function editAuthenticator() {\n    try{\n        const {isConfirmed: isConfirmed} = await Swal.fire({\n            title: Translator.trans('authenticator_edit.change_authenticator_title', [], 'security'),\n            text: Translator.trans('authenticator_edit.change_authenticator_text', [], 'security'),\n            buttonsStyling: false,\n            showCancelButton: true,\n            confirmButtonText: Translator.trans('edit', [], 'security'),\n            cancelButtonText: Translator.trans('cancel', [], 'security'),\n            customClass: {\n                confirmButton: \"btn btn-primary\",\n                cancelButton: \"btn btn-light\"\n            }\n        })\n\n        if (isConfirmed) {\n            createAuthenticator();\n        }\n\n    } catch (e) {\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n    }\n}\n\nasync function testSignin() {\n\n    const options = await _fetch('/admin/assertion/options', {\n        requireUserVerification: 'preferred',\n    });\n\n    let asseResp;\n    try {\n        // Pass the options to the authenticator and wait for a response\n        asseResp = await startAuthentication(options);\n    } catch (e) {\n\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n\n        return;\n    }\n\n    try{\n        const result = await _fetch('/admin/assertion', asseResp);\n\n        if(result && 'ok' === result.status) {\n\n            Swal.fire({\n                text: Translator.trans('test.success_text', [], 'security'),\n                icon: \"success\",\n                buttonsStyling: false,\n                confirmButtonText: Translator.trans('continue', [], 'security'),\n                customClass: {\n                    confirmButton: \"btn btn-primary\"\n                }\n            });\n\n            return;\n\n        }\n\n        throw new Error(\"User not found.\");\n    }catch(e){\n\n        CMSAdmin.createInitCmsMessageBox('error', e.message);\n    }\n}\n\nif(webauthnEnabled){\n\n    if (browserSupportsWebAuthn() &&\n        PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable &&\n        PublicKeyCredential.isConditionalMediationAvailable) {\n        try {\n            const results = await Promise.all([\n\n                // Is platform authenticator available in this browser?\n                platformAuthenticatorIsAvailable(),\n\n                // Is conditional UI available in this browser?\n                browserSupportsWebAuthnAutofill()\n            ]);\n\n\n            if (results.every(r => r === true)) {\n                renderCredentials();\n            } else {\n\n                // If conditional UI isn't available, show a message.\n                document.querySelector('#message').innerText = Translator.trans('passkey_create.webauthn_not_available', [], 'security');\n            }\n        } catch (e) {\n            CMSAdmin.createInitCmsMessageBox('error', e);\n        }\n    } else {\n\n        // If WebAuthn isn't available, show a message.\n        document.querySelector('#message').innerText = Translator.trans('passkey_create.webauthn_not_available', [], 'security')\n    }\n    createPasskeyButtons.forEach((button) => {\n        button.addEventListener('click', startRegistration);\n    });\n    testSigninButton.addEventListener('click', testSignin);\n}\n\nif(googleAuthenticatorEnabled){\n    renderAutheticator();\n    createAuthenticatorButton.addEventListener('click', createAuthenticator);\n}","import { browserSupportsWebAuthn } from './browserSupportsWebAuthn.js';\n/**\n * Determine if the browser supports conditional UI, so that WebAuthn credentials can\n * be shown to the user in the browser's typical password autofill popup.\n */\nexport function browserSupportsWebAuthnAutofill() {\n    if (!browserSupportsWebAuthn()) {\n        return _browserSupportsWebAuthnAutofillInternals.stubThis(new Promise((resolve) => resolve(false)));\n    }\n    /**\n     * I don't like the `as unknown` here but there's a `declare var PublicKeyCredential` in\n     * TS' DOM lib that's making it difficult for me to just go `as PublicKeyCredentialFuture` as I\n     * want. I think I'm fine with this for now since it's _supposed_ to be temporary, until TS types\n     * have a chance to catch up.\n     */\n    const globalPublicKeyCredential = globalThis\n        .PublicKeyCredential;\n    if (globalPublicKeyCredential?.isConditionalMediationAvailable === undefined) {\n        return _browserSupportsWebAuthnAutofillInternals.stubThis(new Promise((resolve) => resolve(false)));\n    }\n    return _browserSupportsWebAuthnAutofillInternals.stubThis(globalPublicKeyCredential.isConditionalMediationAvailable());\n}\n// Make it possible to stub the return value during testing\nexport const _browserSupportsWebAuthnAutofillInternals = {\n    stubThis: (value) => value,\n};\n","import { bufferToBase64URLString } from '../helpers/bufferToBase64URLString.js';\nimport { base64URLStringToBuffer } from '../helpers/base64URLStringToBuffer.js';\nimport { browserSupportsWebAuthn } from '../helpers/browserSupportsWebAuthn.js';\nimport { browserSupportsWebAuthnAutofill } from '../helpers/browserSupportsWebAuthnAutofill.js';\nimport { toPublicKeyCredentialDescriptor } from '../helpers/toPublicKeyCredentialDescriptor.js';\nimport { identifyAuthenticationError } from '../helpers/identifyAuthenticationError.js';\nimport { WebAuthnAbortService } from '../helpers/webAuthnAbortService.js';\nimport { toAuthenticatorAttachment } from '../helpers/toAuthenticatorAttachment.js';\n/**\n * Begin authenticator \"login\" via WebAuthn assertion\n *\n * @param optionsJSON Output from **@simplewebauthn/server**'s `generateAuthenticationOptions()`\n * @param useBrowserAutofill (Optional) Initialize conditional UI to enable logging in via browser autofill prompts. Defaults to `false`.\n * @param verifyBrowserAutofillInput (Optional) Ensure a suitable `<input>` element is present when `useBrowserAutofill` is `true`. Defaults to `true`.\n */\nexport async function startAuthentication(options) {\n    // @ts-ignore: Intentionally check for old call structure to warn about improper API call\n    if (!options.optionsJSON && options.challenge) {\n        console.warn('startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information.');\n        // @ts-ignore: Reassign the options, passed in as a positional argument, to the expected variable\n        options = { optionsJSON: options };\n    }\n    const { optionsJSON, useBrowserAutofill = false, verifyBrowserAutofillInput = true, } = options;\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    // We need to avoid passing empty array to avoid blocking retrieval\n    // of public key\n    let allowCredentials;\n    if (optionsJSON.allowCredentials?.length !== 0) {\n        allowCredentials = optionsJSON.allowCredentials?.map(toPublicKeyCredentialDescriptor);\n    }\n    // We need to convert some values to Uint8Arrays before passing the credentials to the navigator\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        allowCredentials,\n    };\n    // Prepare options for `.get()`\n    const getOptions = {};\n    /**\n     * Set up the page to prompt the user to select a credential for authentication via the browser's\n     * input autofill mechanism.\n     */\n    if (useBrowserAutofill) {\n        if (!(await browserSupportsWebAuthnAutofill())) {\n            throw Error('Browser does not support WebAuthn autofill');\n        }\n        // Check for an <input> with \"webauthn\" in its `autocomplete` attribute\n        const eligibleInputs = document.querySelectorAll(\"input[autocomplete$='webauthn']\");\n        // WebAuthn autofill requires at least one valid input\n        if (eligibleInputs.length < 1 && verifyBrowserAutofillInput) {\n            throw Error('No <input> with \"webauthn\" as the only or last value in its `autocomplete` attribute was detected');\n        }\n        // `CredentialMediationRequirement` doesn't know about \"conditional\" yet as of\n        // typescript@4.6.3\n        getOptions.mediation = 'conditional';\n        // Conditional UI requires an empty allow list\n        publicKey.allowCredentials = [];\n    }\n    // Finalize options\n    getOptions.publicKey = publicKey;\n    // Set up the ability to cancel this request if the user attempts another\n    getOptions.signal = WebAuthnAbortService.createNewAbortSignal();\n    // Wait for the user to complete assertion\n    let credential;\n    try {\n        credential = (await navigator.credentials.get(getOptions));\n    }\n    catch (err) {\n        throw identifyAuthenticationError({ error: err, options: getOptions });\n    }\n    if (!credential) {\n        throw new Error('Authentication was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    let userHandle = undefined;\n    if (response.userHandle) {\n        userHandle = bufferToBase64URLString(response.userHandle);\n    }\n    // Convert values to base64 to make it easier to send back to the server\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            authenticatorData: bufferToBase64URLString(response.authenticatorData),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            signature: bufferToBase64URLString(response.signature),\n            userHandle,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\n","const attachments = ['cross-platform', 'platform'];\n/**\n * If possible coerce a `string` value into a known `AuthenticatorAttachment`\n */\nexport function toAuthenticatorAttachment(attachment) {\n    if (!attachment) {\n        return;\n    }\n    if (attachments.indexOf(attachment) < 0) {\n        return;\n    }\n    return attachment;\n}\n","import { isValidDomain } from './isValidDomain.js';\nimport { WebAuthnError } from './webAuthnError.js';\n/**\n * Attempt to intuit _why_ an error was raised after calling `navigator.credentials.create()`\n */\nexport function identifyRegistrationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 16)\n            return new WebAuthnError({\n                message: 'Registration ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'ConstraintError') {\n        if (publicKey.authenticatorSelection?.requireResidentKey === true) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 4)\n            return new WebAuthnError({\n                message: 'Discoverable credentials were required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT',\n                cause: error,\n            });\n        }\n        else if (\n        // @ts-ignore: `mediation` doesn't yet exist on CredentialCreationOptions but it's possible as of Sept 2024\n        options.mediation === 'conditional' &&\n            publicKey.authenticatorSelection?.userVerification === 'required') {\n            // https://w3c.github.io/webauthn/#sctn-createCredential (Step 22.4)\n            return new WebAuthnError({\n                message: 'User verification was required during automatic registration but it could not be performed',\n                code: 'ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE',\n                cause: error,\n            });\n        }\n        else if (publicKey.authenticatorSelection?.userVerification === 'required') {\n            // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 5)\n            return new WebAuthnError({\n                message: 'User verification was required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'InvalidStateError') {\n        // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 20)\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 3)\n        return new WebAuthnError({\n            message: 'The authenticator was previously registered',\n            code: 'ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotAllowedError') {\n        /**\n         * Pass the error directly through. Platforms are overloading this error beyond what the spec\n         * defines and we don't want to overwrite potentially useful error messages.\n         */\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotSupportedError') {\n        const validPubKeyCredParams = publicKey.pubKeyCredParams.filter((param) => param.type === 'public-key');\n        if (validPubKeyCredParams.length === 0) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 10)\n            return new WebAuthnError({\n                message: 'No entry in pubKeyCredParams was of type \"public-key\"',\n                code: 'ERROR_MALFORMED_PUBKEYCREDPARAMS',\n                cause: error,\n            });\n        }\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 2)\n        return new WebAuthnError({\n            message: 'No available authenticator supported any of the specified pubKeyCredParams algorithms',\n            code: 'ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = globalThis.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 7)\n            return new WebAuthnError({\n                message: `${globalThis.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rp.id !== effectiveDomain) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 8)\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rp.id}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'TypeError') {\n        if (publicKey.user.id.byteLength < 1 || publicKey.user.id.byteLength > 64) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 5)\n            return new WebAuthnError({\n                message: 'User ID was not between 1 and 64 characters',\n                code: 'ERROR_INVALID_USER_ID_LENGTH',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 1)\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 8)\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new credential',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n","/**\n * A simple test to determine if a hostname is a properly-formatted domain name\n *\n * A \"valid domain\" is defined here: https://url.spec.whatwg.org/#valid-domain\n *\n * Regex sourced from here:\n * https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch08s15.html\n */\nexport function isValidDomain(hostname) {\n    return (\n    // Consider localhost valid as well since it's okay wrt Secure Contexts\n    hostname === 'localhost' ||\n        /^([a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}$/i.test(hostname));\n}\n","/**\n * A custom Error used to return a more nuanced error detailing _why_ one of the eight documented\n * errors in the spec was raised after calling `navigator.credentials.create()` or\n * `navigator.credentials.get()`:\n *\n * - `AbortError`\n * - `ConstraintError`\n * - `InvalidStateError`\n * - `NotAllowedError`\n * - `NotSupportedError`\n * - `SecurityError`\n * - `TypeError`\n * - `UnknownError`\n *\n * Error messages were determined through investigation of the spec to determine under which\n * scenarios a given error would be raised.\n */\nexport class WebAuthnError extends Error {\n    constructor({ message, code, cause, name, }) {\n        // @ts-ignore: help Rollup understand that `cause` is okay to set\n        super(message, { cause });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = name ?? cause.name;\n        this.code = code;\n    }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import { browserSupportsWebAuthn } from './browserSupportsWebAuthn.js';\n/**\n * Determine whether the browser can communicate with a built-in authenticator, like\n * Touch ID, Android fingerprint scanner, or Windows Hello.\n *\n * This method will _not_ be able to tell you the name of the platform authenticator.\n */\nexport function platformAuthenticatorIsAvailable() {\n    if (!browserSupportsWebAuthn()) {\n        return new Promise((resolve) => resolve(false));\n    }\n    return PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();\n}\n","/**\n * Convert the given array buffer into a Base64URL-encoded string. Ideal for converting various\n * credential response ArrayBuffers to string for sending back to the server as JSON.\n *\n * Helper method to compliment `base64URLStringToBuffer`\n */\nexport function bufferToBase64URLString(buffer) {\n    const bytes = new Uint8Array(buffer);\n    let str = '';\n    for (const charCode of bytes) {\n        str += String.fromCharCode(charCode);\n    }\n    const base64String = btoa(str);\n    return base64String.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n}\n","/**\n * Determine if the browser is capable of Webauthn\n */\nexport function browserSupportsWebAuthn() {\n    return _browserSupportsWebAuthnInternals.stubThis(globalThis?.PublicKeyCredential !== undefined &&\n        typeof globalThis.PublicKeyCredential === 'function');\n}\n/**\n * Make it possible to stub the return value during testing\n * @ignore Don't include this in docs output\n */\nexport const _browserSupportsWebAuthnInternals = {\n    stubThis: (value) => value,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(3048);\n"],"names":["hasSymbol","webpackQueues","webpackExports","webpackError","resolveQueue","async","_fetch","path","payload","FormData","JSON","stringify","res","fetch","method","credentials","headers","body","status","json","result","message","Error","error","registerCredential","username","displayName","data","authenticatorSelection","userVerification","options","attResp","CMSRouting","generate","unregisterCredential","credId","encodeURIComponent","updateCredential","name","startRegistration","optionsJSON","challenge","console","warn","useAutoRegister","publicKey","user","id","excludeCredentials","map","createOptions","credential","mediation","signal","createNewAbortSignal","navigator","create","err","rawId","response","type","transports","responsePublicKeyAlgorithm","responsePublicKey","responseAuthenticatorData","getTransports","getPublicKeyAlgorithm","warnOnBrokenImplementation","getPublicKey","_publicKey","getAuthenticatorData","attestationObject","clientDataJSON","publicKeyAlgorithm","authenticatorData","clientExtensionResults","getClientExtensionResults","authenticatorAttachment","methodName","cause","base64URLStringToBuffer","base64URLString","base64","replace","padLength","length","padded","padEnd","binary","atob","buffer","ArrayBuffer","bytes","Uint8Array","i","charCodeAt","identifyAuthenticationError","AbortSignal","code","effectiveDomain","globalThis","location","hostname","rpId","WebAuthnAbortService","constructor","Object","defineProperty","this","enumerable","configurable","writable","value","controller","abortError","abort","newController","AbortController","cancelCeremony","undefined","toPublicKeyCredentialDescriptor","descriptor","Translator","CMSAdmin","getTranslator","createPasskeyButtons","document","querySelectorAll","testSigninButton","querySelector","createAuthenticatorButton","webauthnEnabled","getAttribute","googleAuthenticatorEnabled","rename","e","el","target","classList","contains","closest","dataset","newName","isConfirmed","Swal","fire","title","trans","inputLabel","input","inputValue","inputValidator","buttonsStyling","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","customClass","confirmButton","cancelButton","renderCredentials","createInitCmsMessageBox","remove","text","icon","then","alert","list","toggle","creds","cred","createdAt","forEach","button","add","renderAutheticator","hasStepVerificationCode","qrCodeUrl","secret","editAuthenticator","register","html","htmlContainer","createAuthenticator","authenticator","verifyCode","isDenied","inputAttributes","autocomplete","showDenyButton","denyButtonText","denyButton","_code","testSignin","requireUserVerification","asseResp","PublicKeyCredential","isUserVerifyingPlatformAuthenticatorAvailable","isConditionalMediationAvailable","Promise","all","every","r","innerText","addEventListener","browserSupportsWebAuthnAutofill","_browserSupportsWebAuthnAutofillInternals","stubThis","resolve","globalPublicKeyCredential","startAuthentication","useBrowserAutofill","verifyBrowserAutofillInput","allowCredentials","getOptions","get","userHandle","signature","attachments","toAuthenticatorAttachment","attachment","indexOf","identifyRegistrationError","requireResidentKey","pubKeyCredParams","filter","param","rp","byteLength","isValidDomain","test","WebAuthnError","super","t","trustedTypes","s","createPolicy","createHTML","h","Math","random","toFixed","slice","o","n","l","createComment","c","a","Array","isArray","u","Symbol","iterator","d","f","v","_","m","RegExp","p","g","$","y","_$litType$","strings","values","x","T","for","E","A","WeakMap","C","createTreeWalker","P","hasOwnProperty","V","lastIndex","exec","startsWith","push","N","parts","createElement","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","split","index","ctor","H","I","L","k","removeAttribute","tagName","textContent","emptyScript","append","innerHTML","S","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","M","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","R","nextSibling","z","_$AI","_$Cv","_$AH","_$AA","_$AB","isConnected","startNode","endNode","_$AR","O","insertBefore","createTextNode","_$AC","set","_$AP","setConnected","element","fill","String","j","setAttribute","arguments","toggleAttribute","capture","once","passive","removeEventListener","handleEvent","call","host","litHtmlPolyfillSupport","litHtmlVersions","B","renderBefore","_$litPart$","platformAuthenticatorIsAvailable","bufferToBase64URLString","str","charCode","fromCharCode","btoa","browserSupportsWebAuthn","_browserSupportsWebAuthnInternals","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","queue","fn","hasAwait","currentDeps","outerResolve","reject","depQueues","Set","promise","rej","deps","dep","obj","ret","wrapDeps","getResult","fnQueue","q","has","definition","key","prop","prototype"],"sourceRoot":""}