/*! For license information please see 461.a6e3b6db.js.LICENSE.txt */
"use strict";(self.webpackChunkinit_cms_bundle=self.webpackChunkinit_cms_bundle||[]).push([[461],{987(e,t,n){function r(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),o=atob(r),a=new ArrayBuffer(o.length),i=new Uint8Array(a);for(let e=0;e<o.length;e++)i[e]=o.charCodeAt(e);return a}n.d(t,{$:()=>r})},1817(e,t,n){function r(e){const t=new Uint8Array(e);let n="";for(const e of t)n+=String.fromCharCode(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}n.d(t,{l:()=>r})},3115(e,t,n){function r(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}n.d(t,{L:()=>r})},6936(e,t,n){n.d(t,{Y:()=>o});const r=["cross-platform","platform"];function o(e){if(e&&!(r.indexOf(e)<0))return e}},1534(e,t,n){n.d(t,{k:()=>o});var r=n(987);function o(e){const{id:t}=e;return{...e,id:(0,r.$)(t),transports:e.transports}}},4461(e,t,n){function r(){return o.stubThis(void 0!==globalThis?.PublicKeyCredential&&"function"==typeof globalThis.PublicKeyCredential)}n.d(t,{HS:()=>w});const o={stubThis:e=>e};class a extends Error{constructor({message:e,code:t,cause:n,name:r}){super(e,{cause:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=r??n.name,this.code=t}}const i=new class{constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};var s=n(1817),l=n(987);const c={stubThis:e=>e};var u=n(1534),d=n(3115);var h=n(6936);async function w(e){!e.optionsJSON&&e.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});const{optionsJSON:t,useBrowserAutofill:n=!1,verifyBrowserAutofillInput:o=!0}=e;if(!r())throw new Error("WebAuthn is not supported in this browser");let w;0!==t.allowCredentials?.length&&(w=t.allowCredentials?.map(u.k));const p={...t,challenge:(0,l.$)(t.challenge),allowCredentials:w},b={};if(n){if(!await function(){if(!r())return c.stubThis(new Promise(e=>e(!1)));const e=globalThis.PublicKeyCredential;return void 0===e?.isConditionalMediationAvailable?c.stubThis(new Promise(e=>e(!1))):c.stubThis(e.isConditionalMediationAvailable())}())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&o)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');b.mediation="conditional",p.allowCredentials=[]}let f;b.publicKey=p,b.signal=i.createNewAbortSignal();try{f=await navigator.credentials.get(b)}catch(e){throw function({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new a({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new a({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=globalThis.location.hostname;if(!(0,d.L)(t))return new a({message:`${globalThis.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rpId!==t)return new a({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new a({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}({error:e,options:b})}if(!f)throw new Error("Authentication was not completed");const{id:g,rawId:m,response:A,type:E}=f;let R;return A.userHandle&&(R=(0,s.l)(A.userHandle)),{id:g,rawId:(0,s.l)(m),response:{authenticatorData:(0,s.l)(A.authenticatorData),clientDataJSON:(0,s.l)(A.clientDataJSON),signature:(0,s.l)(A.signature),userHandle:R},type:E,clientExtensionResults:f.getClientExtensionResults(),authenticatorAttachment:(0,h.Y)(f.authenticatorAttachment)}}}}]);
//# sourceMappingURL=461.a6e3b6db.js.map